// Generated by Construct 2, the HTML5 game and app creator :: https://www.construct.net
'use strict';var aa,ba,ca,w,da,ga,ha,ia,ja,ka,na,oa,pa,qa,ra,sa,ta,ua,wa,xa,ya,za,U,Aa,Ba,Ca,Da,Ea,W,Fa,Ga,Ia,Ja,Ka,La,Ma,Na,Oa,Qa,Ra,Sa,Ta,Ua,Ya,Za,$a,ab,bb,cb,db,eb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc,ec,fc,gc,hc={},ic={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(d){return d.__proto__}:function(d){return d.constructor.prototype});
(function(){function d(a,c,f,b){this.set(a,c,f,b)}function m(){this.ab=this.$a=this.cb=this.bb=this.jb=this.ib=this.Qa=this.Pa=0}function p(a,c,f,b){a<c?f<b?(t=a<f?a:f,x=c>b?c:b):(t=a<b?a:b,x=c>f?c:f):f<b?(t=c<f?c:f,x=a>b?a:b):(t=c<b?c:b,x=a>f?a:f)}function q(){this.items=this.re=null;this.Si=0;H&&(this.re=new Set);this.ai=[];this.rf=!0}function h(a){O[M++]=a}function r(){this.ea=this.im=this.y=this.Mm=0}function l(a){this.xb=[];this.ck=this.ek=this.fk=this.dk=0;this.Aj(a)}function a(a,c){this.Rm=
a;this.Qm=c;this.cells={}}function b(a,c){this.Rm=a;this.Qm=c;this.cells={}}function e(a,c,f){var b;return C.length?(b=C.pop(),b.Cn=a,b.x=c,b.y=f,b):new aa(a,c,f)}function c(a,c,f){this.Cn=a;this.x=c;this.y=f;this.Kb=new ba}function f(a,c,f){var b;return B.length?(b=B.pop(),b.Cn=a,b.x=c,b.y=f,b):new ca(a,c,f)}function k(a,c,f){this.Cn=a;this.x=c;this.y=f;this.Kb=[];this.vh=!0;this.oe=new ba;this.ji=!1}function g(a,c){return a.Yd-c.Yd}w=function(a){window.console&&window.console.log&&window.console.log(a)};
da=function(a){window.console&&window.console.error&&window.console.error(a)};ga=function(a){return"undefined"===typeof a};ha=function(a){return"number"===typeof a};ia=function(a){return"string"===typeof a};ja=function(a){return 0<a&&0===(a-1&a)};ka=function(a){--a;for(var c=1;32>c;c<<=1)a=a|a>>c;return a+1};na=function(a){return 0>a?-a:a};oa=function(a,c){return a>c?a:c};pa=function(a,c){return a<c?a:c};qa=Math.PI;ra=function(a){return 0<=a?a|0:(a|0)-1};sa=function(a){var c=a|0;return c===a?c:c+
1};ta=function(a,c,f,b,k,g,n,e){var u,y,t,d;a<f?(y=a,u=f):(y=f,u=a);k<n?(d=k,t=n):(d=n,t=k);if(u<d||y>t)return!1;c<b?(y=c,u=b):(y=b,u=c);g<e?(d=g,t=e):(d=e,t=g);if(u<d||y>t)return!1;u=k-a+n-f;y=g-c+e-b;a=f-a;c=b-c;k=n-k;g=e-g;e=na(c*k-g*a);return na(k*y-g*u)>e?!1:na(a*y-c*u)<=e};d.prototype.set=function(a,c,f,b){this.left=a;this.top=c;this.right=f;this.bottom=b};d.prototype.qi=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};d.prototype.width=function(){return this.right-
this.left};d.prototype.height=function(){return this.bottom-this.top};d.prototype.offset=function(a,c){this.left+=a;this.top+=c;this.right+=a;this.bottom+=c;return this};d.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};d.prototype.hy=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};d.prototype.iy=function(a,c,f){return!(a.right+
c<this.left||a.bottom+f<this.top||a.left+c>this.right||a.top+f>this.bottom)};d.prototype.cc=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};d.prototype.wi=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};ua=d;m.prototype.Mg=function(a){this.Pa=a.left;this.Qa=a.top;this.ib=a.right;this.jb=a.top;this.bb=a.right;this.cb=a.bottom;this.$a=a.left;this.ab=a.bottom};m.prototype.nt=function(a,c){if(0===c)this.Mg(a);else{var f=
Math.sin(c),b=Math.cos(c),k=a.left*f,g=a.top*f,n=a.right*f,f=a.bottom*f,e=a.left*b,u=a.top*b,y=a.right*b,b=a.bottom*b;this.Pa=e-g;this.Qa=u+k;this.ib=y-g;this.jb=u+n;this.bb=y-f;this.cb=b+n;this.$a=e-f;this.ab=b+k}};m.prototype.offset=function(a,c){this.Pa+=a;this.Qa+=c;this.ib+=a;this.jb+=c;this.bb+=a;this.cb+=c;this.$a+=a;this.ab+=c;return this};var t=0,x=0;m.prototype.tq=function(a){p(this.Pa,this.ib,this.bb,this.$a);a.left=t;a.right=x;p(this.Qa,this.jb,this.cb,this.ab);a.top=t;a.bottom=x};m.prototype.cc=
function(a,c){var f=this.Pa,b=this.Qa,k=this.ib-f,g=this.jb-b,n=this.bb-f,e=this.cb-b,u=a-f,y=c-b,t=k*k+g*g,d=k*n+g*e,g=k*u+g*y,v=n*n+e*e,x=n*u+e*y,l=1/(t*v-d*d),k=(v*g-d*x)*l,t=(t*x-d*g)*l;if(0<=k&&0<t&&1>k+t)return!0;k=this.$a-f;g=this.ab-b;t=k*k+g*g;d=k*n+g*e;g=k*u+g*y;l=1/(t*v-d*d);k=(v*g-d*x)*l;t=(t*x-d*g)*l;return 0<=k&&0<t&&1>k+t};m.prototype.pf=function(a,c){if(c)switch(a){case 0:return this.Pa;case 1:return this.ib;case 2:return this.bb;case 3:return this.$a;case 4:return this.Pa;default:return this.Pa}else switch(a){case 0:return this.Qa;
case 1:return this.jb;case 2:return this.cb;case 3:return this.ab;case 4:return this.Qa;default:return this.Qa}};m.prototype.es=function(){return(this.Pa+this.ib+this.bb+this.$a)/4};m.prototype.gs=function(){return(this.Qa+this.jb+this.cb+this.ab)/4};m.prototype.jr=function(a){var c=a.es(),f=a.gs();if(this.cc(c,f))return!0;c=this.es();f=this.gs();if(a.cc(c,f))return!0;var b,k,g,n,e,u,y,t;for(y=0;4>y;y++)for(t=0;4>t;t++)if(c=this.pf(y,!0),f=this.pf(y,!1),b=this.pf(y+1,!0),k=this.pf(y+1,!1),g=a.pf(t,
!0),n=a.pf(t,!1),e=a.pf(t+1,!0),u=a.pf(t+1,!1),ta(c,f,b,k,g,n,e,u))return!0;return!1};wa=m;xa=function(a,c){for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);return a};ya=function(a,c){var f,b;c=ra(c);if(!(0>c||c>=a.length)){f=c;for(b=a.length-1;f<b;f++)a[f]=a[f+1];za(a,b)}};za=function(a,c){a.length=c};U=function(a){za(a,0)};Aa=function(a,c){U(a);var f,b;f=0;for(b=c.length;f<b;++f)a[f]=c[f]};Ba=function(a,c){a.push.apply(a,c)};Ca=function(a,c){var f,b;f=0;for(b=a.length;f<b;++f)if(a[f]===c)return f;
return-1};Da=function(a,c){var f=Ca(a,c);-1!==f&&ya(a,f)};Ea=function(a,c,f){return a<c?c:a>f?f:a};W=function(a){return a/(180/qa)};Fa=function(a){return 180/qa*a};Ga=function(a){a%=360;0>a&&(a+=360);return a};Ia=function(a){a%=2*qa;0>a&&(a+=2*qa);return a};Ja=function(a){return Ga(Fa(a))};Ka=function(a){return Ia(W(a))};La=function(a,c,f,b){return Math.atan2(b-c,f-a)};Ma=function(a,c){if(a===c)return 0;var f=Math.sin(a),b=Math.cos(a),k=Math.sin(c),g=Math.cos(c),f=f*k+b*g;return 1<=f?0:-1>=f?qa:Math.acos(f)};
Na=function(a,c,f){var b=Math.sin(a),k=Math.cos(a),g=Math.sin(c),n=Math.cos(c);return Math.acos(b*g+k*n)>f?0<k*g-b*n?Ia(a+f):Ia(a-f):Ia(c)};Oa=function(a,c){var f=Math.sin(a),b=Math.cos(a),k=Math.sin(c),g=Math.cos(c);return 0>=b*k-f*g};Qa=function(a,c,f,b,k,g){if(0===f)return g?a:c;var n=Math.sin(f);f=Math.cos(f);a-=b;c-=k;var e=a*n;a=a*f-c*n;c=c*f+e;return g?a+b:c+k};Ra=function(a,c,f,b){a=f-a;c=b-c;return Math.sqrt(a*a+c*c)};Sa=function(a,c){return!a!==!c};Ta=function(a){for(var c in a)if(a.hasOwnProperty(c))return!0;
return!1};Ua=function(a){for(var c in a)a.hasOwnProperty(c)&&delete a[c]};var z=+new Date;Ya=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-z};var n=!1,v=n=!1,D=!1;"undefined"!==typeof window&&(n=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),
n=!n&&/safari/i.test(navigator.userAgent),v=/(iphone|ipod|ipad)/i.test(navigator.userAgent),D=window.c2ejecta);var H=!n&&!D&&!v&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;q.prototype.contains=function(a){return this.Oe()?!1:H?this.re.has(a):this.items&&this.items.hasOwnProperty(a)};q.prototype.add=function(a){if(H)this.re.has(a)||(this.re.add(a),this.rf=!1);else{var c=a.toString(),f=this.items;f?f.hasOwnProperty(c)||(f[c]=a,this.Si++,this.rf=!1):(this.items={},this.items[c]=
a,this.Si=1,this.rf=!1)}};q.prototype.remove=function(a){if(!this.Oe())if(H)this.re.has(a)&&(this.re["delete"](a),this.rf=!1);else if(this.items){a=a.toString();var c=this.items;c.hasOwnProperty(a)&&(delete c[a],this.Si--,this.rf=!1)}};q.prototype.clear=function(){this.Oe()||(H?this.re.clear():(this.items=null,this.Si=0),U(this.ai),this.rf=!0)};q.prototype.Oe=function(){return 0===this.count()};q.prototype.count=function(){return H?this.re.size:this.Si};var O=null,M=0;q.prototype.Fz=function(){if(!this.rf){if(H)U(this.ai),
O=this.ai,M=0,this.re.forEach(h),O=null,M=0;else{var a=this.ai;U(a);var c,f=0,b=this.items;if(b)for(c in b)b.hasOwnProperty(c)&&(a[f++]=b[c])}this.rf=!0}};q.prototype.xe=function(){this.Fz();return this.ai};ba=q;var J=new ba;Za=function(a){var c,f;c=0;for(f=a.length;c<f;++c)J.add(a[c]);Aa(a,J.xe());J.clear()};$a=function(a,c){H?ab(a,c.re):bb(a,c.xe())};ab=function(a,c){var f,b,k,g;b=f=0;for(k=a.length;f<k;++f)g=a[f],c.has(g)||(a[b++]=g);za(a,b)};bb=function(a,c){var f,b,k,g;b=f=0;for(k=a.length;f<
k;++f)g=a[f],-1===Ca(c,g)&&(a[b++]=g);za(a,b)};r.prototype.add=function(a){this.y=a-this.Mm;this.im=this.ea+this.y;this.Mm=this.im-this.ea-this.y;this.ea=this.im};r.prototype.reset=function(){this.ea=this.im=this.y=this.Mm=0};cb=r;db=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};l.prototype.Aj=function(a){this.Vs=a;this.ud=a.length/2;this.xb.length=a.length;this.hk=this.ik=-1;this.wq=0};l.prototype.Cf=function(){return!this.Vs.length};l.prototype.Z=function(){for(var a=this.xb,
c=a[0],f=c,b=a[1],k=b,g,n,e=1,u=this.ud;e<u;++e)n=2*e,g=a[n],n=a[n+1],g<c&&(c=g),g>f&&(f=g),n<b&&(b=n),n>k&&(k=n);this.dk=c;this.ek=f;this.fk=b;this.ck=k};l.prototype.Mg=function(a,c,f){this.xb.length=8;this.ud=4;var b=this.xb;b[0]=a.left-c;b[1]=a.top-f;b[2]=a.right-c;b[3]=a.top-f;b[4]=a.right-c;b[5]=a.bottom-f;b[6]=a.left-c;b[7]=a.bottom-f;this.ik=a.right-a.left;this.hk=a.bottom-a.top;this.Z()};l.prototype.Uf=function(a,c,f,b,k){this.xb.length=8;this.ud=4;var g=this.xb;g[0]=a.Pa-c;g[1]=a.Qa-f;g[2]=
a.ib-c;g[3]=a.jb-f;g[4]=a.bb-c;g[5]=a.cb-f;g[6]=a.$a-c;g[7]=a.ab-f;this.ik=b;this.hk=k;this.Z()};l.prototype.mt=function(a){this.ud=a.ud;Aa(this.xb,a.xb);this.dk=a.dk;this.fk=a.fk;this.ek=a.ek;this.ck=a.ck};l.prototype.qf=function(a,c,f){if(this.ik!==a||this.hk!==c||this.wq!==f){this.ik=a;this.hk=c;this.wq=f;var b,g,k,n,e,u=0,y=1,t=this.Vs,d=this.xb;0!==f&&(u=Math.sin(f),y=Math.cos(f));f=0;for(k=this.ud;f<k;f++)b=2*f,g=b+1,n=t[b]*a,e=t[g]*c,d[b]=n*y-e*u,d[g]=e*y+n*u;this.Z()}};l.prototype.cc=function(a,
c){var f=this.xb;if(a===f[0]&&c===f[1])return!0;var b,g,k,n=this.ud,e=this.dk-110,u=this.fk-101,y=this.ek+131,t=this.ck+120,d,v,x=0,l=0;for(b=0;b<n;b++)g=2*b,k=(b+1)%n*2,d=f[g],g=f[g+1],v=f[k],k=f[k+1],ta(e,u,a,c,d,g,v,k)&&x++,ta(y,t,a,c,d,g,v,k)&&l++;return 1===x%2||1===l%2};l.prototype.Ki=function(a,c,f){var b=a.xb,g=this.xb;if(this.cc(b[0]+c,b[1]+f)||a.cc(g[0]-c,g[1]-f))return!0;var k,n,e,u,y,t,d,v,x,l,z,h;k=0;for(u=this.ud;k<u;k++)for(n=2*k,e=(k+1)%u*2,v=g[n],n=g[n+1],x=g[e],l=g[e+1],e=0,d=a.ud;e<
d;e++)if(y=2*e,t=(e+1)%d*2,z=b[y]+c,y=b[y+1]+f,h=b[t]+c,t=b[t+1]+f,ta(v,n,x,l,z,y,h,t))return!0;return!1};eb=l;a.prototype.zf=function(a,c,f){var b;b=this.cells[a];return b?(b=b[c])?b:f?(b=e(this,a,c),this.cells[a][c]=b):null:f?(b=e(this,a,c),this.cells[a]={},this.cells[a][c]=b):null};a.prototype.yc=function(a){return ra(a/this.Rm)};a.prototype.zc=function(a){return ra(a/this.Qm)};a.prototype.update=function(a,c,f){var b,g,k,n,e;if(c)for(b=c.left,g=c.right;b<=g;++b)for(k=c.top,n=c.bottom;k<=n;++k)if(!f||
!f.cc(b,k))if(e=this.zf(b,k,!1))e.remove(a),e.Oe()&&(e.Kb.clear(),1E3>C.length&&C.push(e),this.cells[b][k]=null);if(f)for(b=f.left,g=f.right;b<=g;++b)for(k=f.top,n=f.bottom;k<=n;++k)c&&c.cc(b,k)||this.zf(b,k,!0).Ln(a)};a.prototype.Rl=function(a,c){var f,b,k,g,n,e;f=this.yc(a.left);k=this.zc(a.top);b=this.yc(a.right);for(n=this.zc(a.bottom);f<=b;++f)for(g=k;g<=n;++g)(e=this.zf(f,g,!1))&&e.dump(c)};hb=a;b.prototype.zf=function(a,c,b){var g;g=this.cells[a];return g?(g=g[c])?g:b?(g=f(this,a,c),this.cells[a][c]=
g):null:b?(g=f(this,a,c),this.cells[a]={},this.cells[a][c]=g):null};b.prototype.yc=function(a){return ra(a/this.Rm)};b.prototype.zc=function(a){return ra(a/this.Qm)};b.prototype.update=function(a,c,f){var b,g,k,n,e;if(c)for(b=c.left,g=c.right;b<=g;++b)for(k=c.top,n=c.bottom;k<=n;++k)if(!f||!f.cc(b,k))if(e=this.zf(b,k,!1))e.remove(a),e.Oe()&&(e.reset(),1E3>B.length&&B.push(e),this.cells[b][k]=null);if(f)for(b=f.left,g=f.right;b<=g;++b)for(k=f.top,n=f.bottom;k<=n;++k)c&&c.cc(b,k)||this.zf(b,k,!0).Ln(a)};
b.prototype.Rl=function(a,c,f,b,g){var k,n;a=this.yc(a);c=this.zc(c);f=this.yc(f);for(k=this.zc(b);a<=f;++a)for(b=c;b<=k;++b)(n=this.zf(a,b,!1))&&n.dump(g)};b.prototype.yy=function(a){var c,f,b,g,k;c=a.left;b=a.top;f=a.right;for(g=a.bottom;c<=f;++c)for(a=b;a<=g;++a)if(k=this.zf(c,a,!1))k.vh=!1};ib=b;var C=[];c.prototype.Oe=function(){return this.Kb.Oe()};c.prototype.Ln=function(a){this.Kb.add(a)};c.prototype.remove=function(a){this.Kb.remove(a)};c.prototype.dump=function(a){Ba(a,this.Kb.xe())};aa=
c;var B=[];k.prototype.Oe=function(){if(!this.Kb.length)return!0;if(this.Kb.length>this.oe.count())return!1;this.mn();return!0};k.prototype.Ln=function(a){this.oe.contains(a)?(this.oe.remove(a),this.oe.Oe()&&(this.ji=!1)):this.Kb.length?(this.Kb[this.Kb.length-1].fe()>a.fe()&&(this.vh=!1),this.Kb.push(a)):(this.Kb.push(a),this.vh=!0)};k.prototype.remove=function(a){this.oe.add(a);this.ji=!0;30<=this.oe.count()&&this.mn()};k.prototype.mn=function(){this.ji&&(this.oe.count()===this.Kb.length?this.reset():
($a(this.Kb,this.oe),this.oe.clear(),this.ji=!1))};k.prototype.Iw=function(){this.vh||(this.Kb.sort(g),this.vh=!0)};k.prototype.reset=function(){U(this.Kb);this.vh=!0;this.oe.clear();this.ji=!1};k.prototype.dump=function(a){this.mn();this.Iw();this.Kb.length&&a.push(this.Kb)};ca=k;var L="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");jb=function(a){return 0>=a||11<=a?"source-over":L[a-1]};kb=function(a,c,f){if(f)switch(a.Wb=
f.ONE,a.Ob=f.ONE_MINUS_SRC_ALPHA,c){case 1:a.Wb=f.ONE;a.Ob=f.ONE;break;case 3:a.Wb=f.ONE;a.Ob=f.ZERO;break;case 4:a.Wb=f.ONE_MINUS_DST_ALPHA;a.Ob=f.ONE;break;case 5:a.Wb=f.DST_ALPHA;a.Ob=f.ZERO;break;case 6:a.Wb=f.ZERO;a.Ob=f.SRC_ALPHA;break;case 7:a.Wb=f.ONE_MINUS_DST_ALPHA;a.Ob=f.ZERO;break;case 8:a.Wb=f.ZERO;a.Ob=f.ONE_MINUS_SRC_ALPHA;break;case 9:a.Wb=f.DST_ALPHA;a.Ob=f.ONE_MINUS_SRC_ALPHA;break;case 10:a.Wb=f.ONE_MINUS_DST_ALPHA,a.Ob=f.SRC_ALPHA}};lb=function(a){return Math.round(1E6*a)/1E6};
mb=function(a,c){return"string"!==typeof a||"string"!==typeof c||a.length!==c.length?!1:a===c?!0:a.toLowerCase()===c.toLowerCase()};nb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||mb(a.tagName,"canvas")?!0:!1}})();var jc="undefined"!==typeof Float32Array?Float32Array:Array;function kc(d){var m=new jc(3);d&&(m[0]=d[0],m[1]=d[1],m[2]=d[2]);return m}
function lc(d){var m=new jc(16);d&&(m[0]=d[0],m[1]=d[1],m[2]=d[2],m[3]=d[3],m[4]=d[4],m[5]=d[5],m[6]=d[6],m[7]=d[7],m[8]=d[8],m[9]=d[9],m[10]=d[10],m[11]=d[11],m[12]=d[12],m[13]=d[13],m[14]=d[14],m[15]=d[15]);return m}function mc(d,m){m[0]=d[0];m[1]=d[1];m[2]=d[2];m[3]=d[3];m[4]=d[4];m[5]=d[5];m[6]=d[6];m[7]=d[7];m[8]=d[8];m[9]=d[9];m[10]=d[10];m[11]=d[11];m[12]=d[12];m[13]=d[13];m[14]=d[14];m[15]=d[15]}
function nc(d,m){var p=m[0],q=m[1];m=m[2];d[0]*=p;d[1]*=p;d[2]*=p;d[3]*=p;d[4]*=q;d[5]*=q;d[6]*=q;d[7]*=q;d[8]*=m;d[9]*=m;d[10]*=m;d[11]*=m}
function oc(d,m,p,q){q||(q=lc());var h,r,l,a,b,e,c,f,k=d[0],g=d[1];d=d[2];r=p[0];l=p[1];h=p[2];p=m[1];e=m[2];k===m[0]&&g===p&&d===e?(d=q,d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1):(p=k-m[0],e=g-m[1],c=d-m[2],f=1/Math.sqrt(p*p+e*e+c*c),p*=f,e*=f,c*=f,m=l*c-h*e,h=h*p-r*c,r=r*e-l*p,(f=Math.sqrt(m*m+h*h+r*r))?(f=1/f,m*=f,h*=f,r*=f):r=h=m=0,l=e*r-c*h,a=c*m-p*r,b=p*h-e*m,(f=Math.sqrt(l*l+a*a+b*b))?(f=1/f,l*=f,a*=f,b*=f):b=a=l=0,
q[0]=m,q[1]=l,q[2]=p,q[3]=0,q[4]=h,q[5]=a,q[6]=e,q[7]=0,q[8]=r,q[9]=b,q[10]=c,q[11]=0,q[12]=-(m*k+h*g+r*d),q[13]=-(l*k+a*g+b*d),q[14]=-(p*k+e*g+c*d),q[15]=1)}
(function(){function d(a,b,e){this.he=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Ha=!!e;this.Xk=this.Li=!1;this.uk=0;this.ym=1;this.Gp=1E3;this.Mz=(this.Gp-this.ym)/32768;this.Om=kc([0,0,100]);this.Nr=kc([0,0,0]);this.Mt=kc([0,1,0]);this.Uj=kc([1,1,1]);this.Gq=!0;this.ul=lc();this.ed=lc();this.ao=lc();this.$m=lc();this.F=a;this.version=0===this.F.getParameter(this.F.VERSION).indexOf("WebGL 2")?2:1;this.fr()}function m(a,b,e){this.F=a;this.Bj=
b;this.name=e;this.sd=a.getAttribLocation(b,"aPos");this.Lf=a.getAttribLocation(b,"aTex");this.Lr=a.getUniformLocation(b,"matP");this.ql=a.getUniformLocation(b,"matMV");this.Fh=a.getUniformLocation(b,"opacity");this.mo=a.getUniformLocation(b,"colorFill");this.Mr=a.getUniformLocation(b,"samplerFront");this.bj=a.getUniformLocation(b,"samplerBack");this.Gg=a.getUniformLocation(b,"destStart");this.Fg=a.getUniformLocation(b,"destEnd");this.ej=a.getUniformLocation(b,"seconds");this.oo=a.getUniformLocation(b,
"pixelWidth");this.no=a.getUniformLocation(b,"pixelHeight");this.aj=a.getUniformLocation(b,"layerScale");this.$i=a.getUniformLocation(b,"layerAngle");this.fj=a.getUniformLocation(b,"viewOrigin");this.cj=a.getUniformLocation(b,"scrollPos");this.by=!!(this.oo||this.no||this.ej||this.bj||this.Gg||this.Fg||this.aj||this.$i||this.fj||this.cj);this.Vr=this.Wr=-999;this.tl=1;this.Rr=this.Qr=0;this.Tr=this.Pr=this.Or=1;this.Zr=this.Yr=this.Xr=this.as=this.$r=this.Sr=0;this.Zn=[];this.Ur=lc();this.Fh&&a.uniform1f(this.Fh,
1);this.mo&&a.uniform4f(this.mo,1,1,1,1);this.Mr&&a.uniform1i(this.Mr,0);this.bj&&a.uniform1i(this.bj,1);this.Gg&&a.uniform2f(this.Gg,0,0);this.Fg&&a.uniform2f(this.Fg,1,1);this.aj&&a.uniform1f(this.aj,1);this.$i&&a.uniform1f(this.$i,0);this.fj&&a.uniform2f(this.fj,0,0);this.cj&&a.uniform2f(this.cj,0,0);this.ej&&a.uniform1f(this.ej,0);this.ug=!1}function p(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&
a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function q(a,b){this.type=a;this.A=b;this.F=b.F;this.ad=this.kc=this.Fs=0;this.ca=this.zd=null;this.ot=[]}var h=lc();d.prototype.fr=function(){var a=this.F,b;this.Ar=1;this.Ag=this.Gf=null;this.tk=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.Ha?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):
a.disable(a.DEPTH_TEST);this.Dr=a.ONE;this.tr=a.ONE_MINUS_SRC_ALPHA;this.Sj=new Float32Array(8E3*(this.Ha?3:2));this.Lj=new Float32Array(16E3);this.Qs=new Float32Array(32E3);this.Io=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Io);a.bufferData(a.ARRAY_BUFFER,this.Qs.byteLength,a.DYNAMIC_DRAW);this.Rj=Array(4);this.Kj=Array(4);for(b=0;4>b;b++)this.Rj[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Rj[b]),a.bufferData(a.ARRAY_BUFFER,this.Sj.byteLength,a.DYNAMIC_DRAW),this.Kj[b]=a.createBuffer(),
a.bindBuffer(a.ARRAY_BUFFER,this.Kj[b]),a.bufferData(a.ARRAY_BUFFER,this.Lj.byteLength,a.DYNAMIC_DRAW);this.De=0;this.fy=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.fy);for(var e=new Uint16Array(12E3),c=b=0;12E3>b;)e[b++]=c,e[b++]=c+1,e[b++]=c+2,e[b++]=c,e[b++]=c+2,e[b++]=c+3,c+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,e,a.STATIC_DRAW);this.Jo=this.Xf=this.Bd=0;this.hb=[];b=this.Ha?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";e=this.ri({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},b,"<default>");this.hb.push(e);e=this.ri({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.hb.push(e);e=this.ri({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},b,"<earlyz>");this.hb.push(e);e=this.ri({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
b,"<fill>");this.hb.push(e);for(var f in pc)pc.hasOwnProperty(f)&&this.hb.push(this.ri(pc[f],b,f));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.$d=[];this.Hd=0;this.Ib=!1;this.Dq=this.Wi=-1;this.dh=null;this.kn=a.createFramebuffer();this.yk=this.Sl=null;this.rq=!1;this.Ha&&(this.yk=a.createRenderbuffer());this.Zf=kc([0,0,0]);this.bs=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.bs&&(this.bs=2048);this.Kc(0)};m.prototype.wp=function(a){p(this.Ur,a)||(mc(a,this.Ur),this.F.uniformMatrix4fv(this.ql,
!1,a))};d.prototype.ri=function(a,b,e){var c=this.F,f=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(f,a.src);c.compileShader(f);if(!c.getShaderParameter(f,c.COMPILE_STATUS))throw a=c.getShaderInfoLog(f),c.deleteShader(f),Error("error compiling fragment shader: "+a);var k=c.createShader(c.VERTEX_SHADER);c.shaderSource(k,b);c.compileShader(k);if(!c.getShaderParameter(k,c.COMPILE_STATUS))throw a=c.getShaderInfoLog(k),c.deleteShader(f),c.deleteShader(k),Error("error compiling vertex shader: "+a);b=
c.createProgram();c.attachShader(b,f);c.attachShader(b,k);c.linkProgram(b);if(!c.getProgramParameter(b,c.LINK_STATUS))throw a=c.getProgramInfoLog(b),c.deleteShader(f),c.deleteShader(k),c.deleteProgram(b),Error("error linking shader program: "+a);c.useProgram(b);c.deleteShader(f);c.deleteShader(k);f=new m(c,b,e);f.oc=a.oc||0;f.pc=a.pc||0;f.Bc=!!a.Bc;f.Xa=!!a.Xa;f.Ac=!!a.Ac;f.L=a.L||[];a=0;for(k=f.L.length;a<k;a++)f.L[a][1]=c.getUniformLocation(b,f.L[a][0]),f.Zn.push(0),c.uniform1f(f.L[a][1],0);return f};
d.prototype.zn=function(a){var b,e;b=0;for(e=this.hb.length;b<e;b++)if(this.hb[b].name===a)return b;return-1};d.prototype.Us=function(a,b,e){var c=this.ed,f=this.ul,k=[0,0,0,0,0,0,0,0];k[0]=c[0]*a+c[4]*b+c[12];k[1]=c[1]*a+c[5]*b+c[13];k[2]=c[2]*a+c[6]*b+c[14];k[3]=c[3]*a+c[7]*b+c[15];k[4]=f[0]*k[0]+f[4]*k[1]+f[8]*k[2]+f[12]*k[3];k[5]=f[1]*k[0]+f[5]*k[1]+f[9]*k[2]+f[13]*k[3];k[6]=f[2]*k[0]+f[6]*k[1]+f[10]*k[2]+f[14]*k[3];k[7]=-k[2];0!==k[7]&&(k[7]=1/k[7],k[4]*=k[7],k[5]*=k[7],k[6]*=k[7],e[0]=(.5*k[4]+
.5)*this.width,e[1]=(.5*k[5]+.5)*this.height)};d.prototype.Lg=function(a,b,e){if(this.width!==a||this.height!==b||e){this.He();e=this.F;this.width=a;this.height=b;e.viewport(0,0,a,b);oc(this.Om,this.Nr,this.Mt,this.ed);if(this.Ha){var c=-a/2;a=a/2;var f=b/2;b=-b/2;var k=this.ym,g=this.Gp,t=this.ul;t||(t=lc());var d=a-c,l=b-f,n=g-k;t[0]=2/d;t[1]=0;t[2]=0;t[3]=0;t[4]=0;t[5]=2/l;t[6]=0;t[7]=0;t[8]=0;t[9]=0;t[10]=-2/n;t[11]=0;t[12]=-(c+a)/d;t[13]=-(b+f)/l;t[14]=-(g+k)/n;t[15]=1;this.Uj[0]=1;this.Uj[1]=
1}else b=a/b,c=this.ym,a=this.Gp,t=this.ul,g=c*Math.tan(45*Math.PI/360),b*=g,f=-b,k=-g,t||(t=lc()),d=b-f,l=g-k,n=a-c,t[0]=2*c/d,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*c/l,t[6]=0,t[7]=0,t[8]=(b+f)/d,t[9]=(g+k)/l,t[10]=-(a+c)/n,t[11]=-1,t[12]=0,t[13]=0,t[14]=-(a*c*2)/n,t[15]=0,c=[0,0],a=[0,0],this.Us(0,0,c),this.Us(1,1,a),this.Uj[0]=1/(a[0]-c[0]),this.Uj[1]=-1/(a[1]-c[1]);c=0;for(a=this.hb.length;c<a;c++)f=this.hb[c],f.ug=!1,f.Lr&&(e.useProgram(f.Bj),e.uniformMatrix4fv(f.Lr,!1,this.ul));e.useProgram(this.hb[this.Wi].Bj);
e.bindTexture(e.TEXTURE_2D,null);e.activeTexture(e.TEXTURE1);e.bindTexture(e.TEXTURE_2D,null);e.activeTexture(e.TEXTURE0);this.Ag=this.Gf=null;this.yk&&(e.bindFramebuffer(e.FRAMEBUFFER,this.kn),e.bindRenderbuffer(e.RENDERBUFFER,this.yk),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,this.width,this.height),this.rq||(e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this.yk),this.rq=!0),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),
this.Sl=null)}};d.prototype.vd=function(){oc(this.Om,this.Nr,this.Mt,this.ed);nc(this.ed,this.Uj)};d.prototype.translate=function(a,b){if(0!==a||0!==b){this.Zf[0]=a;this.Zf[1]=b;this.Zf[2]=0;var e=this.ed,c=this.Zf,f=c[0],k=c[1],c=c[2];e[12]=e[0]*f+e[4]*k+e[8]*c+e[12];e[13]=e[1]*f+e[5]*k+e[9]*c+e[13];e[14]=e[2]*f+e[6]*k+e[10]*c+e[14];e[15]=e[3]*f+e[7]*k+e[11]*c+e[15]}};d.prototype.scale=function(a,b){if(1!==a||1!==b)this.Zf[0]=a,this.Zf[1]=b,this.Zf[2]=1,nc(this.ed,this.Zf)};d.prototype.Ul=function(a){if(0!==
a){var b=this.ed,e,c=Math.sin(a);a=Math.cos(a);var f=b[0],k=b[1],g=b[2],t=b[3],d=b[4],l=b[5],n=b[6],v=b[7];e?b!==e&&(e[8]=b[8],e[9]=b[9],e[10]=b[10],e[11]=b[11],e[12]=b[12],e[13]=b[13],e[14]=b[14],e[15]=b[15]):e=b;e[0]=f*a+d*c;e[1]=k*a+l*c;e[2]=g*a+n*c;e[3]=t*a+v*c;e[4]=f*-c+d*a;e[5]=k*-c+l*a;e[6]=g*-c+n*a;e[7]=t*-c+v*a}};d.prototype.ld=function(){if(!p(this.ao,this.ed)){var a=this.Fc();a.type=5;a.ca?mc(this.ed,a.ca):a.ca=lc(this.ed);mc(this.ed,this.ao);this.Ib=!1}};d.prototype.Xl=function(a){this.Ha&&
(32760<a&&(a=32760),this.uk=this.Om[2]-this.ym-a*this.Mz)};q.prototype.rw=function(){var a=this.F,b=this.A;0!==this.kc?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,b.kn),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.Xk=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.Xk=!1)};q.prototype.ww=function(){this.F.bindTexture(this.F.TEXTURE_2D,
this.zd)};q.prototype.xw=function(){var a=this.F;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.zd);a.activeTexture(a.TEXTURE0)};q.prototype.sw=function(){var a=this.Fs,b=this.A;b.tk=a;b=b.dh;b.Fh&&b.tl!==a&&(b.tl=a,this.F.uniform1f(b.Fh,a))};q.prototype.lw=function(){this.F.drawElements(this.F.TRIANGLES,this.ad,this.F.UNSIGNED_SHORT,this.kc)};q.prototype.ow=function(){this.F.blendFunc(this.kc,this.ad)};q.prototype.yw=function(){var a,b,e,c=this.A.hb,f=this.A.Dq;a=0;for(b=c.length;a<
b;a++)e=c[a],a===f&&e.ql?(e.wp(this.ca),e.ug=!0):e.ug=!1;mc(this.ca,this.A.$m)};q.prototype.mw=function(){var a=this.F,b=this.A;this.zd?(b.Ag===this.zd&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.Ag=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.kn),b.Xk||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.zd,0)):(b.Ha||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};
q.prototype.iw=function(){var a=this.F,b=this.kc;0===b?(a.clearColor(this.ca[0],this.ca[1],this.ca[2],this.ca[3]),a.clear(a.COLOR_BUFFER_BIT)):1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.ca[0],this.ca[1],this.ca[2],this.ca[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};q.prototype.qw=function(){var a=this.F;0!==this.kc?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};q.prototype.kw=function(){var a=this.F,b=this.A;b.Ha&&a.disable(a.DEPTH_TEST);
var e=b.hb[1];a.useProgram(e.Bj);!e.ug&&e.ql&&(e.wp(b.$m),e.ug=!0);a.enableVertexAttribArray(e.sd);a.bindBuffer(a.ARRAY_BUFFER,b.Io);a.vertexAttribPointer(e.sd,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.kc/4,this.ad);e=b.dh;a.useProgram(e.Bj);0<=e.sd&&(a.enableVertexAttribArray(e.sd),a.bindBuffer(a.ARRAY_BUFFER,b.Rj[b.De]),a.vertexAttribPointer(e.sd,b.Ha?3:2,a.FLOAT,!1,0,0));0<=e.Lf&&(a.enableVertexAttribArray(e.Lf),a.bindBuffer(a.ARRAY_BUFFER,b.Kj[b.De]),a.vertexAttribPointer(e.Lf,2,a.FLOAT,!1,
0,0));b.Ha&&a.enable(a.DEPTH_TEST)};q.prototype.uw=function(){var a=this.F,b=this.A,e=b.hb[this.kc];b.Dq=this.kc;b.dh=e;a.useProgram(e.Bj);!e.ug&&e.ql&&(e.wp(b.$m),e.ug=!0);e.Fh&&e.tl!==b.tk&&(e.tl=b.tk,a.uniform1f(e.Fh,b.tk));0<=e.sd&&(a.enableVertexAttribArray(e.sd),a.bindBuffer(a.ARRAY_BUFFER,b.Rj[b.De]),a.vertexAttribPointer(e.sd,b.Ha?3:2,a.FLOAT,!1,0,0));0<=e.Lf&&(a.enableVertexAttribArray(e.Lf),a.bindBuffer(a.ARRAY_BUFFER,b.Kj[b.De]),a.vertexAttribPointer(e.Lf,2,a.FLOAT,!1,0,0))};q.prototype.pw=
function(){var a=this.ca;this.F.uniform4f(this.A.dh.mo,a[0],a[1],a[2],a[3])};q.prototype.vw=function(){var a,b,e=this.A.dh,c=this.F;a=this.ca;e.bj&&this.A.Ag!==this.zd&&(c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,this.zd),this.A.Ag=this.zd,c.activeTexture(c.TEXTURE0));var f=a[0];e.oo&&f!==e.Wr&&(e.Wr=f,c.uniform1f(e.oo,f));f=a[1];e.no&&f!==e.Vr&&(e.Vr=f,c.uniform1f(e.no,f));f=a[2];b=a[3];!e.Gg||f===e.Qr&&b===e.Rr||(e.Qr=f,e.Rr=b,c.uniform2f(e.Gg,f,b));f=a[4];b=a[5];!e.Fg||f===e.Or&&b===
e.Pr||(e.Or=f,e.Pr=b,c.uniform2f(e.Fg,f,b));f=a[6];e.aj&&f!==e.Tr&&(e.Tr=f,c.uniform1f(e.aj,f));f=a[7];e.$i&&f!==e.Sr&&(e.Sr=f,c.uniform1f(e.$i,f));f=a[8];b=a[9];!e.fj||f===e.$r&&b===e.as||(e.$r=f,e.as=b,c.uniform2f(e.fj,f,b));f=a[10];b=a[11];!e.cj||f===e.Xr&&b===e.Yr||(e.Xr=f,e.Yr=b,c.uniform2f(e.cj,f,b));f=a[12];e.ej&&f!==e.Zr&&(e.Zr=f,c.uniform1f(e.ej,f));if(e.L.length)for(a=0,b=e.L.length;a<b;a++)f=this.ot[a],f!==e.Zn[a]&&(e.Zn[a]=f,c.uniform1f(e.L[a][1],f))};d.prototype.Fc=function(){this.Hd===
this.$d.length&&this.$d.push(new q(0,this));return this.$d[this.Hd++]};d.prototype.He=function(){if(0!==this.Hd&&!this.F.isContextLost()){var a=this.F;0<this.Jo&&(a.bindBuffer(a.ARRAY_BUFFER,this.Io),a.bufferSubData(a.ARRAY_BUFFER,0,this.Qs.subarray(0,this.Jo)),b&&0<=b.sd&&"<point>"===b.name&&a.vertexAttribPointer(b.sd,4,a.FLOAT,!1,0,0));if(0<this.Bd){var b=this.dh;a.bindBuffer(a.ARRAY_BUFFER,this.Rj[this.De]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Sj.subarray(0,this.Bd));b&&0<=b.sd&&"<point>"!==b.name&&
a.vertexAttribPointer(b.sd,this.Ha?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Kj[this.De]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Lj.subarray(0,this.Xf));b&&0<=b.Lf&&"<point>"!==b.name&&a.vertexAttribPointer(b.Lf,2,a.FLOAT,!1,0,0)}for(var e,a=0,b=this.Hd;a<b;a++)switch(e=this.$d[a],e.type){case 1:e.lw();break;case 2:e.ww();break;case 3:e.sw();break;case 4:e.ow();break;case 5:e.yw();break;case 6:e.mw();break;case 7:e.iw();break;case 8:e.kw();break;case 9:e.uw();break;case 10:e.vw();break;
case 11:e.xw();break;case 12:e.pw();break;case 13:e.qw();break;case 14:e.rw()}this.Jo=this.Xf=this.Bd=this.Hd=0;this.Xk=this.Ib=!1;this.De++;4<=this.De&&(this.De=0)}};d.prototype.te=function(a){if(a!==this.Ar&&!this.Li){var b=this.Fc();b.type=3;this.Ar=b.Fs=a;this.Ib=!1}};d.prototype.gb=function(a){if(a!==this.Gf){var b=this.Fc();b.type=2;this.Gf=b.zd=a;this.Ib=!1}};d.prototype.Ze=function(a,b){if((a!==this.Dr||b!==this.tr)&&!this.Li){var e=this.Fc();e.type=4;e.kc=a;e.ad=b;this.Dr=a;this.tr=b;this.Ib=
!1}};d.prototype.et=function(){this.Ze(this.F.ONE,this.F.ONE_MINUS_SRC_ALPHA)};d.prototype.Xe=function(a,b,e,c,f,k,g,t){15992<=this.Bd&&this.He();var d=this.Bd,l=this.Xf,n=this.Sj,v=this.Lj,h=this.uk;if(this.Ib)this.$d[this.Hd-1].ad+=6;else{var m=this.Fc();m.type=1;m.kc=this.Ha?d:d/2*3;m.ad=6;this.Ib=!0}this.Ha?(n[d++]=a,n[d++]=b,n[d++]=h,n[d++]=e,n[d++]=c,n[d++]=h,n[d++]=f,n[d++]=k,n[d++]=h,n[d++]=g,n[d++]=t,n[d++]=h):(n[d++]=a,n[d++]=b,n[d++]=e,n[d++]=c,n[d++]=f,n[d++]=k,n[d++]=g,n[d++]=t);v[l++]=
0;v[l++]=0;v[l++]=1;v[l++]=0;v[l++]=1;v[l++]=1;v[l++]=0;v[l++]=1;this.Bd=d;this.Xf=l};d.prototype.Sd=function(a,b,e,c,f,k,g,t,d){15992<=this.Bd&&this.He();var l=this.Bd,n=this.Xf,v=this.Sj,h=this.Lj,m=this.uk;if(this.Ib)this.$d[this.Hd-1].ad+=6;else{var p=this.Fc();p.type=1;p.kc=this.Ha?l:l/2*3;p.ad=6;this.Ib=!0}var p=d.left,r=d.top,q=d.right;d=d.bottom;this.Ha?(v[l++]=a,v[l++]=b,v[l++]=m,v[l++]=e,v[l++]=c,v[l++]=m,v[l++]=f,v[l++]=k,v[l++]=m,v[l++]=g,v[l++]=t,v[l++]=m):(v[l++]=a,v[l++]=b,v[l++]=e,
v[l++]=c,v[l++]=f,v[l++]=k,v[l++]=g,v[l++]=t);h[n++]=p;h[n++]=r;h[n++]=q;h[n++]=r;h[n++]=q;h[n++]=d;h[n++]=p;h[n++]=d;this.Bd=l;this.Xf=n};d.prototype.Xs=function(a,b,e,c,f,k,g,t,d,l,n,v,h){15992<=this.Bd&&this.He();var m=this.Bd,p=this.Xf,r=this.Sj,q=this.Lj,C=this.uk;if(this.Ib)this.$d[this.Hd-1].ad+=6;else{var B=this.Fc();B.type=1;B.kc=this.Ha?m:m/2*3;B.ad=6;this.Ib=!0}this.Ha?(r[m++]=a,r[m++]=b,r[m++]=C,r[m++]=e,r[m++]=c,r[m++]=C,r[m++]=f,r[m++]=k,r[m++]=C,r[m++]=g,r[m++]=t,r[m++]=C):(r[m++]=
a,r[m++]=b,r[m++]=e,r[m++]=c,r[m++]=f,r[m++]=k,r[m++]=g,r[m++]=t);q[p++]=d;q[p++]=l;q[p++]=n;q[p++]=0;q[p++]=v;q[p++]=0;q[p++]=h;q[p++]=0;this.Bd=m;this.Xf=p};d.prototype.Bq=function(a){var b=a.length/2-2,e=b-1,c=a[0],f=a[1],k,g,t,d,l,n,v;for(k=0;k<b;k+=2)g=2*k,t=a[g+2],d=a[g+3],l=a[g+4],n=a[g+5],k===e?this.Xe(c,f,t,d,l,n,l,n):(v=a[g+6],g=a[g+7],this.Xe(c,f,t,d,l,n,v,g))};d.prototype.Kc=function(a){if(this.Wi!==a){if(!this.hb[a]){if(0===this.Wi)return;a=0}var b=this.Fc();b.type=9;this.Wi=b.kc=a;this.Ib=
!1}};d.prototype.rj=function(a){a=this.hb[a];return!(!a.Gg&&!a.Fg)};d.prototype.Lo=function(a){a=this.hb[a];return!!(a.Gg||a.Fg||a.Bc)};d.prototype.Ko=function(a){return this.hb[a].Xa};d.prototype.Uy=function(a){a=this.hb[a];return 0!==a.oc||0!==a.pc};d.prototype.Ix=function(a){return this.hb[a].oc};d.prototype.Jx=function(a){return this.hb[a].pc};d.prototype.Kx=function(a,b){return this.hb[a].L[b][2]};d.prototype.Pl=function(a){return this.hb[a].Ac};d.prototype.Vh=function(a,b,e,c,f,k,g,t,d,l,n,
v,m,h,r){var p=this.hb[this.Wi],q,C;if(p.by||r.length){q=this.Fc();q.type=10;q.ca?mc(this.ed,q.ca):q.ca=lc();C=q.ca;C[0]=b;C[1]=e;C[2]=c;C[3]=f;C[4]=k;C[5]=g;C[6]=t;C[7]=d;C[8]=l;C[9]=n;C[10]=v;C[11]=m;C[12]=h;p.bj?q.zd=a:q.zd=null;if(r.length)for(e=q.ot,e.length=r.length,a=0,b=r.length;a<b;a++)e[a]=r[a];this.Ib=!1}};d.prototype.clear=function(a,b,e,c){var f=this.Fc();f.type=7;f.kc=0;f.ca||(f.ca=lc());f.ca[0]=a;f.ca[1]=b;f.ca[2]=e;f.ca[3]=c;this.Ib=!1};d.prototype.clearRect=function(a,b,e,c){if(!(0>
e||0>c)){var f=this.Fc();f.type=7;f.kc=1;f.ca||(f.ca=lc());f.ca[0]=a;f.ca[1]=b;f.ca[2]=e;f.ca[3]=c;this.Ib=!1}};d.prototype.it=function(a){if(this.Ha&&(a=!!a,this.Li!==a)){var b=this.Fc();b.type=14;b.kc=a?1:0;this.Ib=!1;this.Li=a;this.Sl=null;this.Li?this.Kc(2):this.Kc(0)}};d.prototype.ht=function(a){if(this.Ha){var b=this.Fc();b.type=13;b.kc=a?1:0;this.Ib=!1}};d.prototype.Pq=function(){mc(this.ao,h);this.vd();this.ld();var a=this.width/2,b=this.height/2;this.Xe(-a,b,a,b,a,-b,-a,-b);mc(h,this.ed);
this.ld()};d.prototype.gt=function(a,b,e){this.Kc(3);var c=this.Fc();c.type=12;c.ca||(c.ca=lc());c.ca[0]=a;c.ca[1]=b;c.ca[2]=e;c.ca[3]=1;this.Ib=!1};d.prototype.qz=function(){this.Kc(0)};d.prototype.bz=function(){this.Kc(2)};d.prototype.Sy=function(){this.He();this.F.flush()};var r=[],l={};d.prototype.Xv=function(){U(r);l={}};d.prototype.Eh=function(a,b,e,c){b=!!b;e=!!e;var f=a.src+","+b+","+e+(b?",undefined":""),k=null;if("undefined"!==typeof a.src&&l.hasOwnProperty(f))return k=l[f],k.gk++,k;this.He();
var g=this.F,t=ja(a.width)&&ja(a.height),k=g.createTexture();g.bindTexture(g.TEXTURE_2D,k);g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var d=g.RGBA,m=g.RGBA,n=g.UNSIGNED_BYTE;if(c&&!this.he)switch(c){case 1:m=d=g.RGB;break;case 2:n=g.UNSIGNED_SHORT_4_4_4_4;break;case 3:n=g.UNSIGNED_SHORT_5_5_5_1;break;case 4:m=d=g.RGB,n=g.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!t&&b){c=document.createElement("canvas");c.width=ka(a.width);c.height=ka(a.height);var v=c.getContext("2d");"undefined"!==typeof v.imageSmoothingEnabled?
v.imageSmoothingEnabled=e:(v.webkitImageSmoothingEnabled=e,v.mozImageSmoothingEnabled=e,v.msImageSmoothingEnabled=e);v.drawImage(a,0,0,a.width,a.height,0,0,c.width,c.height);g.texImage2D(g.TEXTURE_2D,0,d,m,n,c)}else g.texImage2D(g.TEXTURE_2D,0,d,m,n,a);b?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.REPEAT),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.REPEAT)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE));e?(g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_MAG_FILTER,g.LINEAR),(t||2<=this.version)&&this.Gq?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR_MIPMAP_LINEAR),g.generateMipmap(g.TEXTURE_2D)):g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.NEAREST),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.NEAREST));g.bindTexture(g.TEXTURE_2D,null);this.Gf=null;k.fg=a.width;k.eg=a.height;k.gk=1;k.vq=f;r.push(k);return l[f]=k};d.prototype.ec=function(a,b,e,c,f){this.He();
var k=this.F;this.he&&(c=!1);var g=k.createTexture();k.bindTexture(k.TEXTURE_2D,g);k.texImage2D(k.TEXTURE_2D,0,k.RGBA,a,b,0,k.RGBA,c?k.UNSIGNED_SHORT_4_4_4_4:k.UNSIGNED_BYTE,null);f?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,e?k.LINEAR:k.NEAREST);k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_MIN_FILTER,e?k.LINEAR:k.NEAREST);k.bindTexture(k.TEXTURE_2D,null);this.Gf=null;g.fg=a;g.eg=b;r.push(g);return g};d.prototype.Tj=function(a,b,e){this.He();var c=this.F;this.he&&(e=!1);c.bindTexture(c.TEXTURE_2D,b);c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,e?c.UNSIGNED_SHORT_4_4_4_4:c.UNSIGNED_BYTE,a)}catch(f){console&&console.error&&console.error("Error updating WebGL texture: ",f)}c.bindTexture(c.TEXTURE_2D,null);this.Gf=null};d.prototype.deleteTexture=
function(a){a&&("undefined"!==typeof a.gk&&1<a.gk?a.gk--:(this.He(),a===this.Gf&&(this.F.bindTexture(this.F.TEXTURE_2D,null),this.Gf=null),a===this.Ag&&(this.F.activeTexture(this.F.TEXTURE1),this.F.bindTexture(this.F.TEXTURE_2D,null),this.F.activeTexture(this.F.TEXTURE0),this.Ag=null),Da(r,a),"undefined"!==typeof a.vq&&delete l[a.vq],this.F.deleteTexture(a)))};d.prototype.wd=function(a){if(a!==this.Sl){var b=this.Fc();b.type=6;this.Sl=b.zd=a;this.Ib=!1}};ob=d})();
(function(){function d(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var c=this;this.Rc=(this.Yk=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.gc=!!a.dc;this.kr="undefined"!==typeof window.AppMobi||
this.gc;this.cd=!!window.c2cocoonjs;this.rd=!!window.c2ejecta;this.cd&&(CocoonJS.App.onSuspended.addEventListener(function(){c.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){c.setSuspended(!1)}));this.rd&&(document.addEventListener("pagehide",function(){c.setSuspended(!0)}),document.addEventListener("pageshow",function(){c.setSuspended(!1)}),document.addEventListener("resize",function(){c.setSize(window.innerWidth,window.innerHeight)}));this.Fa=this.gc||this.cd||this.rd;this.qh=
/edge\//i.test(navigator.userAgent);this.he=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.qh;this.Un=/tizen/i.test(navigator.userAgent);this.ph=/android/i.test(navigator.userAgent)&&!this.Un&&!this.he&&!this.qh;this.qr=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.he&&!this.qh;this.ty=/ipad/i.test(navigator.userAgent);this.zg=this.qr||this.ty||this.rd;this.Pn=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.he&&!this.qh;this.On=/amazonwebappplatform/i.test(navigator.userAgent);this.ky=/firefox/i.test(navigator.userAgent);this.oy=/safari/i.test(navigator.userAgent)&&!this.Pn&&!this.he&&!this.qh;this.qy=/windows/i.test(navigator.userAgent);this.Zk="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.or=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);
this.dl=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Pi=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Vn=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.cl=!!window.cr_windows10;this.bl=this.or||this.dl||this.Vn||this.cl;this.lr=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Wk=this.ph&&!this.Pn&&!this.Yk&&!this.ky&&!this.On&&!this.Fa;this.devicePixelRatio=
1;this.Qe=this.Rc||this.Yk||this.kr||this.cd||this.ph||this.zg||this.Pi||this.Vn||this.lr||this.Un||this.rd;this.Qe||(this.Qe=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.al=!!(this.zg&&this.Rc&&window.webkit);"undefined"===typeof cr_is_preview||this.Zk||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.Zk=!0);this.canvas=a;this.kk=document.getElementById("c2canvasdiv");
this.A=this.F=null;this.Bn="(unavailable)";this.Ha=!1;this.mg=0;this.Va=null;this.Jk=!1;this.xs=this.ys=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.ontouchstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.gc&&(window.c2runtime=this);this.Zk&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();
return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.Wk&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.S=this.width;this.R=this.height;this.rk=this.width;this.ti=this.height;this.Bh=window.innerWidth;this.Ah=window.innerHeight;this.Da=!0;this.Oi=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.C=[];this.Za=[];this.co={};this.Md=[];this.jn={};
this.Ie=[];this.ei=[];this.pm=[];this.Iv=[];this.Jv=[];this.gp=this.rr=this.xt=null;this.ig={};this.Rn=this.Af=!1;this.Pe=0;this.Qn=this.Tn=!1;this.Jd=[];this.Mi=!1;this.ml=this.bp="";this.Fb=null;this.Re="";this.Hj=this.tt=!1;this.Ik=[];this.lg=this.kg=0;this.hs=30;this.Xm=this.gj=0;this.Qg=1;this.Db=new cb;this.jf=new cb;this.Cl=this.Nk=this.Dk=this.ef=this.Cg=this.nn=this.hl=0;this.Um=null;this.zk=[];this.hn=[];this.Ck=-1;this.po=[[]];this.rp=this.rl=0;this.No(null);this.yi=this.rs=this.kj=0;this.Ij=
[];this.op=this.Qo=-1;this.gl=!0;this.pl=0;this.$k=!1;this.wz=0;this.Zg=null;this.Ua=this.Tk=!1;this.ws=new ba;this.wo=new ba;this.xo=new ba;this.To=[];this.Ud=new eb([]);this.mp=new eb([]);this.Yg=[];this.Gi={};this.vf={};this.of={};this.bi={};this.sq={};this.Jr=this.ll=this.ub=this.Eb=this.Ir=this.kl=this.Ka=null;this.$h=this.Wn=!1;this.pn=[null,null];this.jh=0;this.ln="";this.Ue={};this.Fj=this.Jf=null;this.ut="";this.Bl=[];this.az()}}function m(a,c){return 128>=c?a[3]:256>=c?a[2]:512>=c?a[1]:
a[0]}function p(){try{return!!window.indexedDB}catch(a){return!1}}function q(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function h(a,c,f,b){try{var g=indexedDB.open("_C2SaveStates");g.onupgradeneeded=q;g.onerror=b;g.onsuccess=function(g){g=g.target.result;g.onerror=b;g.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=f}}catch(k){b(k)}}function r(a,c,f){try{var b=indexedDB.open("_C2SaveStates");b.onupgradeneeded=q;b.onerror=f;b.onsuccess=function(b){b=
b.target.result;b.onerror=f;var g=b.transaction(["saves"]).objectStore("saves").get(a);g.onsuccess=function(){g.result?c(g.result.data):c(null)}}}catch(g){f(g)}}function l(){w("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var c,f={};for(c in a)!a.hasOwnProperty(c)||a[c]instanceof ba||a[c]&&"undefined"!==typeof a[c].KA||"spriteCreatedDestroyCallback"!==
c&&(f[c]=a[c]);return f}var b=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;d.prototype.az=function(){var a=this;if(this.al)this.qx(function(c){a.Zi(JSON.parse(c))},function(){alert("Error fetching data.js")});else{var c;this.Pi?c=new ActiveXObject("Microsoft.XMLHTTP"):c=new XMLHttpRequest;var f="data.js";if(this.or||this.Pi||this.Vn||this.cl)f="data.json";c.open("GET",f,!0);var b=!1;
if(!this.Fa&&"response"in c&&"responseType"in c)try{c.responseType="json",b="json"===c.responseType}catch(g){b=!1}if(!b&&"responseType"in c)try{c.responseType="text"}catch(k){}if("overrideMimeType"in c)try{c.overrideMimeType("application/json; charset=utf-8")}catch(n){}this.Pi?c.onreadystatechange=function(){4===c.readyState&&a.Zi(JSON.parse(c.responseText))}:(c.onload=function(){if(b)a.Zi(c.response);else if(a.rd){var f=c.responseText,f=f.substr(f.indexOf("{"));a.Zi(JSON.parse(f))}else a.Zi(JSON.parse(c.responseText))},
c.onerror=function(a){da("Error requesting "+f+":");da(a)});c.send()}};d.prototype.gy=function(){var a=this,c,f,b,g,k,n,e,t,d;this.yg=(!this.Fa||this.rd||this.Rc)&&this.Hz&&!this.Wk;0===this.qc&&this.zg&&(this.yg=!1);this.devicePixelRatio=this.yg?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;"object"===typeof window.StatusBar&&window.StatusBar.hide();this.Yb();0<this.qc&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",
function(c){c.preventDefault();a.Cy();w("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.A.fr();a.A.Lg(a.A.width,a.A.height,!0);a.Eb=null;a.ub=null;a.pn[0]=null;a.pn[1]=null;a.Dy();a.Da=!0;w("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);try{this.Gw&&(this.cd||this.rd||!this.Fa)&&(c={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.ph||
(this.F=this.canvas.getContext("webgl2",c)),this.F||(this.F=this.canvas.getContext("webgl",c)||this.canvas.getContext("experimental-webgl",c)))}catch(l){}if(this.F){if(c=this.F.getExtension("WEBGL_debug_renderer_info"))this.Bn=this.F.getParameter(c.UNMASKED_RENDERER_WEBGL)+" ["+this.F.getParameter(c.UNMASKED_VENDOR_WEBGL)+"]";this.Ha&&(this.Bn+=" [front-to-back enabled]");this.Fa||(this.Tb=document.createElement("canvas"),jQuery(this.Tb).appendTo(this.canvas.parentNode),this.Tb.oncontextmenu=function(){return!1},
this.Tb.onselectstart=function(){return!1},this.Tb.width=Math.round(this.rk*this.devicePixelRatio),this.Tb.height=Math.round(this.ti*this.devicePixelRatio),jQuery(this.Tb).css({width:this.rk+"px",height:this.ti+"px"}),this.Ss(),this.Ho=this.Tb.getContext("2d"));this.A=new ob(this.F,this.Qe,this.Ha);this.A.Lg(this.canvas.width,this.canvas.height);this.A.Gq=0!==this.zw;this.Va=null;c=0;for(f=this.C.length;c<f;c++)for(k=this.C[c],b=0,g=k.W.length;b<g;b++)e=k.W[b],e.yb=this.A.zn(e.id),e.Xa=this.A.Ko(e.yb),
this.$h=this.$h||this.A.rj(e.yb);c=0;for(f=this.Md.length;c<f;c++){t=this.Md[c];b=0;for(g=t.W.length;b<g;b++)e=t.W[b],e.yb=this.A.zn(e.id),e.Xa=this.A.Ko(e.yb);t.Xd();b=0;for(g=t.Y.length;b<g;b++){d=t.Y[b];k=0;for(n=d.W.length;k<n;k++)e=d.W[k],e.yb=this.A.zn(e.id),e.Xa=this.A.Ko(e.yb),this.$h=this.$h||this.A.rj(e.yb);d.Xd()}}}else{if(0<this.qc&&this.gc){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.Va=AppMobi.canvas.getContext("2d");
try{this.Va.samplingMode=this.Ga?"smooth":"sharp",this.Va.globalScale=1,this.Va.HTML5CompatibilityMode=!0,this.Va.imageSmoothingEnabled=this.Ga}catch(v){}0!==this.width&&0!==this.height&&(this.Va.width=this.width,this.Va.height=this.height)}this.Va||(this.cd?(c={antialias:!!this.Ga,alpha:!0},this.Va=this.canvas.getContext("2d",c)):(c={alpha:!0},this.Va=this.canvas.getContext("2d",c)),this.Wl(this.Va,this.Ga));this.Ho=this.Tb=null}this.Ft=function(c){a.Oa(!1,c)};window==window.top||this.Fa||this.bl||
this.Pi||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.cd&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(w("Reloading for continuous preview"),this.ml="__c2_continuouspreview",this.Hj=!0),this.Ly&&!this.Qe&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var c=
window.parent;c&&c.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){a.Of()});this.Fa||(c=function(a){if(nb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(c){}},"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",c):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",c):document.addEventListener("touchstart",
c),document.addEventListener("mousedown",c));0===this.qc&&this.yg&&1<this.devicePixelRatio&&this.setSize(this.nb,this.mb,!0);this.Kt();this.Zx();this.go();this.J={}};d.prototype.setSize=function(a,c,f){var b=0,g=0,k=0,n=0,n=0;if(this.Bh!==a||this.Ah!==c||f){this.Bh=a;this.Ah=c;var e=this.qc;if((k=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.$k)&&!this.Rc)||0!==this.qc||f)k&&(e=this.jh),f=this.devicePixelRatio,4<=e?(5===e&&1!==f&&(a+=
1,c+=1),k=this.nb/this.mb,a/c>k?(k*=c,5===e?(n=k*f/this.nb,1<n?n=Math.floor(n):1>n&&(n=1/Math.ceil(1/n)),k=this.nb*n/f,n=this.mb*n/f,b=(a-k)/2,g=(c-n)/2,a=k,c=n):(b=(a-k)/2,a=k)):(n=a/k,5===e?(n=n*f/this.mb,1<n?n=Math.floor(n):1>n&&(n=1/Math.ceil(1/n)),k=this.nb*n/f,n=this.mb*n/f,b=(a-k)/2,g=(c-n)/2,a=k):g=(c-n)/2,c=n)):k&&0===e&&(b=Math.floor((a-this.nb)/2),g=Math.floor((c-this.mb)/2),a=this.nb,c=this.mb),2>e&&(this.li=f),this.rk=Math.round(a),this.ti=Math.round(c),this.width=Math.round(a*f),this.height=
Math.round(c*f),this.Da=!0,this.Xt?(this.S=this.width,this.R=this.height,this.Zc=!0):this.width<this.nb&&this.height<this.mb||1===e?(this.S=this.width,this.R=this.height,this.Zc=!0):(this.S=this.nb,this.R=this.mb,this.Zc=!1,2===e?(k=this.nb/this.mb,e=this.Bh/this.Ah,e<k?this.S=this.R*e:e>k&&(this.R=this.S/e)):3===e&&(k=this.nb/this.mb,e=this.Bh/this.Ah,e>k?this.S=this.R*e:e<k&&(this.R=this.S/e))),this.kk&&!this.Fa&&(jQuery(this.kk).css({width:Math.round(a)+"px",height:Math.round(c)+"px","margin-left":Math.floor(b)+
"px","margin-top":Math.floor(g)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(c)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*f),this.canvas.height=Math.round(c*f),this.rd?(this.canvas.style.left=Math.floor(b)+"px",this.canvas.style.top=Math.floor(g)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px"):this.yg&&!this.Fa&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=
Math.round(c)+"px")),this.Tb&&(this.Tb.width=Math.round(a*f),this.Tb.height=Math.round(c*f),this.Tb.style.width=this.rk+"px",this.Tb.style.height=this.ti+"px"),this.A&&this.A.Lg(Math.round(a*f),Math.round(c*f)),this.gc&&this.Va&&(this.Va.width=Math.round(a),this.Va.height=Math.round(c)),this.Va&&this.Wl(this.Va,this.Ga),this.Kt(),this.qr&&!this.Rc&&window.scrollTo(0,0)}};d.prototype.Kt=function(){if(this.Nv&&0!==this.Go){var a="portrait";2===this.Go&&(a="landscape");try{screen.orientation&&screen.orientation.lock?
screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(c){console&&console.warn&&console.warn("Failed to lock orientation: ",c)}}};d.prototype.Cy=function(){this.A.Xv();this.Wn=!0;var a,c,f;a=0;for(c=this.C.length;a<c;a++)f=this.C[a],f.Oh&&f.Oh()};d.prototype.Dy=function(){this.Wn=!1;
var a,c,f;a=0;for(c=this.C.length;a<c;a++)f=this.C[a],f.Ph&&f.Ph()};d.prototype.Ss=function(){if(!this.Fa){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.$k)&&!this.Rc?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Tb).css(a)}};var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;
d.prototype.setSuspended=function(a){var c;if(a&&!this.Oi)for(w("[Construct 2] Suspending"),this.Oi=!0,-1!==this.Qo&&e&&e(this.Qo),-1!==this.op&&clearTimeout(this.op),a=0,c=this.Ij.length;a<c;a++)this.Ij[a](!0);else if(!a&&this.Oi){w("[Construct 2] Resuming");this.Oi=!1;this.hl=Ya();this.Cg=Ya();a=this.gj=this.Nk=0;for(c=this.Ij.length;a<c;a++)this.Ij[a](!1);this.Oa(!1)}};d.prototype.mq=function(a){this.Ij.push(a)};d.prototype.lf=function(a){return this.Bl[a]};d.prototype.Zi=function(a){a&&a.project||
da("Project model unavailable");a=a.project;this.name=a[0];this.Oq=a[1];this.qc=a[12];this.nb=a[10];this.mb=a[11];this.Ms=this.nb/2;this.Ns=this.mb/2;this.Fa&&!this.rd&&(4<=a[12]||0===a[12])&&(w("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.qc=3);this.yp=a[18];this.Kf=a[19];if(0===this.Kf){var c=new Image;c.crossOrigin="anonymous";this.jt(c,"loading-logo.png");this.Jf={sl:c}}else if(4===this.Kf){c=new Image;c.src="";var f=
new Image;f.src="";var b=new Image;b.src="";var k=new Image;k.src="";var g=new Image;g.src="";var n=new Image;n.src="";var e=new Image;e.src="";var t=new Image;t.src="";var d=new Image;d.src="";var l=new Image;l.src="";var v=new Image;v.src="";var x=new Image;x.src="";this.Jf={sl:[c,f,b,k],Py:[g,n,e,t],Lz:[d,l,v,x]}}this.kj=a[21];this.Bl=qc();this.ue=new X(this);c=0;for(f=a[2].length;c<f;c++)e=a[2][c],b=this.lf(e[0]),pb(e,b.prototype),t=new b(this),t.em=e[1],t.Df=e[2],t.QA=e[5],t.ls=e[9],t.D&&t.D(),
this.plugins.push(t);this.Bl=qc();c=0;for(f=a[3].length;c<f;c++){e=a[3][c];g=this.lf(e[1]);t=null;b=0;for(k=this.plugins.length;b<k;b++)if(this.plugins[b]instanceof g){t=this.plugins[b];break}d=new t.M(t);d.name=e[0];d.N=e[2];d.Mn=e[3].slice(0);d.Kz=e[3].length;d.Ov=e[4];d.vx=e[5];d.fa=e[11];d.N?(d.yl=[],d.Je=this.yi++,d.Wa=null):(d.yl=null,d.Je=-1,d.Wa=[]);d.Gk=null;d.hh=null;d.Iq=null;d.dd=!1;d.Oc=null;e[6]?(d.jm=e[6][0],d.np=e[6][1],d.Mj=e[6][2]):(d.jm=null,d.np=0,d.Mj=0);e[7]?d.Mc=e[7]:d.Mc=null;
d.index=c;d.e=[];d.wk=[];d.cf=[new qb(d)];d.ae=0;d.be=null;d.ew=0;d.Xh=!0;d.rm=rb;d.Wq=sb;d.Fx=vb;d.Ea=wb;d.tj=xb;d.Mo=yb;d.Sh=zb;d.Pk=Ab;d.rn=Bb;d.un=Cb;d.Ae=Db;d.wn=Eb;d.ok=new hb(this.nb,this.mb);d.ak=!0;d.bk=!1;d.J={};d.toString=Fb;d.Za=[];b=0;for(k=e[8].length;b<k;b++){l=e[8][b];v=this.lf(l[1]);x=null;g=0;for(n=this.Za.length;g<n;g++)if(this.Za[g]instanceof v){x=this.Za[g];break}x||(x=new v(this),x.Al=[],x.zl=new ba,x.D&&x.D(),this.Za.push(x),rc&&x instanceof rc&&(this.xt=x),ic.vy&&x instanceof
ic.vy&&(this.rr=x),sc&&x instanceof sc&&(this.gp=x));-1===x.Al.indexOf(d)&&x.Al.push(d);g=new x.M(x,d);g.name=l[0];g.fa=l[2];g.D();d.Za.push(g)}d.global=e[9];d.Sn=e[10];d.W=[];b=0;for(k=e[12].length;b<k;b++)d.W.push({id:e[12][b][0],name:e[12][b][1],yb:-1,Xa:!1,Zb:!0,index:b});d.dB=e[13];this.yp&&!d.N&&!d.Sn&&t.Df||d.D();d.name&&(this.types[d.name]=d);this.C.push(d);t.em&&(b=new t.I(d),b.uid=this.kj++,b.Ws=this.rs++,b.wg=0,b.Ei=Gb,b.toString=Jb,b.u=e[14],b.D(),d.e.push(b),this.Ue[b.uid.toString()]=
b)}c=0;for(f=a[4].length;c<f;c++)for(g=a[4][c],n=this.C[g[0]],b=1,k=g.length;b<k;b++)e=this.C[g[b]],e.Wa.push(n),n.yl.push(e);c=0;for(f=a[28].length;c<f;c++){g=a[28][c];n=[];b=0;for(k=g.length;b<k;b++)n.push(this.C[g[b]]);b=0;for(k=n.length;b<k;b++)n[b].dd=!0,n[b].Oc=n}if(0<this.yi)for(c=0,f=this.C.length;c<f;c++)if(e=this.C[c],!e.N&&e.Wa.length){e.Gk=Array(this.yi);e.hh=Array(this.yi);e.Iq=Array(this.yi);d=[];b=x=v=l=0;for(k=e.Wa.length;b<k;b++)for(t=e.Wa[b],e.Gk[t.Je]=l,l+=t.Kz,e.hh[t.Je]=v,v+=
t.Ov,e.Iq[t.Je]=x,x+=t.vx,g=0,n=t.W.length;g<n;g++)d.push(xa({},t.W[g]));e.W=d.concat(e.W);b=0;for(k=e.W.length;b<k;b++)e.W[b].index=b}c=0;for(f=a[5].length;c<f;c++)e=a[5][c],b=new Kb(this,e),this.co[b.name]=b,this.Md.push(b);c=0;for(f=a[6].length;c<f;c++)e=a[6][c],b=new Lb(this,e),this.jn[b.name]=b,this.Ie.push(b);c=0;for(f=this.Ie.length;c<f;c++)this.Ie[c].ob();c=0;for(f=this.Ie.length;c<f;c++)this.Ie[c].vp();c=0;for(f=this.pm.length;c<f;c++)this.pm[c].ob();U(this.pm);this.Mv=a[7];this.ln=a[8];
this.hd=a[9];this.li=1;this.Gw=a[13];this.Ga=a[14];this.zq=a[15];this.Hz=a[17];this.Go=a[20];this.Nv=0<this.Go;this.Ly=a[22];this.Zc=this.Xt=a[23];this.zw=a[24];this.Qy=a[25];this.Ha=a[27]&&!this.he;this.fm=Date.now();U(this.Bl);this.gy()};var c=!1,f=0,k=[];d.prototype.Xy=function(a,c){function b(){f--;g.cs()}var g=this;a.addEventListener("load",b);a.addEventListener("error",b);k.push([a,c]);this.cs()};d.prototype.cs=function(){for(var a;k.length&&100>f;)f++,a=k.shift(),this.jt(a[0],a[1])};d.prototype.wm=
function(a,f){a.cocoonLazyLoad=!0;a.onerror=function(f){c=a.uq=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",f)};this.rd?a.src=f:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(f,function(c){a.src=c},function(b){c=a.uq=!0;console&&console.error&&console.error("Error extracting image '"+f+"' from expansion file: ",b)}):(a.crossOrigin="anonymous",this.Xy(a,f)));this.ei.push(a)};d.prototype.tx=function(a){var c,f;c=0;for(f=this.ei.length;c<f;c++)if(this.ei[c].Yv===
a)return this.ei[c];return null};var g=0,t=!1;d.prototype.Zx=function(){this.Zg&&(g=this.Zg.oz(this.Mv))};d.prototype.qq=function(){var a=g,c=0,f=0,b=!0,k,e,f=0;for(k=this.ei.length;f<k;f++){e=this.ei[f];var n=e.Ym;if(!n||0>=n)n=5E4;a+=n;e.src&&(e.complete||e.loaded)&&!e.uq?c+=n:b=!1}b&&this.Qy&&this.Zg&&(t||(this.Zg.xz(),t=!0),f=this.Zg.Hx(),c+=f,f<g&&(b=!1));this.Qd=0==a?1:c/a;return b};var x=!1;d.prototype.go=function(){if(this.Va||this.A){var a=this.Va||this.Ho;this.Tb&&this.Ss();var f=window.innerWidth,
g=window.innerHeight;this.Bh===f&&this.Ah===g||this.setSize(f,g);this.Qd=0;this.Hr=-1;var k=this;if(this.qq()&&(4!==this.Kf||x))this.$x();else{g=Date.now()-this.fm;if(a){var e=this.width,n=this.height,f=this.devicePixelRatio;if(3>this.Kf&&(this.cd||500<=g&&this.Hr!=this.Qd)){a.clearRect(0,0,e,n);var g=e/2,n=n/2,e=0===this.Kf&&this.Jf.sl.complete,d=40*f,t=0,l=80*f,v;if(e){var m=this.Jf.sl,l=m.width*f;v=m.height*f;d=l/2;t=v/2;a.drawImage(m,ra(g-d),ra(n-t),l,v)}1>=this.Kf?(g=ra(g-d)+.5,n=ra(n+(t+(e?
12*f:0)))+.5,a.fillStyle=c?"red":"DodgerBlue",a.fillRect(g,n,Math.floor(l*this.Qd),6*f),a.strokeStyle="black",a.strokeRect(g,n,l,6*f),a.strokeStyle="white",a.strokeRect(g-1*f,n-1*f,l+2*f,8*f)):2===this.Kf&&(a.font=this.rd?"12pt ArialMT":"12pt Arial",a.fillStyle=c?"#f00":"#999",a.cB="middle",f=Math.round(100*this.Qd)+"%",e=a.measureText?a.measureText(f):null,a.fillText(f,g-(e?e.width:0)/2,n));this.Hr=this.Qd}else if(4===this.Kf){this.Ew(a);b?b(function(){k.go()}):setTimeout(function(){k.go()},16);
return}}setTimeout(function(){k.go()},this.cd?10:100)}}};var z=-1,n="undefined"===typeof cr_is_preview?200:0,v=!0,D=!1,H=0,O=0,M="undefined"===typeof cr_is_preview?3E3:0,J=null,C=null,B=0;d.prototype.Ew=function(a){if(!x){for(var f=Math.ceil(this.width),b=Math.ceil(this.height),g=this.Jf.sl,k=this.Jf.Py,e=this.Jf.Lz,d=0;4>d;++d)if(!g[d].complete||!k[d].complete||!e[d].complete)return;0===B&&(z=Date.now());var d=Date.now(),t=!1,l=a,h,r;v||D?(a.clearRect(0,0,f,b),J&&J.width===f&&J.height===b||(J=document.createElement("canvas"),
J.width=f,J.height=b,C=J.getContext("2d")),l=C,t=!0,v&&1===B&&(z=Date.now())):a.globalAlpha=1;l.fillStyle="#333333";l.fillRect(0,0,f,b);256<this.ti?(h=Ea(.22*b,105,.6*f),r=.25*h,l.drawImage(m(k,h),.5*f-h/2,.2*b-r/2,h,r),r=h=Math.min(.395*b,.95*f),l.drawImage(m(g,h),.5*f-h/2,.485*b-r/2,h,r),h=Ea(.22*b,105,.6*f),r=.25*h,l.drawImage(m(e,h),.5*f-h/2,.868*b-r/2,h,r),l.fillStyle="#3C3C3C",h=f,r=Math.max(.005*b,2),l.fillRect(0,.8*b-r/2,h,r),l.fillStyle=c?"red":"#E0FF65",h=f*this.Qd,l.fillRect(.5*f-h/2,.8*
b-r/2,h,r)):(r=h=.55*b,l.drawImage(m(g,h),.5*f-h/2,.45*b-r/2,h,r),l.fillStyle="#3C3C3C",h=f,r=Math.max(.005*b,2),l.fillRect(0,.85*b-r/2,h,r),l.fillStyle=c?"red":"#E0FF65",h=f*this.Qd,l.fillRect(.5*f-h/2,.85*b-r/2,h,r));t&&(v?a.globalAlpha=0===B?0:Math.min((d-z)/300,1):D&&(a.globalAlpha=Math.max(1-(d-O)/300,0)),a.drawImage(J,0,0,f,b));v&&300<=d-z&&2<=B&&(v=!1,H=d);!v&&d-H>=M&&!D&&1<=this.Qd&&(D=!0,O=d);if(D&&d-O>=300+n||"undefined"!==typeof cr_is_preview&&1<=this.Qd&&500>Date.now()-z)x=!0,D=v=!1,this.Jf=
C=J=null;++B}};d.prototype.$x=function(){this.Tb&&(this.canvas.parentNode.removeChild(this.Tb),this.Tb=this.Ho=null);this.fm=Date.now();this.Cg=Ya();var a,c,f;if(this.yp)for(a=0,c=this.C.length;a<c;a++)f=this.C[a],f.N||f.Sn||!f.ta.Df||f.D();else this.gl=!1;a=0;for(c=this.Md.length;a<c;a++)this.Md[a].$v();2<=this.qc&&(a=this.nb/this.mb,c=this.width/this.height,this.li=2!==this.qc&&c>a||2===this.qc&&c<a?this.height/this.mb:this.width/this.nb);this.Oq?this.co[this.Oq].kp():this.Md[0].kp();this.yp||(this.pl=
1,this.trigger(X.prototype.j.Sp,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(c=this.C.length;a<c;a++)f=this.C[a],f.zs&&f.zs();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Oa(!1);this.gc&&AppMobi.webview.execute("onGameReady();")};d.prototype.Oa=function(a,c,f){if(this.Ka){var g=Ya();if(f||!this.Oi||a){a||(b?this.Qo=b(this.Ft):this.op=setTimeout(this.Ft,
this.Qe?1:16));c=c||g;var k=this.qc;((f=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Rc)||this.$k)&&0<this.jh&&(k=this.jh);if(0<k){var k=window.innerWidth,e=window.innerHeight;this.Bh===k&&this.Ah===e||this.setSize(k,e)}this.Fa||(f?this.Jk||(this.Jk=!0):this.Jk?(this.Jk=!1,0===this.qc&&this.setSize(Math.round(this.ys/this.devicePixelRatio),Math.round(this.xs/this.devicePixelRatio),!0)):(this.ys=this.width,this.xs=this.height));this.gl&&
(f=this.qq(),this.pl=this.Qd,f&&(this.gl=!1,this.Qd=1,this.trigger(X.prototype.j.Sp,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.xy(c);!this.Da&&!this.cd||this.Wn||this.Hj||a||(this.Da=!1,this.A?this.Pb():this.Pc(),this.Fj&&(this.canvas&&this.canvas.toDataURL&&(this.ut=this.canvas.toDataURL(this.Fj[0],this.Fj[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.ut),this.trigger(X.prototype.j.wu,null)),this.Fj=null));this.PA||(this.ef++,this.Dk++,this.Nk++);this.gj+=Ya()-g}}};d.prototype.xy=
function(a){var c,f,b,g,k,e,n,d;1E3<=a-this.Cg&&(this.Cg+=1E3,1E3<=a-this.Cg&&(this.Cg=a),this.nn=this.Nk,this.Nk=0,this.Xm=this.gj,this.gj=0);c=0;0!==this.hl&&(c=a-this.hl,0>c&&(c=0),this.lg=c/=1E3,.5<this.lg?this.lg=0:this.lg>1/this.hs&&(this.lg=1/this.hs));this.hl=a;this.kg=this.lg*this.Qg;this.Db.add(this.kg);this.jf.add(c);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.$k)&&!this.Rc;2<=this.qc||a&&0<this.jh?(c=this.nb/this.mb,
f=this.width/this.height,b=this.qc,a&&0<this.jh&&(b=this.jh),this.li=2!==b&&f>c||2===b&&f<c?this.height/this.mb:this.width/this.nb,this.Ka&&(this.Ka.cp(this.Ka.scrollX),this.Ka.dp(this.Ka.scrollY))):this.li=this.yg?this.devicePixelRatio:1;this.Yb();this.Pe++;this.ue.ez();this.Pe--;this.Yb();this.Pe++;f=this.ws.xe();a=0;for(c=f.length;a<c;a++)f[a].YA();a=0;for(c=this.C.length;a<c;a++)if(e=this.C[a],!e.N&&(e.Za.length||e.Wa.length))for(f=0,b=e.e.length;f<b;f++)for(n=e.e[f],g=0,k=n.T.length;g<k;g++)n.T[g].Oa();
a=0;for(c=this.C.length;a<c;a++)if(e=this.C[a],!e.N&&(e.Za.length||e.Wa.length))for(f=0,b=e.e.length;f<b;f++)for(n=e.e[f],g=0,k=n.T.length;g<k;g++)d=n.T[g],d.Ts&&d.Ts();f=this.wo.xe();a=0;for(c=f.length;a<c;a++)f[a].Oa();this.Pe--;this.ay();for(a=0;this.Um&&10>a++;)this.Fq(this.Um);a=0;for(c=this.Ie.length;a<c;a++)this.Ie[a].Gn=!1;this.Ka.qg&&this.Ka.qg.Hb();U(this.To);this.Pe++;a=0;for(c=this.C.length;a<c;a++)if(e=this.C[a],!e.N&&(e.Za.length||e.Wa.length))for(f=0,b=e.e.length;f<b;f++)for(n=e.e[f],
g=0,k=n.T.length;g<k;g++)d=n.T[g],d.Pg&&d.Pg();f=this.xo.xe();a=0;for(c=f.length;a<c;a++)f[a].Pg();this.Pe--};d.prototype.Of=function(){var a,c,f,b,g,k,e,n,d;a=0;for(c=this.C.length;a<c;a++)if(e=this.C[a],!e.N)for(f=0,b=e.e.length;f<b;f++)if(n=e.e[f],n.Of&&n.Of(),n.T)for(g=0,k=n.T.length;g<k;g++)d=n.T[g],d.Of&&d.Of()};d.prototype.Fq=function(a){var c=this.Ka;this.Ka.yz();var f,b,g;if(this.A)for(f=0,b=this.C.length;f<b;f++)g=this.C[f],g.N||!g.qm||g.global&&0!==g.e.length||-1!==a.Ji.indexOf(g)||g.qm();
c==a&&U(this.ue.Xb);U(this.To);this.ct(!0);a.kp();this.ct(!1);this.Da=!0;this.Yb()};d.prototype.ct=function(a){var c,f,b,g,k,e,n,d,t;c=0;for(f=this.Za.length;c<f;c++)b=this.Za[c],a?b.lj&&b.lj():b.nj&&b.nj();c=0;for(f=this.C.length;c<f;c++)if(b=this.C[c],b.global||b.ta.em)for(g=0,k=b.e.length;g<k;g++)if(e=b.e[g],a?e.lj&&e.lj():e.nj&&e.nj(),e.T)for(n=0,d=e.T.length;n<d;n++)t=e.T[n],a?t.lj&&t.lj():t.nj&&t.nj()};d.prototype.Yh=function(a){this.wo.add(a)};d.prototype.Et=function(a){this.xo.add(a)};d.prototype.Qk=
function(a){return a&&-1!==a.jj?this.lg*a.jj:this.kg};d.prototype.Pc=function(){this.Ka.Pc(this.Va);this.gc&&this.Va.present()};d.prototype.Pb=function(){this.Ha&&(this.mg=1,this.Ka.jg(this.A));this.Ka.Pb(this.A);this.A.Sy()};d.prototype.Gm=function(a){a&&this.zk.push(a)};d.prototype.bt=function(a){Da(this.zk,a)};d.prototype.tg=function(a){a=a.toString();return this.Ue.hasOwnProperty(a)?this.Ue[a]:null};var L=[];d.prototype.$f=function(a){var c,f;c=a.type.name;var b=null;if(this.ig.hasOwnProperty(c)){if(b=
this.ig[c],b.contains(a))return}else b=L.length?L.pop():new ba,this.ig[c]=b;b.add(a);this.Af=!0;if(a.dd)for(c=0,f=a.siblings.length;c<f;c++)this.$f(a.siblings[c]);this.Rn&&b.ai.push(a);this.Qn||(this.Pe++,this.trigger(Object.getPrototypeOf(a.type.ta).j.zu,a),this.Pe--)};d.prototype.Yb=function(){if(this.Af){var a,c,f,b,g,k;this.Rn=!0;f=0;for(g=this.Jd.length;f<g;++f)for(a=this.Jd[f],c=a.type,c.e.push(a),b=0,k=c.Wa.length;b<k;++b)c.Wa[b].e.push(a),c.Wa[b].Xh=!0;U(this.Jd);this.nu();Ua(this.ig);this.Af=
this.Rn=!1}};d.prototype.nu=function(){for(var a in this.ig)this.ig.hasOwnProperty(a)&&this.cu(this.ig[a])};d.prototype.cu=function(a){var c=a.xe(),f=c[0].type,b,g,k,e,n,d;$a(f.e,a);f.Xh=!0;0===f.e.length&&(f.bk=!1);b=0;for(g=f.Wa.length;b<g;++b)d=f.Wa[b],$a(d.e,a),d.Xh=!0;b=0;for(g=this.ue.Xb.length;b<g;++b)if(n=this.ue.Xb[b],n.jc.hasOwnProperty(f.index)&&$a(n.jc[f.index].ge,a),!f.N)for(k=0,e=f.Wa.length;k<e;++k)d=f.Wa[k],n.jc.hasOwnProperty(d.index)&&$a(n.jc[d.index].ge,a);if(n=c[0].k){if(n.md)for(k=
n.e,b=0,g=k.length;b<g;++b)e=k[b],a.contains(e)&&(e.Z(),n.Vb.update(e,e.Hc,null),e.Hc.set(0,0,-1,-1));$a(n.e,a);n.zj(0)}for(b=0;b<c.length;++b)this.bu(c[b],f);a.clear();L.push(a);this.Da=!0};d.prototype.bu=function(a,c){var f,b,g;f=0;for(b=this.zk.length;f<b;++f)this.zk[f](a);a.wf&&c.ok.update(a,a.wf,null);(f=a.k)&&f.Th(a,!0);if(a.T)for(f=0,b=a.T.length;f<b;++f)g=a.T[f],g.fd&&g.fd(),g.behavior.zl.remove(a);this.ws.remove(a);this.wo.remove(a);this.xo.remove(a);a.fd&&a.fd();this.Ue.hasOwnProperty(a.uid.toString())&&
delete this.Ue[a.uid.toString()];this.Cl--;100>c.wk.length&&c.wk.push(a)};var P=[];d.prototype.hg=function(a,c,f,b,g,k){var e,n,d,t;if(!a)return null;var l=this.C[a[1]],v=l.ta.Df;if(this.gl&&v&&!l.Sn||v&&!this.A&&11===a[0][11])return null;var x=c;v||(c=null);var h;l.wk.length?(h=l.wk.pop(),h.Gc=!0,l.ta.I.call(h,l)):(h=new l.ta.I(l),h.Gc=!1);!f||k||this.Ue.hasOwnProperty(a[2].toString())?h.uid=this.kj++:h.uid=a[2];this.Ue[h.uid.toString()]=h;h.Ws=this.rs++;h.wg=l.e.length;e=0;for(n=this.Jd.length;e<
n;++e)this.Jd[e].type===l&&h.wg++;h.Ei=Gb;h.toString=Jb;d=a[3];if(h.Gc)Ua(h.J);else{h.J={};if("undefined"!==typeof cr_is_preview)for(h.ir=[],h.ir.length=d.length,e=0,n=d.length;e<n;e++)h.ir[e]=d[e][1];h.Cb=[];h.Cb.length=d.length}e=0;for(n=d.length;e<n;e++)h.Cb[e]=d[e][0];if(v){var m=a[0];h.x=ga(b)?m[0]:b;h.y=ga(g)?m[1]:g;h.z=m[2];h.width=m[3];h.height=m[4];h.depth=m[5];h.n=m[6];h.opacity=m[7];h.rc=m[8];h.sc=m[9];h.$b=m[10];e=m[11];!this.A&&l.W.length&&(h.$b=e);h.pi=jb(h.$b);this.F&&kb(h,h.$b,this.F);
if(h.Gc){e=0;for(n=m[12].length;e<n;e++)for(d=0,t=m[12][e].length;d<t;d++)h.eb[e][d]=m[12][e][d];h.la.set(0,0,0,0);h.wf.set(0,0,-1,-1);h.Hc.set(0,0,-1,-1);h.zb.Mg(h.la);U(h.Km)}else{h.eb=m[12].slice(0);e=0;for(n=h.eb.length;e<n;e++)h.eb[e]=m[12][e].slice(0);h.za=[];h.nf=[];h.nf.length=l.W.length;h.la=new ua(0,0,0,0);h.wf=new ua(0,0,-1,-1);h.Hc=new ua(0,0,-1,-1);h.zb=new wa;h.Km=[];h.G=Mb;h.JA=Nb;h.cc=Ob;h.Z=Pb;h.Gz=Qb;h.Tt=Rb;h.fe=Sb}h.Yf=!1;h.Cz=0;h.Bz=0;h.Az=null;14===m.length&&(h.Yf=!0,h.Cz=m[13][0],
h.Bz=m[13][1],h.Az=m[13][2]);e=0;for(n=l.W.length;e<n;e++)h.nf[e]=!0;h.$e=!0;h.Xd=Tb;h.Xd();h.Ut=!!h.za.length;h.Jm=!0;h.Pm=!0;l.ak=!0;h.visible=!0;h.jj=-1;h.k=c;h.Yd=c.e.length;h.mg=0;"undefined"===typeof h.X&&(h.X=null);this.Da=h.Ce=!0}var r;U(P);e=0;for(n=l.Wa.length;e<n;e++)P.push.apply(P,l.Wa[e].Za);P.push.apply(P,l.Za);if(h.Gc)for(e=0,n=P.length;e<n;e++){var p=P[e];r=h.T[e];r.Gc=!0;p.behavior.I.call(r,p,h);m=a[4][e];d=0;for(t=m.length;d<t;d++)r.u[d]=m[d];r.D();p.behavior.zl.add(h)}else for(h.T=
[],e=0,n=P.length;e<n;e++)p=P[e],r=new p.behavior.I(p,h),r.Gc=!1,r.u=a[4][e].slice(0),r.D(),h.T.push(r),p.behavior.zl.add(h);m=a[5];if(h.Gc)for(e=0,n=m.length;e<n;e++)h.u[e]=m[e];else h.u=m.slice(0);this.Jd.push(h);this.Af=!0;c&&(c.ki(h,!0),1!==c.Dc||1!==c.Ec)&&(l.bk=!0);this.Cl++;if(l.dd){if(h.dd=!0,h.Gc?U(h.siblings):h.siblings=[],!f&&!k){e=0;for(n=l.Oc.length;e<n;e++)if(l.Oc[e]!==l){if(!l.Oc[e].be)return null;h.siblings.push(this.hg(l.Oc[e].be,x,!1,v?h.x:b,v?h.y:g,!0))}e=0;for(n=h.siblings.length;e<
n;e++)for(h.siblings[e].siblings.push(h),d=0;d<n;d++)e!==d&&h.siblings[e].siblings.push(h.siblings[d])}}else h.dd=!1,h.siblings=null;h.D();e=0;for(n=h.T.length;e<n;e++)h.T[e].Oy&&h.T[e].Oy();return h};d.prototype.Ci=function(a){var c,f;c=0;for(f=this.Ka.Y.length;c<f;c++){var b=this.Ka.Y[c];if(mb(b.name,a))return b}return null};d.prototype.Me=function(a){a=ra(a);0>a&&(a=0);a>=this.Ka.Y.length&&(a=this.Ka.Y.length-1);return this.Ka.Y[a]};d.prototype.Vm=function(a){var c,f;c=0;for(f=a.length;c<f;c++)a[c].Ea().La=
!0};d.prototype.tj=function(a){var c,f;c=0;for(f=a.length;c<f;c++)a[c].tj()};d.prototype.Mo=function(a){var c,f;c=0;for(f=a.length;c<f;c++)a[c].Mo()};d.prototype.Sh=function(a){var c,f;c=0;for(f=a.length;c<f;c++)a[c].Sh()};d.prototype.Ot=function(a){if(a.ak){var c,f,b=a.e;c=0;for(f=b.length;c<f;++c)b[c].Tt();b=this.Jd;c=0;for(f=b.length;c<f;++c)b[c].type===a&&b[c].Tt();a.ak=!1}};d.prototype.zx=function(a,c,f,b){var e,g,k=a?1!==a.Dc||1!==a.Ec:!1;if(c.N)for(a=0,e=c.yl.length;a<e;++a)g=c.yl[a],k||g.bk?
Ba(b,g.e):(this.Ot(g),g.ok.Rl(f,b));else k||c.bk?Ba(b,c.e):(this.Ot(c),c.ok.Rl(f,b))};d.prototype.An=function(a,c,f,b){var e,g;e=0;for(g=c.length;e<g;++e)this.zx(a,c[e],f,b)};d.prototype.Lx=function(a,c,f){var b=this.xt;b&&this.An(a,b.Al,c,f)};d.prototype.Dx=function(a,c,f){var b=this.rr;b&&this.An(a,b.Al,c,f)};d.prototype.Jj=function(a,c,f){var b=a.Ea(),e,g,k,n,d=this.fc().nc.Nd,t,l,h;if(b.La)for(b.La=!1,U(b.e),e=0,n=a.e.length;e<n;e++)k=a.e[e],k.Z(),t=k.k.kb(c,f,!0),l=k.k.kb(c,f,!1),k.cc(t,l)?b.e.push(k):
d&&b.na.push(k);else{g=0;h=d?b.na:b.e;e=0;for(n=h.length;e<n;e++)k=h[e],k.Z(),t=k.k.kb(c,f,!0),l=k.k.kb(c,f,!1),k.cc(t,l)&&(d?b.e.push(k):(b.e[g]=b.e[e],g++));h.length=g}a.Ae();return b.Fn()};d.prototype.yd=function(a,c){if(!(a&&c&&a!==c&&a.Ce&&c.Ce))return!1;a.Z();c.Z();var f=a.k,b=c.k,e,g,k,n,d,t,l,h;if(f===b||f.Dc===b.Dc&&b.Ec===b.Ec&&f.scale===b.scale&&f.n===b.n&&f.lc===b.lc){if(!a.la.hy(c.la)||!a.zb.jr(c.zb)||a.Yf&&c.Yf)return!1;if(a.Yf)return this.Ct(a,c);if(c.Yf)return this.Ct(c,a);l=a.X&&
!a.X.Cf();e=c.X&&!c.X.Cf();if(!l&&!e)return!0;l?(a.X.qf(a.width,a.height,a.n),l=a.X):(this.Ud.Uf(a.zb,a.x,a.y,a.width,a.height),l=this.Ud);e?(c.X.qf(c.width,c.height,c.n),h=c.X):(this.Ud.Uf(c.zb,c.x,c.y,c.width,c.height),h=this.Ud);return l.Ki(h,c.x-a.x,c.y-a.y)}l=a.X&&!a.X.Cf();e=c.X&&!c.X.Cf();l?(a.X.qf(a.width,a.height,a.n),this.Ud.mt(a.X)):this.Ud.Uf(a.zb,a.x,a.y,a.width,a.height);l=this.Ud;e?(c.X.qf(c.width,c.height,c.n),this.mp.mt(c.X)):this.mp.Uf(c.zb,c.x,c.y,c.width,c.height);h=this.mp;e=
0;for(g=l.ud;e<g;e++)k=2*e,n=k+1,d=l.xb[k],t=l.xb[n],l.xb[k]=f.Ja(d+a.x,t+a.y,!0),l.xb[n]=f.Ja(d+a.x,t+a.y,!1);l.Z();e=0;for(g=h.ud;e<g;e++)k=2*e,n=k+1,d=h.xb[k],t=h.xb[n],h.xb[k]=b.Ja(d+c.x,t+c.y,!0),h.xb[n]=b.Ja(d+c.x,t+c.y,!1);h.Z();return l.Ki(h,0,0)};var I=new wa;new ua(0,0,0,0);var N=[];d.prototype.Ct=function(a,c){var f,b,e,g,k=c.la,n=a.x,d=a.y;a.Sq(k,N);var t=c.X&&!c.X.Cf();f=0;for(b=N.length;f<b;++f)if(e=N[f],g=e.Ys,k.iy(g,n,d)&&(I.Mg(g),I.offset(n,d),I.jr(c.zb)))if(t)if(c.X.qf(c.width,c.height,
c.n),e.Kg){if(e.Kg.Ki(c.X,c.x-(n+g.left),c.y-(d+g.top)))return U(N),!0}else{if(this.Ud.Uf(I,0,0,g.right-g.left,g.bottom-g.top),this.Ud.Ki(c.X,c.x,c.y))return U(N),!0}else if(e.Kg){if(this.Ud.Uf(c.zb,0,0,c.width,c.height),e.Kg.Ki(this.Ud,-(n+g.left),-(d+g.top)))return U(N),!0}else return U(N),!0;U(N);return!1};d.prototype.sp=function(a,c){if(!c)return!1;var f,b,e,g,k;f=0;for(b=a.Za.length;f<b;f++)if(a.Za[f].behavior instanceof c)return!0;if(!a.N)for(f=0,b=a.Wa.length;f<b;f++)for(k=a.Wa[f],e=0,g=k.Za.length;e<
g;e++)if(k.Za[e].behavior instanceof c)return!0;return!1};d.prototype.tp=function(a){return this.sp(a,ic.kA)};d.prototype.up=function(a){return this.sp(a,ic.lA)};var A=[];d.prototype.Lc=function(a){var c,f,b;a.Z();this.Lx(a.k,a.la,A);c=0;for(f=A.length;c<f;++c)if(b=A[c],b.J.solidEnabled&&this.yd(a,b))return U(A),b;U(A);return null};var G=[];d.prototype.Wf=function(a,c){var f=null;c&&(f=G,U(f));a.Z();this.Dx(a.k,a.la,A);var b,e,g;b=0;for(e=A.length;b<e;++b)if(g=A[b],g.J.jumpthruEnabled&&this.yd(a,
g))if(c)f.push(g);else return U(A),g;U(A);return f};d.prototype.Rd=function(a,c,f,b,e,g){b=b||50;var k=a.x,n=a.y,d,t=null,l=null;for(d=0;d<b;d++)if(a.x=k+c*d,a.y=n+f*d,a.G(),!this.yd(a,t)&&((t=this.Lc(a))&&(l=t),!t&&(e&&(g?t=this.yd(a,g)?g:null:t=this.Wf(a),t&&(l=t)),!t)))return l&&this.Ql(a,c,f,l),!0;a.x=k;a.y=n;a.G();return!1};d.prototype.Oo=function(a,c,f,b){b=b||50;var e=a.x,g=a.y,k=null,n=null,d,t,l;for(d=0;d<b;++d)for(t=0;2>t;++t)if(l=2*t-1,a.x=e+c*d*l,a.y=g+f*d*l,a.G(),!this.yd(a,k))if(k=this.Lc(a))n=
k;else return n&&this.Ql(a,c*l,f*l,n),!0;a.x=e;a.y=g;a.G();return!1};d.prototype.Ql=function(a,c,f,b){var e=2,g,k=!1;g=!1;for(var n=a.x,d=a.y;16>=e;)g=1/e,e*=2,a.x+=c*g*(k?1:-1),a.y+=f*g*(k?1:-1),a.G(),this.yd(a,b)?g=k=!0:(g=k=!1,n=a.x,d=a.y);g&&(a.x=n,a.y=d,a.G())};d.prototype.Wy=function(a,c){var f=ga(c)?100:c,b=0,e=a.x,g=a.y,k=0,n=0,d=0,t=this.Lc(a);if(!t)return!0;for(;b<=f;){switch(k){case 0:n=0;d=-1;b++;break;case 1:n=1;d=-1;break;case 2:n=1;d=0;break;case 3:d=n=1;break;case 4:n=0;d=1;break;
case 5:n=-1;d=1;break;case 6:n=-1;d=0;break;case 7:d=n=-1}k=(k+1)%8;a.x=ra(e+n*b);a.y=ra(g+d*b);a.G();if(!this.yd(a,t)&&(t=this.Lc(a),!t))return!0}a.x=e;a.y=g;a.G();return!1};d.prototype.Rf=function(a,c){a.Ce&&c.Ce&&this.To.push([a,c])};var K=-1;d.prototype.trigger=function(a,c,f){if(!this.Ka)return!1;var b=this.Ka.qg;if(!b)return!1;var e=!1,g,k,n;K++;var d=b.bn;k=0;for(n=d.length;k<n;++k)g=this.It(a,c,d[k],f),e=e||g;g=this.It(a,c,b,f);K--;return e||g};d.prototype.It=function(a,c,f,b){var e=!1,g,
k,n,d;if(c)for(n=this.qp(a,c,c.type.name,f,b),e=e||n,d=c.type.Wa,g=0,k=d.length;g<k;++g)n=this.qp(a,c,d[g].name,f,b),e=e||n;else n=this.qp(a,c,"system",f,b),e=e||n;return e};d.prototype.qp=function(a,c,f,b,e){var g,k=!1,n=!1,n="undefined"!==typeof e,d=(n?b.Kq:b.Jt)[f];if(!d)return k;var t=null;b=0;for(g=d.length;b<g;++b)if(d[b].method==a){t=d[b].xi;break}if(!t)return k;var l;n?l=t[e]:l=t;if(!l)return null;b=0;for(g=l.length;b<g;b++)a=l[b][0],e=l[b][1],n=this.ox(c,f,a,e),k=k||n;return k};d.prototype.ox=
function(a,c,f,b){var e,g,k=!1;this.rp++;var n=this.fc().nc;n&&this.tj(n.Vf);var d=1<this.rp;this.tj(f.Vf);d&&this.Vy();var t=this.No(f);t.nc=f;a&&(e=this.types[c].Ea(),e.La=!1,U(e.e),e.e[0]=a,this.types[c].Ae());a=!0;if(f.parent){c=t.Bt;for(e=f.parent;e;)c.push(e),e=e.parent;c.reverse();e=0;for(g=c.length;e<g;e++)if(!c[e].gz()){a=!1;break}}a&&(this.Dk++,f.Nd?f.fz(b):f.Hb(),k=k||t.Bg);this.Rs();d&&this.Ny();this.Sh(f.Vf);n&&this.Sh(n.Vf);this.Af&&0===this.Pe&&0===K&&!this.Tn&&this.Yb();this.rp--;
return k};d.prototype.Tq=function(){var a=this.fc();return a.nc.ac[a.Nc]};d.prototype.Vy=function(){this.rl++;this.rl>=this.po.length&&this.po.push([])};d.prototype.Ny=function(){this.rl--};d.prototype.Uq=function(){return this.po[this.rl]};d.prototype.No=function(a){this.Ck++;this.Ck>=this.hn.length&&this.hn.push(new Ub);var c=this.fc();c.reset(a);return c};d.prototype.Rs=function(){this.Ck--};d.prototype.fc=function(){return this.hn[this.Ck]};d.prototype.Vq=function(a,c){for(var f,b,e,g,k,n;c;){f=
0;for(b=c.xd.length;f<b;f++)if(n=c.xd[f],n instanceof Vb&&mb(a,n.name))return n;c=c.parent}f=0;for(b=this.Ie.length;f<b;f++)for(k=this.Ie[f],e=0,g=k.yf.length;e<g;e++)if(n=k.yf[e],n instanceof Vb&&mb(a,n.name))return n;return null};d.prototype.Xq=function(a){var c,f;c=0;for(f=this.Md.length;c<f;c++)if(this.Md[c].fa===a)return this.Md[c];return null};d.prototype.Sk=function(a){var c,f;c=0;for(f=this.C.length;c<f;c++)if(this.C[c].fa===a)return this.C[c];return null};d.prototype.Ax=function(a){var c,
f;c=0;for(f=this.Yg.length;c<f;c++)if(this.Yg[c].fa===a)return this.Yg[c];return null};d.prototype.fw=function(a,c){this.Fj=[a,c];this.Da=!0};d.prototype.ay=function(){var a=this,c=this.bp,f=this.Re,b=this.ml,e=!1;this.tt&&(e=!0,c="__c2_continuouspreview",this.tt=!1);if(c.length){this.Yb();f=this.kz();if(p()&&!this.cd)h(c,f,function(){w("Saved state to IndexedDB storage ("+f.length+" bytes)");a.Re=f;a.trigger(X.prototype.j.Am,null);f=a.Re="";e&&l()},function(b){try{localStorage.setItem("__c2save_"+
c,f),w("Saved state to WebStorage ("+f.length+" bytes)"),a.Re=f,a.trigger(X.prototype.j.Am,null),f=a.Re="",e&&l()}catch(g){w("Failed to save game state: "+b+"; "+g),a.trigger(X.prototype.j.Xp,null)}});else try{localStorage.setItem("__c2save_"+c,f),w("Saved state to WebStorage ("+f.length+" bytes)"),a.Re=f,this.trigger(X.prototype.j.Am,null),f=a.Re="",e&&l()}catch(g){w("Error saving to WebStorage: "+g),a.trigger(X.prototype.j.Xp,null)}this.ml=this.bp="";this.Fb=null}if(b.length){if(p()&&!this.cd)r(b,
function(c){c?(a.Fb=c,w("Loaded state from IndexedDB storage ("+a.Fb.length+" bytes)")):(a.Fb=localStorage.getItem("__c2save_"+b)||"",w("Loaded state from WebStorage ("+a.Fb.length+" bytes)"));a.Hj=!1;a.Fb||(a.Fb=null,a.trigger(X.prototype.j.Yj,null))},function(){a.Fb=localStorage.getItem("__c2save_"+b)||"";w("Loaded state from WebStorage ("+a.Fb.length+" bytes)");a.Hj=!1;a.Fb||(a.Fb=null,a.trigger(X.prototype.j.Yj,null))});else{try{this.Fb=localStorage.getItem("__c2save_"+b)||"",w("Loaded state from WebStorage ("+
this.Fb.length+" bytes)")}catch(k){this.Fb=null}this.Hj=!1;a.Fb||(a.Fb=null,a.trigger(X.prototype.j.Yj,null))}this.bp=this.ml=""}null!==this.Fb&&(this.Yb(),this.wy(this.Fb)?(this.Re=this.Fb,this.trigger(X.prototype.j.Ou,null),this.Re=""):a.trigger(X.prototype.j.Yj,null),this.Fb=null)};d.prototype.kz=function(){var c,f,b,e,g,k,n,d={c2save:!0,version:1,rt:{time:this.Db.ea,walltime:this.jf.ea,timescale:this.Qg,tickcount:this.ef,execcount:this.Dk,next_uid:this.kj,running_layout:this.Ka.fa,start_time_offset:Date.now()-
this.fm},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};c=0;for(f=this.C.length;c<f;c++)if(g=this.C[c],!g.N&&!this.tp(g)){k={instances:[]};Ta(g.J)&&(k.ex=a(g.J));b=0;for(e=g.e.length;b<e;b++)k.instances.push(this.$o(g.e[b]));d.types[g.fa.toString()]=k}c=0;for(f=this.Md.length;c<f;c++)b=this.Md[c],d.layouts[b.fa.toString()]=b.Ya();e=d.events.groups;c=0;for(f=this.Yg.length;c<f;c++)b=this.Yg[c],e[b.fa.toString()]=this.Gi[b.Fi].nh;f=d.events.cnds;for(n in this.vf)this.vf.hasOwnProperty(n)&&
(c=this.vf[n],Ta(c.J)&&(f[n]={ex:a(c.J)}));f=d.events.acts;for(n in this.of)this.of.hasOwnProperty(n)&&(c=this.of[n],Ta(c.J)&&(f[n]={ex:a(c.J)}));f=d.events.vars;for(n in this.bi)this.bi.hasOwnProperty(n)&&(c=this.bi[n],c.el||c.parent&&!c.Ri||(f[n]=c.data));d.system=this.ue.Ya();return JSON.stringify(d)};d.prototype.$s=function(){var a,c,f,b,e,g;this.Ue={};a=0;for(c=this.C.length;a<c;a++)if(f=this.C[a],!f.N)for(b=0,e=f.e.length;b<e;b++)g=f.e[b],this.Ue[g.uid.toString()]=g};d.prototype.wy=function(a){var c;
try{c=JSON.parse(a)}catch(f){return!1}if(!c.c2save||1<c.version)return!1;this.Mi=!0;a=c.rt;this.Db.reset();this.Db.ea=a.time;this.jf.reset();this.jf.ea=a.walltime||0;this.Qg=a.timescale;this.ef=a.tickcount;this.Dk=a.execcount;this.fm=Date.now()-a.start_time_offset;var b=a.running_layout;if(b!==this.Ka.fa)if(b=this.Xq(b))this.Fq(b);else return;var e,g,k,n,d,t,l;t=c.types;for(g in t)if(t.hasOwnProperty(g)&&(n=this.Sk(parseInt(g,10)))&&!n.N&&!this.tp(n)){t[g].ex?n.J=t[g].ex:Ua(n.J);d=n.e;k=t[g].instances;
b=0;for(e=pa(d.length,k.length);b<e;b++)this.nl(d[b],k[b]);b=k.length;for(e=d.length;b<e;b++)this.$f(d[b]);b=d.length;for(e=k.length;b<e;b++){d=null;if(n.ta.Df&&(d=this.Ka.Rk(k[b].w.l),!d))continue;d=this.hg(n.be,d,!1,0,0,!0);this.nl(d,k[b])}n.Xh=!0}this.Yb();this.$s();e=c.layouts;for(g in e)e.hasOwnProperty(g)&&(b=this.Xq(parseInt(g,10)))&&b.lb(e[g]);e=c.events.groups;for(g in e)e.hasOwnProperty(g)&&(b=this.Ax(parseInt(g,10)))&&this.Gi[b.Fi]&&this.Gi[b.Fi].mz(e[g]);b=c.events.cnds;for(g in this.vf)this.vf.hasOwnProperty(g)&&
(b.hasOwnProperty(g)?this.vf[g].J=b[g].ex:this.vf[g].J={});b=c.events.acts;for(g in this.of)this.of.hasOwnProperty(g)&&(b.hasOwnProperty(g)?this.of[g].J=b[g].ex:this.of[g].J={});b=c.events.vars;for(g in b)b.hasOwnProperty(g)&&this.bi.hasOwnProperty(g)&&(this.bi[g].data=b[g]);this.kj=a.next_uid;this.Mi=!1;b=0;for(e=this.Ik.length;b<e;++b)d=this.Ik[b],this.trigger(Object.getPrototypeOf(d.type.ta).j.Mp,d);U(this.Ik);this.ue.lb(c.system);b=0;for(e=this.C.length;b<e;b++)if(n=this.C[b],!n.N&&!this.tp(n))for(c=
0,g=n.e.length;c<g;c++){d=n.e[c];if(n.dd)for(t=d.Ei(),U(d.siblings),a=0,k=n.Oc.length;a<k;a++)l=n.Oc[a],n!==l&&d.siblings.push(l.e[t]);d.Dd&&d.Dd();if(d.T)for(a=0,k=d.T.length;a<k;a++)t=d.T[a],t.Dd&&t.Dd()}return this.Da=!0};d.prototype.$o=function(c,f){var b,e,g,k,n;k=c.type;g=k.ta;var d={};f?d.c2=!0:d.uid=c.uid;Ta(c.J)&&(d.ex=a(c.J));if(c.Cb&&c.Cb.length)for(d.ivs={},b=0,e=c.Cb.length;b<e;b++)d.ivs[c.type.Mn[b].toString()]=c.Cb[b];if(g.Df){g={x:c.x,y:c.y,w:c.width,h:c.height,l:c.k.fa,zi:c.fe()};
0!==c.n&&(g.a=c.n);1!==c.opacity&&(g.o=c.opacity);.5!==c.rc&&(g.hX=c.rc);.5!==c.sc&&(g.hY=c.sc);0!==c.$b&&(g.bm=c.$b);c.visible||(g.v=c.visible);c.Ce||(g.ce=c.Ce);-1!==c.jj&&(g.mts=c.jj);if(k.W.length)for(g.fx=[],b=0,e=k.W.length;b<e;b++)n=k.W[b],g.fx.push({name:n.name,active:c.nf[n.index],params:c.eb[n.index]});d.w=g}if(c.T&&c.T.length)for(d.behs={},b=0,e=c.T.length;b<e;b++)k=c.T[b],k.Ya&&(d.behs[k.type.fa.toString()]=k.Ya());c.Ya&&(d.data=c.Ya());return d};d.prototype.Cx=function(a,c){var f,b;f=
0;for(b=a.Mn.length;f<b;f++)if(a.Mn[f]===c)return f;return-1};d.prototype.yx=function(a,c){var f,b;f=0;for(b=a.T.length;f<b;f++)if(a.T[f].type.fa===c)return f;return-1};d.prototype.nl=function(a,c,f){var b,e,g,k,n;n=a.type;var d=n.ta;if(f){if(!c.c2)return}else a.uid=c.uid;c.ex?a.J=c.ex:Ua(a.J);if(e=c.ivs)for(b in e)e.hasOwnProperty(b)&&(g=this.Cx(n,parseInt(b,10)),0>g||g>=a.Cb.length||(k=e[b],null===k&&(k=NaN),a.Cb[g]=k));if(d.Df){g=c.w;a.k.fa!==g.l&&(e=a.k,a.k=this.Ka.Rk(g.l),a.k?(e.Th(a,!0),a.k.ki(a,
!0),a.G(),a.k.zj(0)):(a.k=e,f||this.$f(a)));a.x=g.x;a.y=g.y;a.width=g.w;a.height=g.h;a.Yd=g.zi;a.n=g.hasOwnProperty("a")?g.a:0;a.opacity=g.hasOwnProperty("o")?g.o:1;a.rc=g.hasOwnProperty("hX")?g.hX:.5;a.sc=g.hasOwnProperty("hY")?g.hY:.5;a.visible=g.hasOwnProperty("v")?g.v:!0;a.Ce=g.hasOwnProperty("ce")?g.ce:!0;a.jj=g.hasOwnProperty("mts")?g.mts:-1;a.$b=g.hasOwnProperty("bm")?g.bm:0;a.pi=jb(a.$b);this.F&&kb(a,a.$b,this.F);a.G();if(g.hasOwnProperty("fx"))for(f=0,e=g.fx.length;f<e;f++)k=n.un(g.fx[f].name),
0>k||(a.nf[k]=g.fx[f].active,a.eb[k]=g.fx[f].params);a.Xd()}if(n=c.behs)for(b in n)n.hasOwnProperty(b)&&(f=this.yx(a,parseInt(b,10)),0>f||a.T[f].lb(n[b]));c.data&&a.lb(c.data)};d.prototype.Lq=function(a,c,f){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(c,f)},f)};d.prototype.qx=function(a,c){this.Lq("data.js",function(f){var b=new FileReader;b.onload=function(c){a(c.target.result)};b.onerror=c;b.readAsText(f)},c)};var S=[],E=0;d.prototype.ro=function(){if(S.length&&
!(8<=E)){E++;var a=S.shift();this.jw(a.filename,a.zz,a.Jw)}};d.prototype.Mq=function(a,c,f){var b=this;S.push({filename:a,zz:function(a){E--;b.ro();c(a)},Jw:function(a){E--;b.ro();f(a)}});this.ro()};d.prototype.jw=function(a,c,f){this.Lq(a,function(a){var f=new FileReader;f.onload=function(a){c(a.target.result)};f.readAsArrayBuffer(a)},f)};d.prototype.rx=function(a,c,f){var b="",g=a.toLowerCase(),e=g.substr(g.length-4),g=g.substr(g.length-5);".mp4"===e?b="video/mp4":".webm"===g?b="video/webm":".m4a"===
e?b="audio/mp4":".mp3"===e&&(b="audio/mpeg");this.Mq(a,function(a){a=URL.createObjectURL(new Blob([a],{type:b}));c(a)},f)};d.prototype.jy=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};d.prototype.jt=function(a,c){this.al&&!this.jy(c)?this.rx(c,function(c){a.src=c},function(a){alert("Failed to load image: "+a)}):a.src=c};d.prototype.Wl=function(a,c){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=c:(a.webkitImageSmoothingEnabled=
c,a.mozImageSmoothingEnabled=c,a.msImageSmoothingEnabled=c)};Wb=function(a){return new d(document.getElementById(a))};Xb=function(a,c){return new d({dc:!0,width:a,height:c})};window.cr_createRuntime=Wb;window.cr_createDCRuntime=Xb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.ni=!0;document.body.appendChild(a);a=new d(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,
window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new d(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var d=document.getElementById("c2canvas");return d?d.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(d,m){var p=window.cr_getC2Runtime();p&&p.fw(d,m)};
window.cr_sizeCanvas=function(d,m){if(0!==d&&0!==m){var p=window.cr_getC2Runtime();p&&p.setSize(d,m)}};window.cr_setSuspended=function(d){var m=window.cr_getC2Runtime();m&&m.setSuspended(d)};
(function(){function d(a,f){this.b=a;this.qg=null;this.scrollX=this.b.nb/2;this.scrollY=this.b.mb/2;this.scale=1;this.n=0;this.ih=!0;this.name=f[0];this.Jy=f[1];this.Iy=f[2];this.width=f[1];this.height=f[2];this.Lt=f[3];this.pt=f[4];this.fa=f[5];var b=f[6],g,e;this.Y=[];this.Ji=[];g=0;for(e=b.length;g<e;g++){var d=new Yb(this,b[g]);d.us=g;this.Y.push(d)}b=f[7];this.Bf=[];g=0;for(e=b.length;g<e;g++){var d=b[g],l=this.b.C[d[1]];l.be||(l.be=d);this.Bf.push(d);-1===this.Ji.indexOf(l)&&this.Ji.push(l)}this.W=
[];this.za=[];this.$e=!0;this.eb=[];g=0;for(e=f[8].length;g<e;g++)this.W.push({id:f[8][g][0],name:f[8][g][1],yb:-1,Xa:!1,Zb:!0,index:g}),this.eb.push(f[8][g][2].slice(0));this.Xd();this.Qf=new ua(0,0,1,1);this.Ro=new ua(0,0,1,1);this.Pf={}}function m(a,f){return a.Yd-f.Yd}function p(a,f){this.tb=a;this.b=a.b;this.e=[];this.scale=1;this.n=0;this.Ge=!1;this.ff=new ua(0,0,0,0);this.Gt=new wa;this.ua=this.ka=this.wa=this.ja=0;this.Tg=!1;this.kf=-1;this.Wm=0;this.name=f[0];this.index=f[1];this.fa=f[2];
this.visible=f[3];this.Gd=f[4];this.Wd=f[5];this.Dc=f[6];this.Ec=f[7];this.opacity=f[8];this.Mk=f[9];this.md=f[10];this.lc=f[11];this.$b=f[12];this.Fw=f[13];this.pi="source-over";this.Ob=this.Wb=0;this.Vb=null;this.Se=q();this.Td=!0;this.Ch=new ua(0,0,-1,-1);this.Nb=new ua(0,0,-1,-1);this.md&&(this.Vb=new ib(this.b.nb,this.b.mb));this.qe=!1;var b=f[14],g,e;this.yt=[];this.bd=[];this.si=[];g=0;for(e=b.length;g<e;g++){var d=b[g],l=this.b.C[d[1]];l.be||(l.be=d,l.ew=this.index);this.bd.push(d);-1===this.tb.Ji.indexOf(l)&&
this.tb.Ji.push(l)}Aa(this.yt,this.bd);this.W=[];this.za=[];this.$e=!0;this.eb=[];g=0;for(e=f[15].length;g<e;g++)this.W.push({id:f[15][g][0],name:f[15][g][1],yb:-1,Xa:!1,Zb:!0,index:g}),this.eb.push(f[15][g][2].slice(0));this.Xd();this.Qf=new ua(0,0,1,1);this.Ro=new ua(0,0,1,1)}function q(){return a.length?a.pop():[]}function h(c){U(c);a.push(c)}d.prototype.jz=function(a){var f=a.type.fa.toString();this.Pf.hasOwnProperty(f)||(this.Pf[f]=[]);this.Pf[f].push(this.b.$o(a))};d.prototype.br=function(){var a=
this.Y[0];return!a.Wd&&1===a.opacity&&!a.Mk&&a.visible};d.prototype.Xd=function(){U(this.za);this.$e=!0;var a,f,b;a=0;for(f=this.W.length;a<f;a++)b=this.W[a],b.Zb&&(this.za.push(b),b.Xa||(this.$e=!1))};d.prototype.tn=function(a){var f,b,e;f=0;for(b=this.W.length;f<b;f++)if(e=this.W[f],e.name===a)return e;return null};var r=[],l=!0;d.prototype.kp=function(){this.pt&&(this.qg=this.b.jn[this.pt],this.qg.vp());this.b.Ka=this;this.width=this.Jy;this.height=this.Iy;this.scrollX=this.b.nb/2;this.scrollY=
this.b.mb/2;var a,f,b,e,d,h,p;a=0;for(b=this.b.C.length;a<b;a++)if(f=this.b.C[a],!f.N)for(d=f.e,f=0,e=d.length;f<e;f++)if(h=d[f],h.k){var n=h.k.us;n>=this.Y.length&&(n=this.Y.length-1);h.k=this.Y[n];-1===h.k.e.indexOf(h)&&h.k.e.push(h);h.k.Tg=!0}if(!l)for(a=0,b=this.Y.length;a<b;++a)this.Y[a].e.sort(m);U(r);this.Pv();a=0;for(b=this.Y.length;a<b;a++)h=this.Y[a],h.aw(),h.um();d=!1;if(!this.ih){for(p in this.Pf)if(this.Pf.hasOwnProperty(p)&&(f=this.b.Sk(parseInt(p,10)))&&!f.N&&this.b.up(f)){e=this.Pf[p];
a=0;for(b=e.length;a<b;a++){h=null;if(f.ta.Df&&(h=this.Rk(e[a].w.l),!h))continue;h=this.b.hg(f.be,h,!1,0,0,!0);this.b.nl(h,e[a]);d=!0;r.push(h)}U(e)}a=0;for(b=this.Y.length;a<b;a++)this.Y[a].e.sort(m),this.Y[a].Tg=!0}d&&(this.b.Yb(),this.b.$s());for(a=0;a<r.length;a++)if(h=r[a],h.type.dd)for(b=h.Ei(),f=0,e=h.type.Oc.length;f<e;f++)p=h.type.Oc[f],h.type!==p&&(p.e.length>b?h.siblings.push(p.e[b]):p.be&&(d=this.b.hg(p.be,h.k,!0,h.x,h.y,!0),this.b.Yb(),p.rm(),h.siblings.push(d),r.push(d)));a=0;for(b=
this.Bf.length;a<b;a++)h=this.Bf[a],f=this.b.C[h[1]],f.dd||this.b.hg(this.Bf[a],null,!0);this.b.Um=null;this.b.Yb();if(this.b.Va&&!this.b.Fa)for(a=0,b=this.b.C.length;a<b;a++)p=this.b.C[a],!p.N&&p.e.length&&p.Nl&&p.Nl(this.b.Va);if(this.b.Mi)Aa(this.b.Ik,r);else for(a=0,b=r.length;a<b;a++)h=r[a],this.b.trigger(Object.getPrototypeOf(h.type.ta).j.Mp,h);U(r);this.b.Mi||this.b.trigger(X.prototype.j.Rp,null);this.ih=!1};d.prototype.$v=function(){var a,f,b,e,d;f=a=0;for(b=this.Bf.length;a<b;a++)e=this.Bf[a],
d=this.b.C[e[1]],d.global?d.dd||this.b.hg(e,null,!0):(this.Bf[f]=e,f++);za(this.Bf,f)};d.prototype.yz=function(){this.b.Mi||this.b.trigger(X.prototype.j.Nu,null);this.b.Qn=!0;U(this.b.ue.Xb);var a,f,b,e,d,h;if(!this.ih)for(a=0,f=this.Y.length;a<f;a++)for(this.Y[a].xp(),d=this.Y[a].e,b=0,e=d.length;b<e;b++)h=d[b],h.type.global||this.b.up(h.type)&&this.jz(h);a=0;for(f=this.Y.length;a<f;a++){d=this.Y[a].e;b=0;for(e=d.length;b<e;b++)h=d[b],h.type.global||this.b.$f(h);this.b.Yb();U(d);this.Y[a].Tg=!0}a=
0;for(f=this.b.C.length;a<f;a++)if(d=this.b.C[a],!(d.global||d.ta.Df||d.ta.em||d.N)){b=0;for(e=d.e.length;b<e;b++)this.b.$f(d.e[b]);this.b.Yb()}l=!1;this.b.Qn=!1};new ua(0,0,0,0);d.prototype.Pc=function(a){var f,b=a,e=!1,d=!this.b.Zc;d&&(this.b.ll||(this.b.ll=document.createElement("canvas"),f=this.b.ll,f.width=this.b.S,f.height=this.b.R,this.b.Jr=f.getContext("2d"),e=!0),f=this.b.ll,b=this.b.Jr,f.width!==this.b.S&&(f.width=this.b.S,e=!0),f.height!==this.b.R&&(f.height=this.b.R,e=!0),e&&this.b.Wl(b,
this.b.Ga));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.b.zq&&!this.br()&&b.clearRect(0,0,this.b.S,this.b.R);var l,h,e=0;for(l=this.Y.length;e<l;e++)h=this.Y[e],h.visible&&0<h.opacity&&11!==h.$b&&(h.e.length||!h.Wd)?h.Pc(b):h.um();d&&a.drawImage(f,0,0,this.b.width,this.b.height)};d.prototype.jg=function(a){a.it(!0);this.b.ub||(this.b.ub=a.ec(this.b.S,this.b.R,this.b.Ga));if(this.b.ub.fg!==this.b.S||this.b.ub.eg!==this.b.R)a.deleteTexture(this.b.ub),this.b.ub=a.ec(this.b.S,this.b.R,
this.b.Ga);a.wd(this.b.ub);this.b.Zc||a.Lg(this.b.S,this.b.R);var f,b;for(f=this.Y.length-1;0<=f;--f)b=this.Y[f],b.visible&&1===b.opacity&&b.$e&&0===b.$b&&(b.e.length||!b.Wd)?b.jg(a):b.um();a.it(!1)};d.prototype.Pb=function(a){var f=0<this.za.length||this.b.$h||!this.b.Zc||this.b.Ha;if(f){this.b.ub||(this.b.ub=a.ec(this.b.S,this.b.R,this.b.Ga));if(this.b.ub.fg!==this.b.S||this.b.ub.eg!==this.b.R)a.deleteTexture(this.b.ub),this.b.ub=a.ec(this.b.S,this.b.R,this.b.Ga);a.wd(this.b.ub);this.b.Zc||a.Lg(this.b.S,
this.b.R)}else this.b.ub&&(a.wd(null),a.deleteTexture(this.b.ub),this.b.ub=null);this.b.zq&&!this.br()&&a.clear(0,0,0,0);var b,e,d;b=0;for(e=this.Y.length;b<e;b++)d=this.Y[b],d.visible&&0<d.opacity&&(d.e.length||!d.Wd)?d.Pb(a):d.um();f&&(0===this.za.length||1===this.za.length&&this.b.Zc?(1===this.za.length?(f=this.za[0].index,a.Kc(this.za[0].yb),a.Vh(null,1/this.b.S,1/this.b.R,0,0,1,1,this.scale,this.n,0,0,this.b.S/2,this.b.R/2,this.b.Db.ea,this.eb[f]),a.Pl(this.za[0].yb)&&(this.b.Da=!0)):a.Kc(0),
this.b.Zc||a.Lg(this.b.width,this.b.height),a.wd(null),a.ht(!1),a.te(1),a.gb(this.b.ub),a.et(),a.vd(),a.ld(),f=this.b.width/2,b=this.b.height/2,a.Xe(-f,b,f,b,f,-b,-f,-b),a.gb(null),a.ht(!0)):this.Uo(a,null,null,null))};d.prototype.Di=function(){return 0<this.za.length||this.b.$h||!this.b.Zc||this.b.Ha?this.b.ub:null};d.prototype.Yq=function(){var a=this.Y[0].Qc(),f,b,e;f=1;for(b=this.Y.length;f<b;f++)e=this.Y[f],(0!==e.Dc||0!==e.Ec)&&e.Qc()<a&&(a=e.Qc());return a};d.prototype.cp=function(a){if(!this.Lt){var f=
1/this.Yq()*this.b.S/2;a>this.width-f&&(a=this.width-f);a<f&&(a=f)}this.scrollX!==a&&(this.scrollX=a,this.b.Da=!0)};d.prototype.dp=function(a){if(!this.Lt){var f=1/this.Yq()*this.b.R/2;a>this.height-f&&(a=this.height-f);a<f&&(a=f)}this.scrollY!==a&&(this.scrollY=a,this.b.Da=!0)};d.prototype.Pv=function(){this.cp(this.scrollX);this.dp(this.scrollY)};d.prototype.Uo=function(a,f,b,e){var d=b?b.za:f?f.za:this.za,l=1,h=0,n=0,v=0,m=this.b.S,r=this.b.R;b?(l=b.k.Qc(),h=b.k.Bb(),n=b.k.ja,v=b.k.ka,m=b.k.wa,
r=b.k.ua):f&&(l=f.Qc(),h=f.Bb(),n=f.ja,v=f.ka,m=f.wa,r=f.ua);var p=this.b.pn,q,J,C,B,L=0,P=1,I,N,A=this.b.S,G=this.b.R,K=A/2,S=G/2,E=f?f.Qf:this.Qf,u=f?f.Ro:this.Ro,y=0,F=0,R=0,Q=0,V=A,ea=A,T=G,ma=G,fa=C=0;B=b?b.k.Bb():0;if(b){q=0;for(J=d.length;q<J;q++)C+=a.Ix(d[q].yb),fa+=a.Jx(d[q].yb);Q=b.la;y=f.Ja(Q.left,Q.top,!0,!0);R=f.Ja(Q.left,Q.top,!1,!0);V=f.Ja(Q.right,Q.bottom,!0,!0);T=f.Ja(Q.right,Q.bottom,!1,!0);0!==B&&(q=f.Ja(Q.right,Q.top,!0,!0),J=f.Ja(Q.right,Q.top,!1,!0),F=f.Ja(Q.left,Q.bottom,!0,
!0),Q=f.Ja(Q.left,Q.bottom,!1,!0),B=Math.min(y,V,q,F),V=Math.max(y,V,q,F),y=B,B=Math.min(R,T,J,Q),T=Math.max(R,T,J,Q),R=B);y-=C;R-=fa;V+=C;T+=fa;u.left=y/A;u.top=1-R/G;u.right=V/A;u.bottom=1-T/G;F=y=ra(y);Q=R=ra(R);ea=V=sa(V);ma=T=sa(T);F-=C;Q-=fa;ea+=C;ma+=fa;0>y&&(y=0);0>R&&(R=0);V>A&&(V=A);T>G&&(T=G);0>F&&(F=0);0>Q&&(Q=0);ea>A&&(ea=A);ma>G&&(ma=G);E.left=y/A;E.top=1-R/G;E.right=V/A;E.bottom=1-T/G}else E.left=u.left=0,E.top=u.top=0,E.right=u.right=1,E.bottom=u.bottom=1;fa=b&&(a.rj(d[0].yb)||0!==
C||0!==fa||1!==b.opacity||b.type.ta.ls)||f&&!b&&1!==f.opacity;a.et();if(fa){p[L]||(p[L]=a.ec(A,G,this.b.Ga));if(p[L].fg!==A||p[L].eg!==G)a.deleteTexture(p[L]),p[L]=a.ec(A,G,this.b.Ga);a.Kc(0);a.wd(p[L]);N=ma-Q;a.clearRect(F,G-Q-N,ea-F,N);b?b.Pb(a):(a.gb(this.b.Eb),a.te(f.opacity),a.vd(),a.translate(-K,-S),a.ld(),a.Sd(y,T,V,T,V,R,y,R,E));u.left=u.top=0;u.right=u.bottom=1;b&&(B=E.top,E.top=E.bottom,E.bottom=B);L=1;P=0}a.te(1);C=d.length-1;var Ha=a.Lo(d[C].yb)||!f&&!b&&!this.b.Zc;q=B=0;for(J=d.length;q<
J;q++){p[L]||(p[L]=a.ec(A,G,this.b.Ga));if(p[L].fg!==A||p[L].eg!==G)a.deleteTexture(p[L]),p[L]=a.ec(A,G,this.b.Ga);a.Kc(d[q].yb);B=d[q].index;a.Pl(d[q].yb)&&(this.b.Da=!0);0!=q||fa?(a.Vh(e,1/A,1/G,u.left,u.top,u.right,u.bottom,l,h,n,v,(n+m)/2,(v+r)/2,this.b.Db.ea,b?b.eb[B]:f?f.eb[B]:this.eb[B]),a.gb(null),q!==C||Ha?(a.wd(p[L]),N=ma-Q,I=G-Q-N,a.clearRect(F,I,ea-F,N)):(b?a.Ze(b.Wb,b.Ob):f&&a.Ze(f.Wb,f.Ob),a.wd(e)),a.gb(p[P]),a.vd(),a.translate(-K,-S),a.ld(),a.Sd(y,T,V,T,V,R,y,R,E),q!==C||Ha||a.gb(null)):
(a.wd(p[L]),N=ma-Q,I=G-Q-N,a.clearRect(F,I,ea-F,N),b?(b.Mb&&b.Mb.P?(I=b.Mb.P,P=1/I.width,I=1/I.height):(P=1/b.width,I=1/b.height),a.Vh(e,P,I,u.left,u.top,u.right,u.bottom,l,h,n,v,(n+m)/2,(v+r)/2,this.b.Db.ea,b.eb[B]),b.Pb(a)):(a.Vh(e,1/A,1/G,0,0,1,1,l,h,n,v,(n+m)/2,(v+r)/2,this.b.Db.ea,f?f.eb[B]:this.eb[B]),a.gb(f?this.b.Eb:this.b.ub),a.vd(),a.translate(-K,-S),a.ld(),a.Sd(y,T,V,T,V,R,y,R,E)),u.left=u.top=0,u.right=u.bottom=1,b&&!Ha&&(B=T,T=R,R=B));L=0===L?1:0;P=0===L?1:0}Ha&&(a.Kc(0),b?a.Ze(b.Wb,
b.Ob):f?a.Ze(f.Wb,f.Ob):this.b.Zc||(a.Lg(this.b.width,this.b.height),K=this.b.width/2,S=this.b.height/2,R=y=0,V=this.b.width,T=this.b.height),a.wd(e),a.gb(p[P]),a.vd(),a.translate(-K,-S),a.ld(),b&&1===d.length&&!fa?a.Sd(y,R,V,R,V,T,y,T,E):a.Sd(y,T,V,T,V,R,y,R,E),a.gb(null))};d.prototype.Rk=function(a){var b,e;b=0;for(e=this.Y.length;b<e;b++)if(this.Y[b].fa===a)return this.Y[b];return null};d.prototype.Ya=function(){var a,b,e,g={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.n,w:this.width,h:this.height,
fv:this.ih,persist:this.Pf,fx:[],layers:{}};a=0;for(b=this.W.length;a<b;a++)e=this.W[a],g.fx.push({name:e.name,active:e.Zb,params:this.eb[e.index]});a=0;for(b=this.Y.length;a<b;a++)e=this.Y[a],g.layers[e.fa.toString()]=e.Ya();return g};d.prototype.lb=function(a){var b,e,g,d;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.n=a.a;this.width=a.w;this.height=a.h;this.Pf=a.persist;"undefined"!==typeof a.fv&&(this.ih=a.fv);var l=a.fx;b=0;for(e=l.length;b<e;b++)if(g=this.tn(l[b].name))g.Zb=l[b].active,
this.eb[g.index]=l[b].params;this.Xd();b=a.layers;for(d in b)b.hasOwnProperty(d)&&(a=this.Rk(parseInt(d,10)))&&a.lb(b[d])};Kb=d;p.prototype.Xd=function(){U(this.za);this.$e=!0;var a,b,e;a=0;for(b=this.W.length;a<b;a++)e=this.W[a],e.Zb&&(this.za.push(e),e.Xa||(this.$e=!1))};p.prototype.tn=function(a){var b,e,g;b=0;for(e=this.W.length;b<e;b++)if(g=this.W[b],g.name===a)return g;return null};p.prototype.aw=function(){var a,b,e,g,d,l;b=a=0;for(e=this.bd.length;a<e;a++){g=this.bd[a];d=this.b.C[g[1]];l=
this.b.up(d);d=!0;if(!l||this.tb.ih){g=this.b.hg(g,this,!0);if(!g)continue;r.push(g);g.type.global&&(d=!1,this.si.push(g.uid))}d&&(this.bd[b]=this.bd[a],b++)}this.bd.length=b;this.b.Yb();!this.b.A&&this.W.length&&(this.$b=this.Fw);this.pi=jb(this.$b);this.b.F&&kb(this,this.$b,this.b.F);this.Td=!0};p.prototype.Th=function(a,b){var e=Ca(this.e,a);0>e||(b&&this.md&&a.Hc&&a.Hc.right>=a.Hc.left&&(a.Z(),this.Vb.update(a,a.Hc,null),a.Hc.set(0,0,-1,-1)),e===this.e.length-1?this.e.pop():(ya(this.e,e),this.zj(e)),
this.Td=!0)};p.prototype.ki=function(a,b){a.Yd=this.e.length;this.e.push(a);b&&this.md&&a.Hc&&a.G();this.Td=!0};p.prototype.Ry=function(a){this.e.unshift(a);this.zj(0)};p.prototype.By=function(a,b,e){var g=a.fe();b=b.fe();ya(this.e,g);g<b&&b--;e&&b++;b===this.e.length?this.e.push(a):this.e.splice(b,0,a);this.zj(g<b?g:b)};p.prototype.zj=function(a){-1===this.kf?this.kf=a:a<this.kf&&(this.kf=a);this.Td=this.Tg=!0};p.prototype.xp=function(){if(this.Tg){-1===this.kf&&(this.kf=0);var a,b,e;if(this.md)for(a=
this.kf,b=this.e.length;a<b;++a)e=this.e[a],e.Yd=a,this.Vb.yy(e.Hc);else for(a=this.kf,b=this.e.length;a<b;++a)this.e[a].Yd=a;this.Tg=!1;this.kf=-1}};p.prototype.Qc=function(a){return this.Ex()*(this.b.Zc||a?this.b.li:1)};p.prototype.Ex=function(){return(this.scale*this.tb.scale-1)*this.lc+1};p.prototype.Bb=function(){return this.Ge?0:Ia(this.tb.n+this.n)};var a=[],b=[],e=[];p.prototype.yn=function(){this.xp();this.Vb.Rl(this.ja,this.ka,this.wa,this.ua,e);if(!e.length)return q();if(1===e.length){var a=
q();Aa(a,e[0]);U(e);return a}for(var f=!0;1<e.length;){for(var a=e,d=void 0,g=void 0,t=void 0,l=void 0,m=void 0,d=0,g=a.length;d<g-1;d+=2){var t=a[d],l=a[d+1],m=q(),n=t,v=l,r=m,p=0,O=0,M=0,J=n.length,C=v.length,B=void 0,L=void 0;for(r.length=J+C;p<J&&O<C;++M)B=n[p],L=v[O],B.Yd<L.Yd?(r[M]=B,++p):(r[M]=L,++O);for(;p<J;++p,++M)r[M]=n[p];for(;O<C;++O,++M)r[M]=v[O];f||(h(t),h(l));b.push(m)}1===g%2&&(f?(t=q(),Aa(t,a[g-1]),b.push(t)):b.push(a[g-1]));Aa(a,b);U(b);f=!1}a=e[0];U(e);return a};p.prototype.Pc=
function(a){this.qe=this.Mk||1!==this.opacity||0!==this.$b;var b=this.b.canvas,e=a,g=!1;this.qe&&(this.b.kl||(this.b.kl=document.createElement("canvas"),b=this.b.kl,b.width=this.b.S,b.height=this.b.R,this.b.Ir=b.getContext("2d"),g=!0),b=this.b.kl,e=this.b.Ir,b.width!==this.b.S&&(b.width=this.b.S,g=!0),b.height!==this.b.R&&(b.height=this.b.R,g=!0),g&&this.b.Wl(e,this.b.Ga),this.Wd&&e.clearRect(0,0,this.b.S,this.b.R));e.globalAlpha=1;e.globalCompositeOperation="source-over";this.Wd||(e.fillStyle="rgb("+
this.Gd[0]+","+this.Gd[1]+","+this.Gd[2]+")",e.fillRect(0,0,this.b.S,this.b.R));e.save();this.Ge=!0;var g=this.kb(0,0,!0,!0),d=this.kb(0,0,!1,!0);this.Ge=!1;this.b.hd&&(g=Math.round(g),d=Math.round(d));this.Tl(g,d,e);var l=this.Qc();e.scale(l,l);e.translate(-g,-d);this.md?(this.Nb.left=this.Vb.yc(this.ja),this.Nb.top=this.Vb.zc(this.ka),this.Nb.right=this.Vb.yc(this.wa),this.Nb.bottom=this.Vb.zc(this.ua),this.Td||!this.Nb.wi(this.Ch)?(h(this.Se),g=this.yn(),this.Td=!1,this.Ch.qi(this.Nb)):g=this.Se):
g=this.e;for(var m,n=null,d=0,l=g.length;d<l;++d)m=g[d],m!==n&&(this.Aw(m,e),n=m);this.md&&(this.Se=g);e.restore();this.qe&&(a.globalCompositeOperation=this.pi,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};p.prototype.Aw=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Z();var e=a.la;e.right<this.ja||e.bottom<this.ka||e.left>this.wa||e.top>this.ua||(b.globalCompositeOperation=a.pi,a.Pc(b))}};p.prototype.um=function(){this.Ge=!0;var a=this.kb(0,0,!0,!0),b=this.kb(0,0,!1,!0);this.Ge=!1;this.b.hd&&
(a=Math.round(a),b=Math.round(b));this.Tl(a,b,null)};p.prototype.Tl=function(a,b,e){var g=this.Qc();this.ja=a;this.ka=b;this.wa=a+1/g*this.b.S;this.ua=b+1/g*this.b.R;this.ja>this.wa&&(a=this.ja,this.ja=this.wa,this.wa=a);this.ka>this.ua&&(a=this.ka,this.ka=this.ua,this.ua=a);a=this.Bb();0!==a&&(e&&(e.translate(this.b.S/2,this.b.R/2),e.rotate(-a),e.translate(this.b.S/-2,this.b.R/-2)),this.ff.set(this.ja,this.ka,this.wa,this.ua),this.ff.offset((this.ja+this.wa)/-2,(this.ka+this.ua)/-2),this.Gt.nt(this.ff,
a),this.Gt.tq(this.ff),this.ff.offset((this.ja+this.wa)/2,(this.ka+this.ua)/2),this.ja=this.ff.left,this.ka=this.ff.top,this.wa=this.ff.right,this.ua=this.ff.bottom)};p.prototype.jg=function(a){if(this.qe=this.Mk){this.b.Eb||(this.b.Eb=a.ec(this.b.S,this.b.R,this.b.Ga));if(this.b.Eb.fg!==this.b.S||this.b.Eb.eg!==this.b.R)a.deleteTexture(this.b.Eb),this.b.Eb=a.ec(this.b.S,this.b.R,this.b.Ga);a.wd(this.b.Eb)}this.Ge=!0;var b=this.kb(0,0,!0,!0),e=this.kb(0,0,!1,!0);this.Ge=!1;this.b.hd&&(b=Math.round(b),
e=Math.round(e));this.Tl(b,e,null);b=this.Qc();a.vd();a.scale(b,b);a.Ul(-this.Bb());a.translate((this.ja+this.wa)/-2,(this.ka+this.ua)/-2);a.ld();this.md?(this.Nb.left=this.Vb.yc(this.ja),this.Nb.top=this.Vb.zc(this.ka),this.Nb.right=this.Vb.yc(this.wa),this.Nb.bottom=this.Vb.zc(this.ua),this.Td||!this.Nb.wi(this.Ch)?(h(this.Se),b=this.yn(),this.Td=!1,this.Ch.qi(this.Nb)):b=this.Se):b=this.e;for(var g,d=null,e=b.length-1;0<=e;--e)g=b[e],g!==d&&(this.Cw(b[e],a),d=g);this.md&&(this.Se=b);this.Wd||(this.Wm=
this.b.mg++,a.Xl(this.Wm),a.gt(1,1,1),a.Pq(),a.bz())};p.prototype.Pb=function(a){var b=0,e=0;if(this.qe=this.Mk||1!==this.opacity||0<this.za.length||0!==this.$b){this.b.Eb||(this.b.Eb=a.ec(this.b.S,this.b.R,this.b.Ga));if(this.b.Eb.fg!==this.b.S||this.b.Eb.eg!==this.b.R)a.deleteTexture(this.b.Eb),this.b.Eb=a.ec(this.b.S,this.b.R,this.b.Ga);a.wd(this.b.Eb);this.Wd&&a.clear(0,0,0,0)}this.Wd||(this.b.Ha?(a.Xl(this.Wm),a.gt(this.Gd[0]/255,this.Gd[1]/255,this.Gd[2]/255),a.Pq(),a.qz()):a.clear(this.Gd[0]/
255,this.Gd[1]/255,this.Gd[2]/255,1));this.Ge=!0;var g=this.kb(0,0,!0,!0),b=this.kb(0,0,!1,!0);this.Ge=!1;this.b.hd&&(g=Math.round(g),b=Math.round(b));this.Tl(g,b,null);g=this.Qc();a.vd();a.scale(g,g);a.Ul(-this.Bb());a.translate((this.ja+this.wa)/-2,(this.ka+this.ua)/-2);a.ld();this.md?(this.Nb.left=this.Vb.yc(this.ja),this.Nb.top=this.Vb.zc(this.ka),this.Nb.right=this.Vb.yc(this.wa),this.Nb.bottom=this.Vb.zc(this.ua),this.Td||!this.Nb.wi(this.Ch)?(h(this.Se),b=this.yn(),this.Td=!1,this.Ch.qi(this.Nb)):
b=this.Se):b=this.e;var d,l,m=null,e=0;for(d=b.length;e<d;++e)l=b[e],l!==m&&(this.Bw(b[e],a),m=l);this.md&&(this.Se=b);this.qe&&(b=this.za.length?this.za[0].yb:0,e=this.za.length?this.za[0].index:0,0===this.za.length||1===this.za.length&&!a.Lo(b)&&1===this.opacity?(1===this.za.length?(a.Kc(b),a.Vh(this.tb.Di(),1/this.b.S,1/this.b.R,0,0,1,1,g,this.Bb(),this.ja,this.ka,(this.ja+this.wa)/2,(this.ka+this.ua)/2,this.b.Db.ea,this.eb[e]),a.Pl(b)&&(this.b.Da=!0)):a.Kc(0),a.wd(this.tb.Di()),a.te(this.opacity),
a.gb(this.b.Eb),a.Ze(this.Wb,this.Ob),a.vd(),a.ld(),g=this.b.S/2,b=this.b.R/2,a.Xe(-g,b,g,b,g,-b,-g,-b),a.gb(null)):this.tb.Uo(a,this,null,this.tb.Di()))};p.prototype.Bw=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Z();var e=a.la;e.right<this.ja||e.bottom<this.ka||e.left>this.wa||e.top>this.ua||(b.Xl(a.mg),a.Ut?this.Dw(a,b):(b.Kc(0),b.Ze(a.Wb,a.Ob),a.Pb(b)))}};p.prototype.Cw=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Z();var e=a.la;e.right<this.ja||e.bottom<this.ka||e.left>
this.wa||e.top>this.ua||(a.mg=this.b.mg++,0===a.$b&&1===a.opacity&&a.$e&&a.jg&&(b.Xl(a.mg),a.jg(b)))}};p.prototype.Dw=function(a,b){var e=a.za[0].yb,g=a.za[0].index,d=this.Qc();if(1!==a.za.length||b.Lo(e)||b.Uy(e)||(a.n||a.k.Bb())&&b.rj(e)||1!==a.opacity||a.type.ta.ls)this.tb.Uo(b,this,a,this.qe?this.b.Eb:this.tb.Di()),b.vd(),b.scale(d,d),b.Ul(-this.Bb()),b.translate((this.ja+this.wa)/-2,(this.ka+this.ua)/-2),b.ld();else{b.Kc(e);b.Ze(a.Wb,a.Ob);b.Pl(e)&&(this.b.Da=!0);var l=0,h=0,n=0,v=0;b.rj(e)&&
(v=a.la,l=this.Ja(v.left,v.top,!0,!0),h=this.Ja(v.left,v.top,!1,!0),n=this.Ja(v.right,v.bottom,!0,!0),v=this.Ja(v.right,v.bottom,!1,!0),l=l/windowWidth,h=1-h/windowHeight,n=n/windowWidth,v=1-v/windowHeight);var m;a.Mb&&a.Mb.P?(m=a.Mb.P,e=1/m.width,m=1/m.height):(e=1/a.width,m=1/a.height);b.Vh(this.qe?this.b.Eb:this.tb.Di(),e,m,l,h,n,v,d,this.Bb(),this.ja,this.ka,(this.ja+this.wa)/2,(this.ka+this.ua)/2,this.b.Db.ea,a.eb[g]);a.Pb(b)}};p.prototype.kb=function(a,b,e,g){var d=this.b.devicePixelRatio;this.b.yg&&
(a*=d,b*=d);var d=this.b.Ms,l=this.b.Ns,d=(this.tb.scrollX-d)*this.Dc+d,l=(this.tb.scrollY-l)*this.Ec+l,h=d,n=l,v=1/this.Qc(!g);g?(h-=this.b.S*v/2,n-=this.b.R*v/2):(h-=this.b.width*v/2,n-=this.b.height*v/2);h+=a*v;n+=b*v;b=this.Bb();0!==b&&(h-=d,n-=l,a=Math.cos(b),b=Math.sin(b),g=h*a-n*b,n=n*a+h*b,h=g+d,n+=l);return e?h:n};p.prototype.Ja=function(a,b,e,g){var d=this.b.Ms,l=this.b.Ns,h=(this.tb.scrollX-d)*this.Dc+d,n=(this.tb.scrollY-l)*this.Ec+l,l=h,d=n,v=this.Bb();if(0!==v){a-=h;b-=n;var m=Math.cos(-v),
v=Math.sin(-v),r=a*m-b*v;b=b*m+a*v;a=r+h;b+=n}h=1/this.Qc(!g);g?(l-=this.b.S*h/2,d-=this.b.R*h/2):(l-=this.b.width*h/2,d-=this.b.height*h/2);l=(a-l)/h;d=(b-d)/h;a=this.b.devicePixelRatio;this.b.yg&&!g&&(l/=a,d/=a);return e?l:d};p.prototype.Ya=function(){var a,b,e,g={s:this.scale,a:this.n,vl:this.ja,vt:this.ka,vr:this.wa,vb:this.ua,v:this.visible,bc:this.Gd,t:this.Wd,px:this.Dc,py:this.Ec,o:this.opacity,zr:this.lc,fx:[],cg:this.si,instances:[]};a=0;for(b=this.W.length;a<b;a++)e=this.W[a],g.fx.push({name:e.name,
active:e.Zb,params:this.eb[e.index]});return g};p.prototype.lb=function(a){var b,e,g;this.scale=a.s;this.n=a.a;this.ja=a.vl;this.ka=a.vt;this.wa=a.vr;this.ua=a.vb;this.visible=a.v;this.Gd=a.bc;this.Wd=a.t;this.Dc=a.px;this.Ec=a.py;this.opacity=a.o;this.lc=a.zr;this.si=a.cg||[];Aa(this.bd,this.yt);var d=new ba;b=0;for(g=this.si.length;b<g;++b)d.add(this.si[b]);e=b=0;for(g=this.bd.length;b<g;++b)d.contains(this.bd[b][2])||(this.bd[e]=this.bd[b],++e);za(this.bd,e);e=a.fx;b=0;for(g=e.length;b<g;b++)if(a=
this.tn(e[b].name))a.Zb=e[b].active,this.eb[a.index]=e[b].params;this.Xd();this.e.sort(m);this.Tg=!0};Yb=p})();
(function(){function d(a,b){var c,f=a.length;switch(f){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<f;c++)if(a[c]!==b[c])return!1;return!0}}function m(a,b){return a.index-b.index}function p(a){var b,c,f,e;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(m);a.length>=t.length&&(t.length=a.length+1);t[a.length]||(t[a.length]=[]);e=t[a.length];b=0;for(c=e.length;b<c;b++)if(f=e[b],d(a,f))return f;e.push(a);return a}
function q(a,b){this.b=a;this.Jt={};this.Kq={};this.Gn=!1;this.er=new ba;this.bn=[];this.Hm=[];this.name=b[0];var c=b[1];this.yf=[];var f,e;f=0;for(e=c.length;f<e;f++)this.gr(c[f],null,this.yf)}function h(a){this.type=a;this.e=[];this.na=[];this.La=!0}function r(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Na=[];this.Vf=[];this.cr=this.mm=this.pp=this.Kn=this.group=this.wt=!1;this.ac=[];this.Cd=[];this.xd=[];this.Fi="";this.nh=this.Kn=this.group=!1;this.pk=null;c[1]&&(this.Fi=c[1][1].toLowerCase(),
this.group=!0,this.Kn=!!c[1][0],this.pk=[],this.nh=this.Kn,this.b.Yg.push(this),this.b.Gi[this.Fi]=this);this.Nd=c[2];this.fa=c[4];this.group||(this.b.sq[this.fa.toString()]=this);var f=c[5];a=0;for(b=f.length;a<b;a++){var e=new Zb(this,f[a]);e.index=a;this.ac.push(e);this.lq(e.type)}f=c[6];a=0;for(b=f.length;a<b;a++)e=new $b(this,f[a]),e.index=a,this.Cd.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.gr(c[a],this,this.xd);this.fl=!1;this.ac.length&&(this.fl=null==this.ac[0].type&&
this.ac[0].Qb==X.prototype.j.fu)}function l(a,b){var c,f,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.dd))for(c=0,f=a.Oc.length;c<f;c++)e=a.Oc[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function a(a,b){this.Yc=a;this.sheet=a.sheet;this.b=a.b;this.L=[];this.fb=[];this.J={};this.index=-1;this.hi=!1;this.Qb=this.b.lf(b[1]);this.trigger=0<b[3];this.Jq=2===b[3];this.je=b[4];this.Nn=b[5];this.uy=b[6];this.fa=b[7];this.b.vf[this.fa.toString()]=this;-1===b[0]?(this.type=null,this.Hb=this.Zo,this.dg=null,this.Id=-1):
(this.type=this.b.C[b[0]],this.Hb=this.uy?this.hz:this.Yo,b[2]?(this.dg=this.type.Pk(b[2]),this.Id=this.type.rn(b[2])):(this.dg=null,this.Id=-1),this.Yc.parent&&this.Yc.parent.Yl());this.Jq&&(this.Hb=this.iz);if(10===b.length){var c,f,e=b[9];c=0;for(f=e.length;c<f;c++){var g=new ac(this,e[c]);this.L.push(g)}this.fb.length=e.length}}function b(a,b){this.Yc=a;this.sheet=a.sheet;this.b=a.b;this.L=[];this.fb=[];this.J={};this.index=-1;this.hi=!1;this.Qb=this.b.lf(b[1]);-1===b[0]?(this.type=null,this.Hb=
this.Zo,this.dg=null,this.Id=-1):(this.type=this.b.C[b[0]],this.Hb=this.Yo,b[2]?(this.dg=this.type.Pk(b[2]),this.Id=this.type.rn(b[2])):(this.dg=null,this.Id=-1));this.fa=b[3];this.b.of[this.fa.toString()]=this;if(6===b.length){var c,f,e=b[5];c=0;for(f=e.length;c<f;c++){var g=new ac(this,e[c]);this.L.push(g)}this.fb.length=e.length}}function e(){z++;x.length===z&&x.push(new bc);return x[z]}function c(a,b){this.td=a;this.Yc=a.Yc;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.de=null;this.bf=0;this.get=
null;this.Aq=0;this.tb=null;this.key=0;this.object=null;this.index=0;this.Pj=this.Ng=this.Pj=this.Ng=this.Nq=this.rg=this.Qj=null;this.Ad=!1;var c,f,e;switch(b[0]){case 0:case 7:this.de=new cc(this,b[1]);this.bf=0;this.get=this.Qx;break;case 1:this.de=new cc(this,b[1]);this.bf=0;this.get=this.Rx;break;case 5:this.de=new cc(this,b[1]);this.bf=0;this.get=this.Vx;break;case 3:case 8:this.Aq=b[1];this.get=this.Ox;break;case 6:this.tb=this.b.co[b[1]];this.get=this.Wx;break;case 9:this.key=b[1];this.get=
this.Ux;break;case 4:this.object=this.b.C[b[1]];this.get=this.Xx;this.Yc.lq(this.object);this.td instanceof $b?this.Yc.Yl():this.Yc.parent&&this.Yc.parent.Yl();break;case 10:this.index=b[1];a.type&&a.type.N?(this.get=this.Sx,this.Ad=!0):this.get=this.Tx;break;case 11:this.Qj=b[1];this.rg=null;this.get=this.Px;break;case 2:case 12:this.Nq=b[1];this.get=this.Nx;break;case 13:for(this.get=this.Yx,this.Ng=[],this.Pj=[],c=1,f=b.length;c<f;c++)e=new ac(this.td,b[c]),this.Ng.push(e),this.Pj.push(0)}}function f(a,
b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Na=[];this.name=c[1];this.Jn=c[3];this.Ri=!!c[4];this.el=!!c[5];this.fa=c[6];this.b.bi[this.fa.toString()]=this;this.data=this.Jn;this.parent?(this.Hg=this.Ri||this.el?-1:this.b.wz++,this.b.Jv.push(this)):(this.Hg=-1,this.b.Iv.push(this))}function k(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Na=[];this.Ii=null;this.ey=c[1];this.Zb=!0}function g(){this.Bt=[];this.reset(null)}var t=[];q.prototype.toString=function(){return this.name};q.prototype.gr=
function(a,b,c){switch(a[0]){case 0:a=new dc(this,b,a);if(a.Nd)for(c.push(a),c=0,b=a.ac.length;c<b;c++)a.ac[c].trigger&&this.hr(a,c);else a.pr()?this.hr(a,0):c.push(a);break;case 1:a=new Vb(this,b,a);c.push(a);break;case 2:a=new ec(this,b,a),c.push(a)}};q.prototype.ob=function(){var a,b;a=0;for(b=this.yf.length;a<b;a++)this.yf[a].ob(a<b-1&&this.yf[a+1].fl)};q.prototype.vp=function(){U(this.bn);U(this.Hm);this.kq(this);U(this.Hm)};q.prototype.kq=function(a){var b,c,f,e,g=a.bn,d=a.Hm,k=this.er.xe();
b=0;for(c=k.length;b<c;++b)f=k[b],e=f.Ii,!f.Zb||a===e||-1<d.indexOf(e)||(d.push(e),e.kq(a),g.push(e))};q.prototype.Hb=function(a){this.b.aB||(this.Gn=!0,a||(this.b.Tn=!0));var b,c;b=0;for(c=this.yf.length;b<c;b++){var f=this.yf[b];f.Hb();this.b.Vm(f.Na);this.b.Af&&this.b.Yb()}a||(this.b.Tn=!1)};q.prototype.hr=function(a,b){a.Nd||this.b.pm.push(a);var c,f,e=a.ac[b],g;e.type?g=e.type.name:g="system";var d=(c=e.Jq)?this.Kq:this.Jt;d[g]||(d[g]=[]);g=d[g];d=e.Qb;if(c){if(e.L.length&&(e=e.L[0],1===e.type&&
2===e.de.type)){e=e.de.value.toLowerCase();c=0;for(f=g.length;c<f;c++)if(g[c].method==d){c=g[c].xi;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];g.push({method:d,xi:c})}}else{c=0;for(f=g.length;c<f;c++)if(g[c].method==d){g[c].xi.push([a,b]);return}tc&&d===tc.prototype.j.Wg?g.unshift({method:d,xi:[[a,b]]}):g.push({method:d,xi:[[a,b]]})}};Lb=q;h.prototype.Fn=function(){return this.La?this.type.e.length:this.e.length};h.prototype.qd=function(){return this.La?this.type.e:this.e};h.prototype.pj=
function(a){a&&(a.b.fc().nc.Nd?(this.La&&(U(this.e),Aa(this.na,a.type.e),this.La=!1),a=this.na.indexOf(a),-1!==a&&(this.e.push(this.na[a]),this.na.splice(a,1))):(this.La=!1,U(this.e),this.e[0]=a))};qb=h;window._c2hh_="BC50EEC75E42878F96C338C703D4D7BD2F170B37";r.prototype.ob=function(a){var b,c=this.parent;if(this.group)for(this.mm=!0;c;){if(!c.group){this.mm=!1;break}c=c.parent}this.pp=!this.pr()&&(!this.parent||this.parent.group&&this.parent.mm);this.cr=!!a;this.Vf=this.Na.slice(0);for(c=this.parent;c;){a=
0;for(b=c.Na.length;a<b;a++)this.Hv(c.Na[a]);c=c.parent}this.Na=p(this.Na);this.Vf=p(this.Vf);a=0;for(b=this.ac.length;a<b;a++)this.ac[a].ob();a=0;for(b=this.Cd.length;a<b;a++)this.Cd[a].ob();a=0;for(b=this.xd.length;a<b;a++)this.xd[a].ob(a<b-1&&this.xd[a+1].fl)};r.prototype.mz=function(a){if(this.nh!==!!a){this.nh=!!a;var b;a=0;for(b=this.pk.length;a<b;++a)this.pk[a].Nt();0<b&&this.b.Ka.qg&&this.b.Ka.qg.vp()}};r.prototype.lq=function(a){l(a,this.Na)};r.prototype.Hv=function(a){l(a,this.Vf)};r.prototype.Yl=
function(){this.wt=!0;this.parent&&this.parent.Yl()};r.prototype.pr=function(){return this.ac.length?this.ac[0].trigger:!1};r.prototype.Hb=function(){var a,b,c=!1,f=this.b,e=this.b.fc();e.nc=this;var g=this.ac;this.fl||(e.dn=!1);if(this.Nd){0===g.length&&(c=!0);e.Nc=0;for(a=g.length;e.Nc<a;e.Nc++)b=g[e.Nc],b.trigger||(b=b.Hb())&&(c=!0);(e.Bg=c)&&this.Xo()}else{e.Nc=0;for(a=g.length;e.Nc<a;e.Nc++)if(b=g[e.Nc].Hb(),!b){e.Bg=!1;this.pp&&f.Af&&f.Yb();return}e.Bg=!0;this.Xo()}this.Hw(e)};r.prototype.Hw=
function(a){a.Bg&&this.cr&&(a.dn=!0);this.pp&&this.b.Af&&this.b.Yb()};r.prototype.fz=function(a){this.b.fc().nc=this;this.ac[a].Hb()&&(this.Xo(),this.b.fc().Bg=!0)};r.prototype.Xo=function(){var a=this.b.fc(),b;a.mc=0;for(b=this.Cd.length;a.mc<b;a.mc++)if(this.Cd[a.mc].Hb())return;this.dt()};r.prototype.dz=function(){var a=this.b.fc(),b;for(b=this.Cd.length;a.mc<b;a.mc++)if(this.Cd[a.mc].Hb())return;this.dt()};r.prototype.dt=function(){if(this.xd.length){var a,b,c,f,e=this.xd.length-1;this.b.No(this);
if(this.wt)for(a=0,b=this.xd.length;a<b;a++)c=this.xd[a],(f=!this.mm||!this.group&&a<e)&&this.b.Mo(c.Na),c.Hb(),f?this.b.Sh(c.Na):this.b.Vm(c.Na);else for(a=0,b=this.xd.length;a<b;a++)this.xd[a].Hb();this.b.Rs()}};r.prototype.gz=function(){var a=this.b.fc();a.nc=this;var b=!1,c;a.Nc=0;for(c=this.ac.length;a.Nc<c;a.Nc++)if(this.ac[a.Nc].Hb())b=!0;else if(!this.Nd)return!1;return this.Nd?b:!0};r.prototype.ly=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.ac[b].type===a.type)return!1;
return!0};dc=r;a.prototype.ob=function(){var a,b,c;a=0;for(b=this.L.length;a<b;a++)c=this.L[a],c.ob(),c.Ad&&(this.hi=!0)};a.prototype.iz=function(){return!0};a.prototype.Zo=function(){var a,b;a=0;for(b=this.L.length;a<b;a++)this.fb[a]=this.L[a].get();return Sa(this.Qb.apply(this.b.ue,this.fb),this.Nn)};a.prototype.hz=function(){var a,b;a=0;for(b=this.L.length;a<b;a++)this.fb[a]=this.L[a].get();a=this.Qb.apply(this.dg?this.dg:this.type,this.fb);this.type.Ae();return a};a.prototype.Yo=function(){var a,
b,c,f,e,g,d,k,l=this.type,h=l.Ea(),t=this.Yc.Nd&&!this.trigger;b=0;var m=l.dd,r=l.N,p=l.Je,q=this.Id,x=-1<q,z=this.hi,E=this.L,u=this.fb,y=this.Nn,F=this.Qb,R;if(z)for(b=0,e=E.length;b<e;++b)g=E[b],g.Ad||(u[b]=g.get(0));else for(b=0,e=E.length;b<e;++b)u[b]=E[b].get(0);if(h.La){U(h.e);U(h.na);R=l.e;a=0;for(f=R.length;a<f;++a){k=R[a];if(z)for(b=0,e=E.length;b<e;++b)g=E[b],g.Ad&&(u[b]=g.get(a));x?(b=0,r&&(b=k.type.hh[p]),b=F.apply(k.T[q+b],u)):b=F.apply(k,u);(d=Sa(b,y))?h.e.push(k):t&&h.na.push(k)}l.finish&&
l.finish(!0);h.La=!1;l.Ae();return h.Fn()}c=0;R=(d=t&&!this.Yc.ly(this))?h.na:h.e;var Q=!1;a=0;for(f=R.length;a<f;++a){k=R[a];if(z)for(b=0,e=E.length;b<e;++b)g=E[b],g.Ad&&(u[b]=g.get(a));x?(b=0,r&&(b=k.type.hh[p]),b=F.apply(k.T[q+b],u)):b=F.apply(k,u);if(Sa(b,y))if(Q=!0,d){if(h.e.push(k),m)for(b=0,e=k.siblings.length;b<e;b++)g=k.siblings[b],g.type.Ea().e.push(g)}else{R[c]=k;if(m)for(b=0,e=k.siblings.length;b<e;b++)g=k.siblings[b],g.type.Ea().e[c]=g;c++}else if(d){R[c]=k;if(m)for(b=0,e=k.siblings.length;b<
e;b++)g=k.siblings[b],g.type.Ea().na[c]=g;c++}else if(t&&(h.na.push(k),m))for(b=0,e=k.siblings.length;b<e;b++)g=k.siblings[b],g.type.Ea().na.push(g)}za(R,c);if(m)for(r=l.Oc,a=0,f=r.length;a<f;a++)k=r[a].Ea(),d?za(k.na,c):za(k.e,c);c=Q;if(d&&!Q)for(a=0,f=h.e.length;a<f;a++){k=h.e[a];if(z)for(b=0,e=E.length;b<e;b++)g=E[b],g.Ad&&(u[b]=g.get(a));b=x?F.apply(k.T[q],u):F.apply(k,u);if(Sa(b,y)){Q=!0;break}}l.finish&&l.finish(c||t);return t?Q:h.Fn()};Zb=a;b.prototype.ob=function(){var a,b,c;a=0;for(b=this.L.length;a<
b;a++)c=this.L[a],c.ob(),c.Ad&&(this.hi=!0)};b.prototype.Zo=function(){var a=this.b,b,c,f=this.L,e=this.fb;b=0;for(c=f.length;b<c;++b)e[b]=f[b].get();return this.Qb.apply(a.ue,e)};b.prototype.Yo=function(){var a=this.type,b=this.Id,c=a.Je,f=this.hi,e=this.L,g=this.fb,d=this.Qb,k=a.Ea().qd(),a=a.N,l=-1<b,h,t,m,r,p,q;if(f)for(t=0,r=e.length;t<r;++t)p=e[t],p.Ad||(g[t]=p.get(0));else for(t=0,r=e.length;t<r;++t)g[t]=e[t].get(0);h=0;for(m=k.length;h<m;++h){q=k[h];if(f)for(t=0,r=e.length;t<r;++t)p=e[t],
p.Ad&&(g[t]=p.get(h));l?(t=0,a&&(t=q.type.hh[c]),d.apply(q.T[b+t],g)):d.apply(q,g)}return!1};$b=b;var x=[],z=-1;c.prototype.ob=function(){var a,b;if(11===this.type)this.rg=this.b.Vq(this.Qj,this.Yc.parent);else if(13===this.type)for(a=0,b=this.Ng.length;a<b;a++)this.Ng[a].ob();this.de&&this.de.ob()};c.prototype.Ay=function(a){this.Ad||!a||a.ta.em||(this.Ad=!0)};c.prototype.lt=function(){this.Ad=!0};c.prototype.Qx=function(a){this.bf=a||0;a=e();this.de.get(a);z--;return a.data};c.prototype.Rx=function(a){this.bf=
a||0;a=e();this.de.get(a);z--;return ia(a.data)?a.data:""};c.prototype.Xx=function(){return this.object};c.prototype.Ox=function(){return this.Aq};c.prototype.Vx=function(a){this.bf=a||0;a=e();this.de.get(a);z--;return a.Jb()?this.b.Me(a.data):this.b.Ci(a.data)};c.prototype.Wx=function(){return this.tb};c.prototype.Ux=function(){return this.key};c.prototype.Tx=function(){return this.index};c.prototype.Sx=function(a){a=a||0;var b=this.td.type,c=null,c=b.Ea(),f=c.qd();if(f.length)c=f[a%f.length].type;
else if(c.na.length)c=c.na[a%c.na.length].type;else if(b.e.length)c=b.e[a%b.e.length].type;else return 0;return this.index+c.Gk[b.Je]};c.prototype.Px=function(){return this.rg};c.prototype.Nx=function(){return this.Nq};c.prototype.Yx=function(){var a,b;a=0;for(b=this.Ng.length;a<b;a++)this.Pj[a]=this.Ng[a].get();return this.Pj};ac=c;f.prototype.ob=function(){this.Na=p(this.Na)};f.prototype.rz=function(a){var b=this.b.Uq();this.parent&&!this.Ri&&b?(this.Hg>=b.length&&(b.length=this.Hg+1),b[this.Hg]=
a):this.data=a};f.prototype.Mx=function(){var a=this.b.Uq();return!this.parent||this.Ri||!a||this.el?this.data:this.Hg>=a.length||"undefined"===typeof a[this.Hg]?this.Jn:a[this.Hg]};f.prototype.Hb=function(){!this.parent||this.Ri||this.el||this.rz(this.Jn)};Vb=f;k.prototype.toString=function(){return"include:"+this.Ii.toString()};k.prototype.ob=function(){this.Ii=this.b.jn[this.ey];this.sheet.er.add(this);this.Na=p(this.Na);for(var a=this.parent;a;)a.group&&a.pk.push(this),a=a.parent;this.Nt()};k.prototype.Hb=
function(){this.parent&&this.b.tj(this.b.C);this.Ii.Gn||this.Ii.Hb(!0);this.parent&&this.b.Sh(this.b.C)};k.prototype.Nt=function(){for(var a=this.parent;a;){if(a.group&&!a.nh){this.Zb=!1;return}a=a.parent}this.Zb=!0};ec=k;g.prototype.reset=function(a){this.nc=a;this.mc=this.Nc=0;U(this.Bt);this.dn=this.Bg=!1};Ub=g})();
(function(){function d(d,a){this.td=d;this.b=d.b;this.type=a[0];this.get=[this.Zw,this.Vw,this.kx,this.nx,this.Kw,this.lx,this.cx,this.Sw,this.bx,this.jx,this.Lw,this.ix,this.Tw,this.gx,this.$w,this.ax,this.Ww,this.Xw,this.Rw,this.mx,this.hx,this.Yw,this.Qw,this.Uw][this.type];var b=null;this.Te=this.L=this.fb=this.Qb=this.lm=this.second=this.first=this.value=null;this.Id=-1;this.Ld=null;this.Vt=-1;this.rg=this.Qj=null;this.Uh=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new cc(d,a[1]);break;case 18:this.first=new cc(d,a[1]);this.second=new cc(d,a[2]);this.lm=new cc(d,a[3]);break;case 19:this.Qb=this.b.lf(a[1]);this.Qb!==X.prototype.Ia.random&&this.Qb!==X.prototype.Ia.Wv||this.td.lt();this.fb=[];this.L=[];3===a.length?(b=a[2],this.fb.length=b.length+1):this.fb.length=1;break;case 20:this.Te=this.b.C[a[1]];this.Id=-1;this.Qb=this.b.lf(a[2]);this.Uh=a[3];hc.Function&&this.Qb===hc.Function.prototype.Ia.Sz&&this.td.lt();a[4]?this.Ld=new cc(d,a[4]):this.Ld=null;this.fb=
[];this.L=[];6===a.length?(b=a[5],this.fb.length=b.length+1):this.fb.length=1;break;case 21:this.Te=this.b.C[a[1]];this.Uh=a[2];a[3]?this.Ld=new cc(d,a[3]):this.Ld=null;this.Vt=a[4];break;case 22:this.Te=this.b.C[a[1]];this.Te.Pk(a[2]);this.Id=this.Te.rn(a[2]);this.Qb=this.b.lf(a[3]);this.Uh=a[4];a[5]?this.Ld=new cc(d,a[5]):this.Ld=null;this.fb=[];this.L=[];7===a.length?(b=a[6],this.fb.length=b.length+1):this.fb.length=1;break;case 23:this.Qj=a[1],this.rg=null}this.td.Ay(this.Te);4<=this.type&&17>=
this.type&&(this.first=new cc(d,a[1]),this.second=new cc(d,a[2]));if(b){var e,c;e=0;for(c=b.length;e<c;e++)this.L.push(new cc(d,b[e]))}}function m(){++r;h.length===r&&h.push(new bc);return h[r]}function p(d,a,b){var e,c;e=0;for(c=d.length;e<c;++e)d[e].get(b),a[e+1]=b.data}function q(d,a){this.type=d||fc.Vg;this.data=a||0;this.Jg=null;this.type==fc.Vg&&(this.data=Math.floor(this.data))}d.prototype.ob=function(){23===this.type&&(this.rg=this.td.b.Vq(this.Qj,this.td.Yc.parent));this.first&&this.first.ob();
this.second&&this.second.ob();this.lm&&this.lm.ob();this.Ld&&this.Ld.ob();if(this.L){var d,a;d=0;for(a=this.L.length;d<a;d++)this.L[d].ob()}};var h=[],r=-1;d.prototype.mx=function(d){var a=this.L,b=this.fb;b[0]=d;d=m();p(a,b,d);--r;this.Qb.apply(this.b.ue,b)};d.prototype.hx=function(d){var a=this.Te,b=this.fb,e=this.L,c=this.Ld,f=this.Qb,k=this.td.bf,g=a.Ea(),h=g.qd();if(!h.length)if(g.na.length)h=g.na;else{this.Uh?d.wc(""):d.Sa(0);return}b[0]=d;d.Jg=a;d=m();p(e,b,d);c&&(c.get(d),d.Jb()&&(k=d.data,
h=a.e));--r;a=h.length;if(k>=a||k<=-a)k%=a;0>k&&(k+=a);f.apply(h[k],b)};d.prototype.Qw=function(d){var a=this.Te,b=this.fb,e=this.L,c=this.Ld,f=this.Id,k=this.Qb,g=this.td.bf,h=a.Ea(),q=h.qd();if(!q.length)if(h.na.length)q=h.na;else{this.Uh?d.wc(""):d.Sa(0);return}b[0]=d;d.Jg=a;d=m();p(e,b,d);c&&(c.get(d),d.Jb()&&(g=d.data,q=a.e));--r;e=q.length;if(g>=e||g<=-e)g%=e;0>g&&(g+=e);g=q[g];q=0;a.N&&(q=g.type.hh[a.Je]);k.apply(g.T[f+q],b)};d.prototype.Yw=function(d){var a=this.Ld,b=this.Te,e=this.Vt,c=this.td.bf,
f=b.Ea(),k=f.qd();if(!k.length)if(f.na.length)k=f.na;else{this.Uh?d.wc(""):d.Sa(0);return}if(a){f=m();a.get(f);if(f.Jb()){c=f.data;k=b.e;0!==k.length&&(c%=k.length,0>c&&(c+=k.length));c=b.wn(c);b=c.Cb[e];ia(b)?d.wc(b):d.H(b);--r;return}--r}a=k.length;if(c>=a||c<=-a)c%=a;0>c&&(c+=a);c=k[c];k=0;b.N&&(k=c.type.Gk[b.Je]);b=c.Cb[e+k];ia(b)?d.wc(b):d.H(b)};d.prototype.Zw=function(d){d.type=fc.Vg;d.data=this.value};d.prototype.Vw=function(d){d.type=fc.Ug;d.data=this.value};d.prototype.kx=function(d){d.type=
fc.String;d.data=this.value};d.prototype.nx=function(d){this.first.get(d);d.Jb()&&(d.data=-d.data)};d.prototype.Kw=function(d){this.first.get(d);var a=m();this.second.get(a);d.Jb()&&a.Jb()&&(d.data+=a.data,a.sh()&&d.Gh());--r};d.prototype.lx=function(d){this.first.get(d);var a=m();this.second.get(a);d.Jb()&&a.Jb()&&(d.data-=a.data,a.sh()&&d.Gh());--r};d.prototype.cx=function(d){this.first.get(d);var a=m();this.second.get(a);d.Jb()&&a.Jb()&&(d.data*=a.data,a.sh()&&d.Gh());--r};d.prototype.Sw=function(d){this.first.get(d);
var a=m();this.second.get(a);d.Jb()&&a.Jb()&&(d.data/=a.data,d.Gh());--r};d.prototype.bx=function(d){this.first.get(d);var a=m();this.second.get(a);d.Jb()&&a.Jb()&&(d.data%=a.data,a.sh()&&d.Gh());--r};d.prototype.jx=function(d){this.first.get(d);var a=m();this.second.get(a);d.Jb()&&a.Jb()&&(d.data=Math.pow(d.data,a.data),a.sh()&&d.Gh());--r};d.prototype.Lw=function(d){this.first.get(d);var a=m();this.second.get(a);a.wh()||d.wh()?this.Nw(d,a):this.Mw(d,a);--r};d.prototype.Nw=function(d,a){d.wh()&&
a.wh()?this.Pw(d,a):this.Ow(d,a)};d.prototype.Pw=function(d,a){d.data+=a.data};d.prototype.Ow=function(d,a){d.wh()?d.data+=(Math.round(1E10*a.data)/1E10).toString():d.wc(d.data.toString()+a.data)};d.prototype.Mw=function(d,a){d.Sa(d.data&&a.data?1:0)};d.prototype.ix=function(d){this.first.get(d);var a=m();this.second.get(a);d.Jb()&&a.Jb()&&(d.data||a.data?d.Sa(1):d.Sa(0));--r};d.prototype.Rw=function(d){this.first.get(d);d.data?this.second.get(d):this.lm.get(d)};d.prototype.Tw=function(d){this.first.get(d);
var a=m();this.second.get(a);d.Sa(d.data===a.data?1:0);--r};d.prototype.gx=function(d){this.first.get(d);var a=m();this.second.get(a);d.Sa(d.data!==a.data?1:0);--r};d.prototype.$w=function(d){this.first.get(d);var a=m();this.second.get(a);d.Sa(d.data<a.data?1:0);--r};d.prototype.ax=function(d){this.first.get(d);var a=m();this.second.get(a);d.Sa(d.data<=a.data?1:0);--r};d.prototype.Ww=function(d){this.first.get(d);var a=m();this.second.get(a);d.Sa(d.data>a.data?1:0);--r};d.prototype.Xw=function(d){this.first.get(d);
var a=m();this.second.get(a);d.Sa(d.data>=a.data?1:0);--r};d.prototype.Uw=function(d){var a=this.rg.Mx();ha(a)?d.H(a):d.wc(a)};cc=d;q.prototype.sh=function(){return this.type===fc.Ug};q.prototype.Jb=function(){return this.type===fc.Vg||this.type===fc.Ug};q.prototype.wh=function(){return this.type===fc.String};q.prototype.Gh=function(){this.sh()||(this.wh()&&(this.data=parseFloat(this.data)),this.type=fc.Ug)};q.prototype.Sa=function(d){this.type=fc.Vg;this.data=Math.floor(d)};q.prototype.H=function(d){this.type=
fc.Ug;this.data=d};q.prototype.wc=function(d){this.type=fc.String;this.data=d};q.prototype.sz=function(d){ha(d)?(this.type=fc.Ug,this.data=d):ia(d)?(this.type=fc.String,this.data=d.toString()):(this.type=fc.Vg,this.data=0)};bc=q;fc={Vg:0,Ug:1,String:2}})();function X(d){this.b=d;this.Xb=[]}
X.prototype.Ya=function(){var d={},m,p,q,h,r,l,a,b;d.waits=[];var e=d.waits,c;m=0;for(p=this.Xb.length;m<p;m++){l=this.Xb[m];c={t:l.time,st:l.$l,s:l.Dj,ev:l.pg.fa,sm:[],sols:{}};l.pg.Cd[l.mc]&&(c.act=l.pg.Cd[l.mc].fa);q=0;for(h=l.Na.length;q<h;q++)c.sm.push(l.Na[q].fa);for(r in l.jc)if(l.jc.hasOwnProperty(r)){a=this.b.C[parseInt(r,10)];b={sa:l.jc[r].xj,insts:[]};q=0;for(h=l.jc[r].ge.length;q<h;q++)b.insts.push(l.jc[r].ge[q].uid);c.sols[a.fa.toString()]=b}e.push(c)}return d};
X.prototype.lb=function(d){d=d.waits;var m,p,q,h,r,l,a,b,e,c,f;U(this.Xb);m=0;for(p=d.length;m<p;m++)if(l=d[m],b=this.b.sq[l.ev.toString()]){e=-1;q=0;for(h=b.Cd.length;q<h;q++)if(b.Cd[q].fa===l.act){e=q;break}if(-1!==e){a={jc:{},Na:[],cn:!1};a.time=l.t;a.$l=l.st||"";a.Dj=!!l.s;a.pg=b;a.mc=e;q=0;for(h=l.sm.length;q<h;q++)(b=this.b.Sk(l.sm[q]))&&a.Na.push(b);for(r in l.sols)if(l.sols.hasOwnProperty(r)&&(b=this.b.Sk(parseInt(r,10)))){e=l.sols[r];c={xj:e.sa,ge:[]};q=0;for(h=e.insts.length;q<h;q++)(f=
this.b.tg(e.insts[q]))&&c.ge.push(f);a.jc[b.index.toString()]=c}this.Xb.push(a)}}};
(function(){function d(){}function m(){}function p(){var a;l.length?a=l.pop():a={jc:{},Na:[]};a.cn=!1;return a}function q(){var b;a.length?b=a.pop():b={ge:[]};b.xj=!1;return b}function h(){}var r=X.prototype;d.prototype.hu=function(){return!0};d.prototype.Rp=function(){return!0};d.prototype.Nu=function(){return!0};d.prototype.gu=function(a){var e=this.b.Tq(),c=e.J.Every_lastTime||0,f=this.b.Db.ea;"undefined"===typeof e.J.Every_seconds&&(e.J.Every_seconds=a);var d=e.J.Every_seconds;if(f>=c+d)return e.J.Every_lastTime=
c+d,f>=e.J.Every_lastTime+.04&&(e.J.Every_lastTime=f),e.J.Every_seconds=a,!0;f<c-.1&&(e.J.Every_lastTime=f);return!1};d.prototype.lu=function(a){return(a=this.b.Gi[a.toLowerCase()])&&a.nh};d.prototype.fu=function(){var a=this.b.fc();return a.dn?!1:!a.Bg};d.prototype.Sp=function(){return!0};d.prototype.wu=function(){return!0};d.prototype.Am=function(){return!0};d.prototype.Xp=function(){return!0};d.prototype.Ou=function(){return!0};d.prototype.Yj=function(){return!0};d.prototype.$t=function(a,e,c){return Ma(W(a),
W(c))<=W(e)};d.prototype.ku=function(a,e){return Oa(W(a),W(e))};d.prototype.ju=function(a,e,c){a=Ka(a);e=Ka(e);c=Ka(c);return Oa(c,e)?Oa(a,e)&&!Oa(a,c):!(!Oa(a,e)&&Oa(a,c))};r.j=new d;var l=[],a=[];m.prototype.Bv=function(a){if(!(0>a)){var e,c,f,d=this.b.fc(),g=p();g.time=this.b.Db.ea+a;g.$l="";g.Dj=!1;g.pg=d.nc;g.mc=d.mc+1;a=0;for(e=this.b.C.length;a<e;a++)f=this.b.C[a],c=f.Ea(),c.La&&-1===d.nc.Na.indexOf(f)||(g.Na.push(f),f=q(),f.xj=c.La,Aa(f.ge,c.e),g.jc[a.toString()]=f);this.Xb.push(g);return!0}};
m.prototype.Cv=function(a){var e,c,f,d=this.b.fc(),g=p();g.time=-1;g.$l=a.toLowerCase();g.Dj=!1;g.pg=d.nc;g.mc=d.mc+1;a=0;for(e=this.b.C.length;a<e;a++)f=this.b.C[a],c=f.Ea(),c.La&&-1===d.nc.Na.indexOf(f)||(g.Na.push(f),f=q(),f.xj=c.La,Aa(f.ge,c.e),g.jc[a.toString()]=f);this.Xb.push(g);return!0};m.prototype.xv=function(a){a=a.toLowerCase();var e,c,f;e=0;for(c=this.Xb.length;e<c;++e)f=this.Xb[e],-1===f.time&&f.$l===a&&(f.Dj=!0)};r.K=new m;h.prototype["int"]=function(a,e){ia(e)?(a.Sa(parseInt(e,10)),
isNaN(a.data)&&(a.data=0)):a.Sa(e)};h.prototype["float"]=function(a,e){ia(e)?(a.H(parseFloat(e)),isNaN(a.data)&&(a.data=0)):a.H(e)};h.prototype.random=function(a,e,c){void 0===c?a.H(Math.random()*e):a.H(Math.random()*(c-e)+e)};h.prototype.sqrt=function(a,e){a.H(Math.sqrt(e))};h.prototype.abs=function(a,e){a.H(Math.abs(e))};h.prototype.round=function(a,e){a.Sa(Math.round(e))};h.prototype.floor=function(a,e){a.Sa(Math.floor(e))};h.prototype.ceil=function(a,e){a.Sa(Math.ceil(e))};h.prototype.sin=function(a,
e){a.H(Math.sin(W(e)))};h.prototype.cos=function(a,e){a.H(Math.cos(W(e)))};h.prototype.tan=function(a,e){a.H(Math.tan(W(e)))};h.prototype.asin=function(a,e){a.H(Fa(Math.asin(e)))};h.prototype.acos=function(a,e){a.H(Fa(Math.acos(e)))};h.prototype.atan=function(a,e){a.H(Fa(Math.atan(e)))};h.prototype.exp=function(a,e){a.H(Math.exp(e))};h.prototype.log10=function(a,e){a.H(Math.log(e)/Math.LN10)};h.prototype.max=function(a){var e=arguments[1];"number"!==typeof e&&(e=0);var c,f,d;c=2;for(f=arguments.length;c<
f;c++)d=arguments[c],"number"===typeof d&&e<d&&(e=d);a.H(e)};h.prototype.min=function(a){var e=arguments[1];"number"!==typeof e&&(e=0);var c,f,d;c=2;for(f=arguments.length;c<f;c++)d=arguments[c],"number"===typeof d&&e>d&&(e=d);a.H(e)};h.prototype.kg=function(a){a.H(this.b.kg)};h.prototype.Qg=function(a){a.H(this.b.Qg)};h.prototype.time=function(a){a.H(this.b.Db.ea)};h.prototype.ef=function(a){a.Sa(this.b.ef)};h.prototype.Cl=function(a){a.Sa(this.b.Cl)};h.prototype.nn=function(a){a.Sa(this.b.nn)};
h.prototype.n=function(a,e,c,f,d){a.H(Fa(La(e,c,f,d)))};h.prototype.left=function(a,e,c){a.wc(ia(e)?e.substr(0,c):"")};h.prototype.right=function(a,e,c){a.wc(ia(e)?e.substr(e.length-c):"")};h.prototype.replace=function(a,e,c,f){ia(e)&&ia(c)&&ia(f)?a.wc(e.replace(new RegExp(db(c),"gi"),f)):a.wc(ia(e)?e:"")};h.prototype.trim=function(a,e){a.wc(ia(e)?e.trim():"")};h.prototype.Wv=function(a){var e=ra(Math.random()*(arguments.length-1));a.sz(arguments[e+1])};h.prototype.Xm=function(a){a.H(this.b.Xm/1E3)};
h.prototype.pl=function(a){a.H(this.b.pl)};r.Ia=new h;r.ez=function(){var b,e,c,f,d,g,h=this.b.fc();b=0;for(c=this.Xb.length;b<c;b++){f=this.Xb[b];if(-1===f.time){if(!f.Dj)continue}else if(f.time>this.b.Db.ea)continue;h.nc=f.pg;h.mc=f.mc;h.Nc=0;for(e in f.jc)f.jc.hasOwnProperty(e)&&(d=this.b.C[parseInt(e,10)].Ea(),g=f.jc[e],d.La=g.xj,Aa(d.e,g.ge),d=g,U(d.ge),a.push(d));f.pg.dz();this.b.Vm(f.Na);f.cn=!0}e=b=0;for(c=this.Xb.length;b<c;b++)f=this.Xb[b],this.Xb[e]=f,f.cn?(Ua(f.jc),U(f.Na),l.push(f)):
e++;za(this.Xb,e)}})();
(function(){pb=function(d,p){var q=d[1],h=d[3],r=d[4],l=d[5],a=d[6],b=d[7],e=d[8];p.j||(p.j={});p.K||(p.K={});p.Ia||(p.Ia={});var c=p.j,f=p.K,k=p.Ia;h&&(c.Vz=function(a,b){return gc(this.x,a,b)},c.Wz=function(a,b){return gc(this.y,a,b)},c.aA=function(){var a=this.k;this.Z();var b=this.la;return!(b.right<a.ja||b.bottom<a.ka||b.left>a.wa||b.top>a.ua)},c.bA=function(){this.Z();var a=this.la,b=this.b.Ka;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},c.nA=function(a,b,c){var f=this.Ea(),
e=f.qd();if(!e.length)return!1;var d=e[0],k=d,h=Ra(d.x,d.y,b,c),l,m,r;l=1;for(m=e.length;l<m;l++)if(d=e[l],r=Ra(d.x,d.y,b,c),0===a&&r<h||1===a&&r>h)h=r,k=d;f.pj(k);return!0},f.CA=function(a){this.x!==a&&(this.x=a,this.G())},f.DA=function(a){this.y!==a&&(this.y=a,this.G())},f.yA=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.G()},f.zA=function(a,b){var c=a.Fx(this);if(c){var f;c.vn?(f=c.vn(b,!0),c=c.vn(b,!1)):(f=c.x,c=c.y);if(this.x!==f||this.y!==c)this.x=f,this.y=c,this.G()}},f.gA=
function(a){0!==a&&(this.x+=Math.cos(this.n)*a,this.y+=Math.sin(this.n)*a,this.G())},f.fA=function(a,b){0!==b&&(this.x+=Math.cos(W(a))*b,this.y+=Math.sin(W(a))*b,this.G())},k.dq=function(a){a.H(this.x)},k.fq=function(a){a.H(this.y)},k.kg=function(a){a.H(this.b.Qk(this))});r&&(c.Uz=function(a,b){return gc(this.width,a,b)},c.du=function(a,b){return gc(this.height,a,b)},f.bq=function(a){this.width!==a&&(this.width=a,this.G())},f.qv=function(a){this.height!==a&&(this.height=a,this.G())},f.AA=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.G()},k.GA=function(a){a.H(this.width)},k.iu=function(a){a.H(this.height)},k.Pz=function(a){this.Z();a.H(this.la.left)},k.Rz=function(a){this.Z();a.H(this.la.top)},k.Qz=function(a){this.Z();a.H(this.la.right)},k.Oz=function(a){this.Z();a.H(this.la.bottom)});l&&(c.$t=function(a,b){return Ma(this.n,W(b))<=W(a)},c.ku=function(a){return Oa(this.n,W(a))},c.ju=function(a,b){var c=Ka(a),f=Ka(b),e=Ia(this.n);return Oa(f,c)?Oa(e,c)&&!Oa(e,
f):!(!Oa(e,c)&&Oa(e,f))},f.vA=function(a){a=W(Ga(a));isNaN(a)||this.n===a||(this.n=a,this.G())},f.rA=function(a){0===a||isNaN(a)||(this.n+=W(a),this.n=Ia(this.n),this.G())},f.sA=function(a){0===a||isNaN(a)||(this.n-=W(a),this.n=Ia(this.n),this.G())},f.tA=function(a,b){var c=Na(this.n,W(b),W(a));isNaN(c)||this.n===c||(this.n=c,this.G())},f.uA=function(a,b,c){a=Na(this.n,Math.atan2(c-this.y,b-this.x),W(a));isNaN(a)||this.n===a||(this.n=a,this.G())},f.BA=function(a,b){var c=Math.atan2(b-this.y,a-this.x);
isNaN(c)||this.n===c||(this.n=c,this.G())},k.Nz=function(a){a.H(Ja(this.n))});q||(c.eu=function(a,b,c){return gc(this.Cb[a],b,c)},c.Zz=function(a){return this.Cb[a]},c.oA=function(a,b){var c=this.Ea(),f=c.qd();if(!f.length)return!1;var e=f[0],d=e,k=e.Cb[b],h,l,m;h=1;for(l=f.length;h<l;h++)if(e=f[h],m=e.Cb[b],0===a&&m<k||1===a&&m>k)k=m,d=e;c.pj(d);return!0},c.mA=function(a){var b,c,f,e,d;if(this.b.Tq().Nn){d=this.Ea();if(d.La)for(d.La=!1,U(d.e),U(d.na),f=this.e,b=0,c=f.length;b<c;b++)e=f[b],e.uid===
a?d.na.push(e):d.e.push(e);else{f=b=0;for(c=d.e.length;b<c;b++)e=d.e[b],d.e[f]=e,e.uid===a?d.na.push(e):f++;za(d.e,f)}this.Ae();return!!d.e.length}e=this.b.tg(a);if(!e)return!1;d=this.Ea();if(!d.La&&-1===d.e.indexOf(e))return!1;if(this.N)for(a=e.type.Wa,b=0,c=a.length;b<c;b++){if(a[b]===this)return d.pj(e),this.Ae(),!0}else if(e.type===this)return d.pj(e),this.Ae(),!0;return!1},c.Mp=function(){return!0},c.zu=function(){return!0},f.aq=function(a,b){var c=this.Cb;ha(c[a])?c[a]=ha(b)?b:parseFloat(b):
ia(c[a])&&(c[a]=ia(b)?b:b.toString())},f.Zt=function(a,b){var c=this.Cb;ha(c[a])?c[a]=ha(b)?c[a]+b:c[a]+parseFloat(b):ia(c[a])&&(c[a]=ia(b)?c[a]+b:c[a]+b.toString())},f.Av=function(a,b){var c=this.Cb;ha(c[a])&&(c[a]=ha(b)?c[a]-b:c[a]-parseFloat(b))},f.wA=function(a,b){this.Cb[a]=b?1:0},f.EA=function(a){this.Cb[a]=1-this.Cb[a]},f.Ip=function(){this.b.$f(this)},f.ou||(f.ou=function(a){var b,c;try{b=JSON.parse(a)}catch(f){return}this.b.nl(this,b,!0);this.Dd&&this.Dd();if(this.T)for(a=0,b=this.T.length;a<
b;++a)c=this.T[a],c.Dd&&c.Dd()}),k.Xz=function(a){var b=a.Jg.e.length,c,f,e;c=0;for(f=this.b.Jd.length;c<f;c++)e=this.b.Jd[c],a.Jg.N?0<=e.type.Wa.indexOf(a.Jg)&&b++:e.type===a.Jg&&b++;a.Sa(b)},k.qA=function(a){a.Sa(a.Jg.Ea().qd().length)},k.FA=function(a){a.Sa(this.uid)},k.Yz=function(a){a.Sa(this.Ei())},k.Hp||(k.Hp=function(a){a.wc(JSON.stringify(this.b.$o(this,!0)))}));a&&(c.cA=function(){return this.visible},f.uv=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.Da=!0)},c.Tz=function(a,
b){return gc(lb(100*this.opacity),a,b)},f.tv=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.Da=!0)},k.Opacity=function(a){a.H(lb(100*this.opacity))});b&&(c.$z=function(a){return a?this.k===a:!1},c.pA=function(a){var b=this.Ea(),c=b.qd();if(!c.length)return!1;var f=c[0],e=f,d,k;d=1;for(k=c.length;d<k;d++)if(f=c[d],0===a){if(f.k.index>e.k.index||f.k.index===e.k.index&&f.fe()>e.fe())e=f}else if(f.k.index<e.k.index||f.k.index===e.k.index&&f.fe()<e.fe())e=f;b.pj(e);return!0},
f.jA=function(){var a=this.k,b=a.e;b.length&&b[b.length-1]===this||(a.Th(this,!1),a.ki(this,!1),this.b.Da=!0)},f.hA=function(){var a=this.k,b=a.e;b.length&&b[0]===this||(a.Th(this,!1),a.Ry(this),this.b.Da=!0)},f.iA=function(a){a&&a!=this.k&&(this.k.Th(this,!0),this.k=a,a.ki(this,!0),this.b.Da=!0)},f.IA=function(a,b){var c=0===a;if(b){var f=b.Wq(this);f&&f.uid!==this.uid&&(this.k.index!==f.k.index&&(this.k.Th(this,!0),this.k=f.k,f.k.ki(this,!0)),this.k.By(this,f,c),this.b.Da=!0)}},k.eA=function(a){a.Sa(this.k.us)},
k.dA=function(a){a.wc(this.k.name)},k.HA=function(a){a.Sa(this.fe())});e&&(f.xA=function(a,b){if(this.b.A){var c=this.type.un(b);if(!(0>c)){var f=1===a;this.nf[c]!==f&&(this.nf[c]=f,this.Xd(),this.b.Da=!0)}}},f.$p=function(a,b,c){if(this.b.A){var f=this.type.un(a);0>f||(a=this.type.W[f],f=this.eb[f],b=Math.floor(b),0>b||b>=f.length||(1===this.b.A.Kx(a.yb,b)&&(c/=100),f[b]!==c&&(f[b]=c,a.Zb&&(this.b.Da=!0))))}})};Mb=function(){this.Pm=this.Jm=!0;this.type.ak=!0;this.b.Da=!0;var d,p,q=this.Km;d=0;for(p=
q.length;d<p;++d)q[d](this);this.k.md&&this.Z()};Nb=function(d){d&&this.Km.push(d)};Pb=function(){if(this.Jm){var d=this.la,p=this.zb;d.set(this.x,this.y,this.x+this.width,this.y+this.height);d.offset(-this.rc*this.width,-this.sc*this.height);this.n?(d.offset(-this.x,-this.y),p.nt(d,this.n),p.offset(this.x,this.y),p.tq(d)):p.Mg(d);d.normalize();this.Jm=!1;this.Gz()}};var d=new ua(0,0,0,0);Qb=function(){if(this.k.md){var m=this.k.Vb,p=this.la;d.set(m.yc(p.left),m.zc(p.top),m.yc(p.right),m.zc(p.bottom));
this.Hc.wi(d)||(this.Hc.right<this.Hc.left?m.update(this,null,d):m.update(this,this.Hc,d),this.Hc.qi(d),this.k.Td=!0)}};Rb=function(){if(this.Pm&&this.Ce){this.Z();var m=this.type.ok,p=this.la;d.set(m.yc(p.left),m.zc(p.top),m.yc(p.right),m.zc(p.bottom));this.wf.wi(d)||(this.wf.right<this.wf.left?m.update(this,null,d):m.update(this,this.wf,d),this.wf.qi(d),this.Pm=!1)}};Ob=function(d,p){return this.la.cc(d,p)&&this.zb.cc(d,p)?this.Yf?this.bB(d,p):this.X&&!this.X.Cf()?(this.X.qf(this.width,this.height,
this.n),this.X.cc(d-this.x,p-this.y)):!0:!1};Gb=function(){this.type.rm();return this.wg};Sb=function(){this.k.xp();return this.Yd};Tb=function(){U(this.za);var d,p,q,h=!0;d=0;for(p=this.nf.length;d<p;d++)this.nf[d]&&(q=this.type.W[d],this.za.push(q),q.Xa||(h=!1));this.Ut=!!this.za.length;this.$e=h};Jb=function(){return"Inst"+this.Ws};sb=function(d){if(d&&d.dd&&d.type!=this){var p,q,h;p=0;for(q=d.siblings.length;p<q;p++)if(h=d.siblings[p],h.type==this)return h}d=this.Ea().qd();return d.length?d[0]:
null};vb=function(d){var p=this.Ea().qd();return p.length?p[d.Ei()%p.length]:null};rb=function(){if(this.Xh&&!this.N){var d,p;d=0;for(p=this.e.length;d<p;d++)this.e[d].wg=d;var q=d,h=this.b.Jd;d=0;for(p=h.length;d<p;++d)h[d].type===this&&(h[d].wg=q++);this.Xh=!1}};Eb=function(d){if(d<this.e.length)return this.e[d];d-=this.e.length;var p=this.b.Jd,q,h;q=0;for(h=p.length;q<h;++q)if(p[q].type===this){if(0===d)return p[q];--d}return null};wb=function(){return this.cf[this.ae]};xb=function(){this.ae++;
this.ae===this.cf.length?this.cf.push(new qb(this)):(this.cf[this.ae].La=!0,U(this.cf[this.ae].na))};yb=function(){this.ae++;this.ae===this.cf.length&&this.cf.push(new qb(this));var d=this.cf[this.ae],p=this.cf[this.ae-1];p.La?d.La=!0:(d.La=!1,Aa(d.e,p.e));U(d.na)};zb=function(){this.ae--};Ab=function(d){var p,q,h,r,l,a=0;if(!this.N)for(p=0,q=this.Wa.length;p<q;p++)for(l=this.Wa[p],h=0,r=l.Za.length;h<r;h++){if(d===l.Za[h].name)return this.J.lastBehIndex=a,l.Za[h];a++}p=0;for(q=this.Za.length;p<q;p++){if(d===
this.Za[p].name)return this.J.lastBehIndex=a,this.Za[p];a++}return null};Bb=function(d){return this.Pk(d)?this.J.lastBehIndex:-1};Cb=function(d){var p,q;p=0;for(q=this.W.length;p<q;p++)if(this.W[p].name===d)return p;return-1};Db=function(){if(this.dd&&!this.N){var d,p,q,h,r,l,a;this.rm();l=this.Ea();var b=l.La,e=(d=this.b.fc())&&d.nc&&d.nc.Nd;d=0;for(p=this.Oc.length;d<p;d++)if(r=this.Oc[d],r!==this&&(r.rm(),a=r.Ea(),a.La=b,!b)){U(a.e);q=0;for(h=l.e.length;q<h;++q)a.e[q]=r.wn(l.e[q].wg);if(e)for(U(a.na),
q=0,h=l.na.length;q<h;++q)a.na[q]=r.wn(l.na[q].wg)}}};Fb=function(){return"Type"+this.fa};gc=function(d,p,q){if("undefined"===typeof d||"undefined"===typeof q)return!1;switch(p){case 0:return d===q;case 1:return d!==q;case 2:return d<q;case 3:return d<=q;case 4:return d>q;case 5:return d>=q;default:return!1}}})();
var pc={brightness:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp float brightness;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp float a = front.a;\nif (a != 0.0)\nfront.rgb /= front.a;\nfront.rgb += (brightness - 1.0);\nfront.rgb *= a;\ngl_FragColor = front;\n}",oc:0,pc:0,Bc:!1,Xa:!0,Ac:!1,L:[["brightness",0,1]]},darken:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nfront.rgb /= front.a;\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, vTex));\nback.rgb /= back.a;\nfront.rgb = min(front.rgb, back.rgb) * front.a;\ngl_FragColor = front * back.a;\n}",
oc:0,pc:0,Bc:!0,Xa:!1,Ac:!1,L:[]},glowvertical:{src:"varying mediump vec2 vTex;\nuniform mediump sampler2D samplerFront;\nuniform mediump float pixelHeight;\nuniform mediump float intensity;\nvoid main(void)\n{\nmediump vec4 sum = vec4(0.0);\nmediump float halfPixelHeight = pixelHeight / 2.0;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 7.0 + halfPixelHeight)) * 0.06;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 5.0 + halfPixelHeight)) * 0.10;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 3.0 + halfPixelHeight)) * 0.13;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 1.0 + halfPixelHeight)) * 0.16;\nmediump vec4 front = texture2D(samplerFront, vTex);\nsum += front * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 1.0 + halfPixelHeight)) * 0.16;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 3.0 + halfPixelHeight)) * 0.13;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 5.0 + halfPixelHeight)) * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 7.0 + halfPixelHeight)) * 0.06;\ngl_FragColor = mix(front, max(front, sum), intensity);\n}",
oc:0,pc:8,Bc:!1,Xa:!1,Ac:!1,L:[["intensity",0,1]]},inverse:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp float intensity;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp vec3 inverse = vec3(front.a - front.rgb);\ngl_FragColor = vec4(mix(front.rgb, inverse, intensity), front.a);\n}",oc:0,pc:0,Bc:!1,Xa:!0,Ac:!1,L:[["intensity",0,1]]},lumblend:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nprecision mediump float;\nvec3 rgb_to_hsl(vec3 color)\n{\nvec3 hsl = vec3(0.0, 0.0, 0.0);\nfloat fmin = min(min(color.r, color.g), color.b);\nfloat fmax = max(max(color.r, color.g), color.b);\nfloat delta = fmax - fmin;\nhsl.z = (fmax + fmin) / 2.0;\nif (delta == 0.0)\n{\nhsl.x = 0.0;\nhsl.y = 0.0;\n}\nelse\n{\nif (hsl.z < 0.5)\nhsl.y = delta / (fmax + fmin);\nelse\nhsl.y = delta / (2.0 - fmax - fmin);\nfloat dR = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\nfloat dG = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\nfloat dB = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\nif (color.r == fmax)\nhsl.x = dB - dG;\nelse if (color.g == fmax)\nhsl.x = (1.0 / 3.0) + dR - dB;\nelse if (color.b == fmax)\nhsl.x = (2.0 / 3.0) + dG - dR;\nif (hsl.x < 0.0)\nhsl.x += 1.0;\nelse if (hsl.x > 1.0)\nhsl.x -= 1.0;\n}\nreturn hsl;\n}\nfloat hue_to_rgb(float f1, float f2, float hue)\n{\nif (hue < 0.0)\nhue += 1.0;\nelse if (hue > 1.0)\nhue -= 1.0;\nfloat ret;\nif ((6.0 * hue) < 1.0)\nret = f1 + (f2 - f1) * 6.0 * hue;\nelse if ((2.0 * hue) < 1.0)\nret = f2;\nelse if ((3.0 * hue) < 2.0)\nret = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\nelse\nret = f1;\nreturn ret;\n}\nvec3 hsl_to_rgb(vec3 hsl)\n{\nvec3 rgb = vec3(hsl.z);\nif (hsl.y != 0.0)\n{\nfloat f2;\nif (hsl.z < 0.5)\nf2 = hsl.z * (1.0 + hsl.y);\nelse\nf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\nfloat f1 = 2.0 * hsl.z - f2;\nrgb.r = hue_to_rgb(f1, f2, hsl.x + (1.0 / 3.0));\nrgb.g = hue_to_rgb(f1, f2, hsl.x);\nrgb.b = hue_to_rgb(f1, f2, hsl.x - (1.0 / 3.0));\n}\nreturn rgb;\n}\nvoid main(void)\n{\nvec4 front = texture2D(samplerFront, vTex);\nvec3 fronthsl = rgb_to_hsl(front.rgb / front.a);\nvec4 back = texture2D(samplerBack, mix(destStart, destEnd, vTex));\nvec3 backhsl = rgb_to_hsl(back.rgb / back.a);\nfronthsl = hsl_to_rgb(vec3(backhsl.x, backhsl.y, fronthsl.z));\nfronthsl *= front.a;\ngl_FragColor = vec4(fronthsl.r, fronthsl.g, fronthsl.b, front.a) * back.a;\n}",
oc:0,pc:0,Bc:!0,Xa:!1,Ac:!1,L:[]},multiply:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, vTex));\nfront *= back;\ngl_FragColor = front;\n}",oc:0,pc:0,Bc:!0,Xa:!1,Ac:!1,L:[]},pixellate:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump float pixelWidth;\nuniform mediump float pixelHeight;\nuniform mediump float tilesize;\nvoid main(void)\n{\nmediump vec2 tilecount = vec2((1.0 / pixelWidth) / tilesize, (1.0 / pixelHeight) / tilesize);\nmediump vec2 tile = vec2(1.0 / tilecount.x, 1.0 / tilecount.y);\nmediump vec2 halftile = tile / 2.0;\nmediump vec2 tex = floor(vTex / tile) * tile + halftile;\ngl_FragColor = texture2D(samplerFront, tex);\n}",
oc:0,pc:0,Bc:!1,Xa:!1,Ac:!1,L:[["tilesize",0,0]]},posterize:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump float levels;\nvoid main(void)\n{\nmediump vec4 front = texture2D(samplerFront, vTex);\nlowp float a = front.a;\nif (a != 0.0)\nfront.rgb /= a;\nfront.rgb = floor(front.rgb * (levels-1.0) + vec3(0.5)) / (levels-1.0);\nfront.rgb *= a;\ngl_FragColor = front;\n}",oc:0,pc:0,Bc:!1,Xa:!0,Ac:!1,L:[["levels",0,0]]},sharpen:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump float pixelWidth;\nuniform mediump float pixelHeight;\nuniform lowp float intensity;\nvoid main(void)\n{\nmediump float centerMultiplier = 1.0 + 4.0 * intensity;\nmediump vec4 front = texture2D(samplerFront, vTex);\nmediump vec3 textureColor = front.rgb;\nmediump vec3 leftTextureColor = texture2D(samplerFront, vTex - vec2(pixelWidth, 0.0)).rgb;\nmediump vec3 rightTextureColor = texture2D(samplerFront, vTex + vec2(pixelWidth, 0.0)).rgb;\nmediump vec3 topTextureColor = texture2D(samplerFront, vTex - vec2(0.0, pixelHeight)).rgb;\nmediump vec3 bottomTextureColor = texture2D(samplerFront, vTex + vec2(0.0, pixelHeight)).rgb;\ngl_FragColor = vec4((textureColor * centerMultiplier - (leftTextureColor * intensity + rightTextureColor * intensity + topTextureColor * intensity + bottomTextureColor * intensity)), front.a);\n}",
oc:0,pc:0,Bc:!1,Xa:!0,Ac:!1,L:[["intensity",0,1]]},vignette:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump float vignetteStart;\nuniform mediump float vignetteEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp float a = front.a;\nif (a != 0.0)\nfront.rgb /= a;\nlowp float d = distance(vTex, vec2(0.5, 0.5));\nfront.rgb *= smoothstep(vignetteEnd, vignetteStart, d);\nfront.rgb *= a;\ngl_FragColor = front;\n}",oc:0,pc:0,Bc:!1,Xa:!0,
Ac:!1,L:[["vignetteStart",0,1],["vignetteEnd",0,1]]},warp:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump float seconds;\nuniform mediump float pixelWidth;\nuniform mediump float pixelHeight;\nuniform mediump float layerScale;\nuniform mediump float freqX;\nuniform mediump float freqY;\nuniform mediump float ampX;\nuniform mediump float ampY;\nuniform mediump float speedX;\nuniform mediump float speedY;\nvoid main(void)\n{\nmediump float boxLeft = 0.0;\nmediump float boxTop = 0.0;\nmediump float aspect = pixelHeight / pixelWidth;\nmediump vec2 p = vTex;\np.x += (cos((vTex.y - boxTop) * freqX / layerScale / (pixelWidth * 750.0) + (seconds * speedX)) * ampX * pixelWidth * layerScale);\np.y += (sin((vTex.x - boxLeft) * freqY * aspect / layerScale / (pixelHeight * 750.0) + (seconds * speedY)) * ampY * pixelHeight * layerScale);\ngl_FragColor = texture2D(samplerFront, p);\n}",
oc:25,pc:25,Bc:!1,Xa:!1,Ac:!0,L:[["freqX",0,0],["freqY",0,0],["ampX",0,0],["ampY",0,0],["speedX",0,0],["speedY",0,0]]},warpmask:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nuniform mediump float seconds;\nuniform mediump float pixelWidth;\nuniform mediump float pixelHeight;\nuniform mediump float layerScale;\nuniform mediump float freqX;\nuniform mediump float freqY;\nuniform mediump float ampX;\nuniform mediump float ampY;\nuniform mediump float speedX;\nuniform mediump float speedY;\nvoid main(void)\n{\nlowp float fronta = texture2D(samplerFront, vTex).a;\nmediump float boxLeft = 0.0;\nmediump float boxTop = 0.0;\nmediump float aspect = pixelHeight / pixelWidth;\nmediump vec2 p = mix(destStart, destEnd, vTex);\np.x += (cos((vTex.y - boxTop) * freqX / layerScale / (pixelWidth * 750.0) + (seconds * speedX)) * ampX * pixelWidth * layerScale) * fronta;\np.y += (sin((vTex.x - boxLeft) * freqY * aspect / layerScale / (pixelHeight * 750.0) + (seconds * speedY)) * ampY * pixelHeight * layerScale) * fronta;\ngl_FragColor = texture2D(samplerBack, p);\n}",
oc:25,pc:25,Bc:!0,Xa:!1,Ac:!0,L:[["freqX",0,0],["freqY",0,0],["ampX",0,0],["ampY",0,0],["speedX",0,0],["speedY",0,0]]},warpripple:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump float seconds;\nuniform mediump float pixelWidth;\nuniform mediump float layerScale;\nuniform mediump float freq;\nuniform mediump float amp;\nuniform mediump float speed;\nconst mediump float PI = 3.1415926;\nvoid main(void)\n{\nmediump vec2 p = vTex;\nmediump vec2 tex = vTex * 2.0 - 1.0;\nmediump float d = length(tex);\nmediump float a = atan(tex.y, tex.x);\nd += sin((d * 2.0 * PI) * freq / layerScale / (pixelWidth * 750.0) + (seconds * speed)) * amp * (pixelWidth * 750.0) * layerScale;\ntex.x = cos(a) * d;\ntex.y = sin(a) * d;\ntex = (tex + 1.0) / 2.0;\ngl_FragColor = texture2D(samplerFront, tex);\n}",
oc:50,pc:50,Bc:!1,Xa:!1,Ac:!0,L:[["freq",0,0],["amp",0,1],["speed",0,0]]}};function uc(d){this.b=d}
(function(){function d(a){-1===tb.indexOf(a)&&tb.push(a)}function m(a){var b=a.q,c;try{c=b.play()}catch(f){d(a);return}c?c.catch(function(){d(a)}):Ic&&!A.Ua&&d(a)}function p(){var a,b,c,f;Jc||Ha||!u||(q(),"running"===u.state&&(Jc=!0));var e=tb.slice(0);U(tb);if(!ea)for(a=0,b=e.length;a<b;++a)c=e[a],c.Jc||c.Sc||(f=c.q.play())&&f.catch(function(){d(c)})}function q(){"suspended"===u.state&&u.resume&&u.resume();if(u.createBuffer){var a=u.createBuffer(1,220,22050),b=u.createBufferSource();b.buffer=a;b.connect(u.destination);
e(b)}}function h(a){a=Math.pow(10,a/20);isFinite(a)||(a=0);0>a&&(a=0);1<a&&(a=1);return a}function r(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function l(a){a=a.toLowerCase();return Y.hasOwnProperty(a)&&Y[a].length?Y[a][0].$c():u.destination}function a(){return u.createGain?u.createGain():u.createGainNode()}function b(a){return u.createDelay?u.createDelay(a):u.createDelayNode(a)}function e(a,b){a.start?a.start(b||0):a.noteOn(b||0)}function c(a,b,c,f){a.start?a.start(f||0,b):a.noteGrainOn(f||
0,b,c-b)}function f(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}function k(b,c,f,e,d,g){this.type="filter";this.Od=[b,c,f,e,d,g];this.ra=a();this.V=a();this.V.gain.value=g;this.U=a();this.U.gain.value=1-g;this.rb=u.createBiquadFilter();this.rb.type="number"===typeof this.rb.type?b:Rc[b];this.rb.frequency.value=c;this.rb.detune&&(this.rb.detune.value=f);this.rb.Q.value=e;this.rb.gain.value=d;this.ra.connect(this.rb);this.ra.connect(this.U);this.rb.connect(this.V)}function g(c,f,e){this.type="delay";
this.Od=[c,f,e];this.ra=a();this.V=a();this.V.gain.value=e;this.U=a();this.U.gain.value=1-e;this.hj=a();this.od=b(c);this.od.delayTime.value=c;this.xk=a();this.xk.gain.value=f;this.ra.connect(this.hj);this.ra.connect(this.U);this.hj.connect(this.V);this.hj.connect(this.od);this.od.connect(this.xk);this.xk.connect(this.hj)}function t(b,c,f,e){this.type="convolve";this.Od=[c,f,e];this.ra=a();this.V=a();this.V.gain.value=f;this.U=a();this.U.gain.value=1-f;this.gg=u.createConvolver();b&&(this.gg.normalize=
c,this.gg.buffer=b);this.ra.connect(this.gg);this.ra.connect(this.U);this.gg.connect(this.V)}function x(c,f,d,g,k){this.type="flanger";this.Od=[c,f,d,g,k];this.ra=a();this.U=a();this.U.gain.value=1-k/2;this.V=a();this.V.gain.value=k/2;this.Hk=a();this.Hk.gain.value=g;this.od=b(c+f);this.od.delayTime.value=c;this.Lb=u.createOscillator();this.Lb.frequency.value=d;this.Wc=a();this.Wc.gain.value=f;this.ra.connect(this.od);this.ra.connect(this.U);this.od.connect(this.V);this.od.connect(this.Hk);this.Hk.connect(this.od);
this.Lb.connect(this.Wc);this.Wc.connect(this.od.delayTime);e(this.Lb)}function z(b,c,f,d,g,k){this.type="phaser";this.Od=[b,c,f,d,g,k];this.ra=a();this.U=a();this.U.gain.value=1-k/2;this.V=a();this.V.gain.value=k/2;this.rb=u.createBiquadFilter();this.rb.type="number"===typeof this.rb.type?7:"allpass";this.rb.frequency.value=b;this.rb.detune&&(this.rb.detune.value=c);this.rb.Q.value=f;this.Lb=u.createOscillator();this.Lb.frequency.value=g;this.Wc=a();this.Wc.gain.value=d;this.ra.connect(this.rb);
this.ra.connect(this.U);this.rb.connect(this.V);this.Lb.connect(this.Wc);this.Wc.connect(this.rb.frequency);e(this.Lb)}function n(b){this.type="gain";this.Od=[b];this.ya=a();this.ya.gain.value=b}function v(b,c){this.type="tremolo";this.Od=[b,c];this.ya=a();this.ya.gain.value=1-c/2;this.Lb=u.createOscillator();this.Lb.frequency.value=b;this.Wc=a();this.Wc.gain.value=c/2;this.Lb.connect(this.Wc);this.Wc.connect(this.ya.gain);e(this.Lb)}function D(b,c){this.type="ringmod";this.Od=[b,c];this.ra=a();this.V=
a();this.V.gain.value=c;this.U=a();this.U.gain.value=1-c;this.wj=a();this.wj.gain.value=0;this.Lb=u.createOscillator();this.Lb.frequency.value=b;this.Lb.connect(this.wj.gain);e(this.Lb);this.ra.connect(this.wj);this.ra.connect(this.U);this.wj.connect(this.V)}function H(b,c,f,e,d){this.type="distortion";this.Od=[b,c,f,e,d];this.ra=a();this.Ml=a();this.Ll=a();this.lz(f,Math.pow(10,e/20));this.V=a();this.V.gain.value=d;this.U=a();this.U.gain.value=1-d;this.xm=u.createWaveShaper();this.vk=new Float32Array(65536);
this.wx(b,c);this.xm.vk=this.vk;this.ra.connect(this.Ml);this.ra.connect(this.U);this.Ml.connect(this.xm);this.xm.connect(this.Ll);this.Ll.connect(this.V)}function O(a,b,c,f,e){this.type="compressor";this.Od=[a,b,c,f,e];this.ya=u.createDynamicsCompressor();try{this.ya.threshold.value=a,this.ya.knee.value=b,this.ya.ratio.value=c,this.ya.attack.value=f,this.ya.release.value=e}catch(d){}}function M(a,b){this.type="analyser";this.Od=[a,b];this.ya=u.createAnalyser();this.ya.fftSize=a;this.ya.smoothingTimeConstant=
b;this.ux=new Float32Array(this.ya.frequencyBinCount);this.qt=new Uint8Array(a);this.oj=0}function J(){this.Ba=null;this.ol=0}function C(b,c){this.src=b;this.da=E;this.ie=c;this.$j=!1;var f=this;this.Ih=this.Qh=null;this.Rh=[];this.Vl=0;this.Ap=this.Fk=this.At=this.Hl=!1;1===E&&c&&!ub&&(this.da=0,this.Qh=a());this.Be=this.xa=null;var e;switch(this.da){case 0:this.xa=new Audio;this.xa.crossOrigin="anonymous";this.xa.addEventListener("canplaythrough",function(){f.Ap=!0});1===E&&u.createMediaElementSource&&
!/wiiu/i.test(navigator.userAgent)&&(this.At=!0,this.xa.addEventListener("canplay",function(){!f.Ih&&f.xa&&(f.Ih=u.createMediaElementSource(f.xa),f.Ih.connect(f.Qh))}));this.xa.autoplay=!1;this.xa.XA="auto";this.xa.src=b;break;case 1:A.al?A.Mq(b,function(a){f.Be=a;f.Eq()},function(){f.Fk=!0}):(e=new XMLHttpRequest,e.open("GET",b,!0),e.responseType="arraybuffer",e.onload=function(){f.Be=e.response;f.Eq()},e.onerror=function(){f.Fk=!0},e.send());break;case 2:this.xa=!0;break;case 3:this.xa=!0}}function B(b,
c){var f=this;this.tag=c;this.Jc=this.ee=!0;this.src=b.src;this.buffer=b;this.da=E;this.ie=b.ie;this.playbackRate=1;this.oh=!0;this.Sc=this.kd=!1;this.Ic=0;this.Qi=this.uh=this.je=!1;this.volume=1;this.Fo=function(a){if(!f.Sc&&!f.kd){var b=this;b||(b=a.target);b===f.Zj&&(f.oh=!0,f.Jc=!0,K=f.tag,A.trigger(uc.prototype.j.Xj,G))}};this.Zj=null;this.rh=1===V&&!this.ie||2===V;this.Kh=1;this.startTime=this.rh?A.Db.ea:A.jf.ea;this.wb=this.Ab=null;this.ne=!1;this.Sb=null;this.Js=this.Is=this.Hs=this.Gs=this.Ls=
this.Ks=0;this.q=null;var e=!1;1!==this.da||0!==this.buffer.da||this.buffer.At||(this.da=0);switch(this.da){case 0:this.ie?(this.q=b.xa,e=!b.$j,b.$j=!0):(this.q=new Audio,this.q.crossOrigin="anonymous",this.q.autoplay=!1,this.q.src=b.xa.src,e=!0);e&&this.q.addEventListener("ended",function(){K=f.tag;f.Jc=!0;A.trigger(uc.prototype.j.Xj,G)});break;case 1:this.Ab=a();this.Ab.connect(l(c));1===this.buffer.da?b.xa&&(this.q=u.createBufferSource(),this.q.buffer=b.xa,this.q.connect(this.Ab)):(this.q=this.buffer.xa,
this.buffer.Qh.connect(this.Ab),this.buffer.$j||(this.buffer.$j=!0,this.buffer.xa.addEventListener("ended",function(){K=f.tag;f.Jc=!0;A.trigger(uc.prototype.j.Xj,G)})));break;case 2:this.q=new window.Media(S+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(f.oh=!0,f.Jc=!0,K=f.tag,A.trigger(uc.prototype.j.Xj,G))});break;case 3:this.q=!0}}function L(a,b){Y.hasOwnProperty(a)?Y[a].push(b):Y[a]=[b];var c,f,e,d,g=u.destination;if(Y.hasOwnProperty(a)&&(e=Y[a],e.length))for(g=e[0].$c(),c=0,
f=e.length;c<f;c++)d=e[c],c+1===f?d.nd(u.destination):d.nd(e[c+1].$c());U(Xa);if(a.length)for(c=0,f=F.length;c<f;c++)e=F[c],mb(a,e.tag)&&Xa.push(e);else R&&!R.vg()&&(U(Xa),Xa[0]=R);c=0;for(f=Xa.length;c<f;c++)Xa[c].Yy(g);Pa&&Ib===a&&(Pa.disconnect(),Pa.connect(g))}function P(){}function I(){}var N=uc.prototype;N.M=function(a){this.ta=a;this.b=a.b};N.M.prototype.D=function(){};var A=null,G=null,K="",S="",E=0,u=null,y=[],F=[],R=null,Q=!1,V=0,ea=!1,T=1,ma=0,fa=0,Ha=!1,Hb=1,la=1,Va=10,Wa=1E4,Hc=1,Pa=
null,Ib="",Ic=!1,tb=[],ub=!1,Jc=!1;document.addEventListener("pointerup",p,!0);document.addEventListener("touchend",p,!0);document.addEventListener("click",p,!0);document.addEventListener("keydown",p,!0);document.addEventListener("gamepadconnected",p,!0);var Y={},Rc="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");k.prototype.nd=function(a){this.V.disconnect();this.V.connect(a);this.U.disconnect();this.U.connect(a)};k.prototype.remove=function(){this.ra.disconnect();
this.rb.disconnect();this.V.disconnect();this.U.disconnect()};k.prototype.$c=function(){return this.ra};g.prototype.nd=function(a){this.V.disconnect();this.V.connect(a);this.U.disconnect();this.U.connect(a)};g.prototype.remove=function(){this.ra.disconnect();this.hj.disconnect();this.od.disconnect();this.xk.disconnect();this.V.disconnect();this.U.disconnect()};g.prototype.$c=function(){return this.ra};t.prototype.nd=function(a){this.V.disconnect();this.V.connect(a);this.U.disconnect();this.U.connect(a)};
t.prototype.remove=function(){this.ra.disconnect();this.gg.disconnect();this.V.disconnect();this.U.disconnect()};t.prototype.$c=function(){return this.ra};x.prototype.nd=function(a){this.U.disconnect();this.U.connect(a);this.V.disconnect();this.V.connect(a)};x.prototype.remove=function(){this.ra.disconnect();this.od.disconnect();this.Lb.disconnect();this.Wc.disconnect();this.U.disconnect();this.V.disconnect();this.Hk.disconnect()};x.prototype.$c=function(){return this.ra};z.prototype.nd=function(a){this.U.disconnect();
this.U.connect(a);this.V.disconnect();this.V.connect(a)};z.prototype.remove=function(){this.ra.disconnect();this.rb.disconnect();this.Lb.disconnect();this.Wc.disconnect();this.U.disconnect();this.V.disconnect()};z.prototype.$c=function(){return this.ra};n.prototype.nd=function(a){this.ya.disconnect();this.ya.connect(a)};n.prototype.remove=function(){this.ya.disconnect()};n.prototype.$c=function(){return this.ya};v.prototype.nd=function(a){this.ya.disconnect();this.ya.connect(a)};v.prototype.remove=
function(){this.Lb.disconnect();this.Wc.disconnect();this.ya.disconnect()};v.prototype.$c=function(){return this.ya};D.prototype.nd=function(a){this.V.disconnect();this.V.connect(a);this.U.disconnect();this.U.connect(a)};D.prototype.remove=function(){this.Lb.disconnect();this.wj.disconnect();this.ra.disconnect();this.V.disconnect();this.U.disconnect()};D.prototype.$c=function(){return this.ra};H.prototype.lz=function(a,b){.01>a&&(a=.01);this.Ml.gain.value=a;this.Ll.gain.value=Math.pow(1/a,.6)*b};
H.prototype.shape=function(a,b,c){var f=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+f*(1-Math.exp(-(1/f)*(a-b)));return b*c};H.prototype.wx=function(a,b){for(var c=Math.pow(10,a/20),f=Math.pow(10,b/20),e=0,d=0;32768>d;++d)e=d/32768,e=this.shape(e,c,f),this.vk[32768+d]=e,this.vk[32768-d-1]=-e};H.prototype.nd=function(a){this.V.disconnect();this.V.connect(a);this.U.disconnect();this.U.connect(a)};H.prototype.remove=function(){this.ra.disconnect();this.Ml.disconnect();this.xm.disconnect();this.Ll.disconnect();
this.V.disconnect();this.U.disconnect()};H.prototype.$c=function(){return this.ra};O.prototype.nd=function(a){this.ya.disconnect();this.ya.connect(a)};O.prototype.remove=function(){this.ya.disconnect()};O.prototype.$c=function(){return this.ya};M.prototype.Oa=function(){this.ya.getFloatFrequencyData(this.ux);this.ya.getByteTimeDomainData(this.qt);for(var a=this.ya.fftSize,b=0,c=this.oj=0,f=0;b<a;b++)f=(this.qt[b]-128)/128,0>f&&(f=-f),this.oj<f&&(this.oj=f),c+=f*f;this.oj=r(this.oj);r(Math.sqrt(c/
a))};M.prototype.nd=function(a){this.ya.disconnect();this.ya.connect(a)};M.prototype.remove=function(){this.ya.disconnect()};M.prototype.$c=function(){return this.ya};J.prototype.yj=function(a){this.Ba=a};J.prototype.Uk=function(){return!!this.Ba};J.prototype.Oa=function(){};C.prototype.Zy=function(){var a,b,c,f;c=a=0;for(b=F.length;a<b;++a)f=F[a],F[c]=f,f.buffer===this?f.stop():++c;F.length=c;this.Ih&&(this.Ih.disconnect(),this.Ih=null);this.Qh&&(this.Qh.disconnect(),this.Qh=null);this.Be=this.xa=
null};C.prototype.Eq=function(){if(!this.xa&&this.Be){var a=this;if(u.decodeAudioData)u.decodeAudioData(this.Be,function(b){a.xa=b;a.Be=null;var c,f,e;if(ga(a.Jl)||ea)ga(a.qk)||(c=a.qk.gg,c.normalize=a.ts,c.buffer=b);else if(a.Rh.length){c=0;for(f=a.Rh.length;c<f;c++){b=a.Rh[c];e=new B(a,b.Dt);e.fp(!0);if("undefined"!==typeof b.vs&&(b.Ba=A.tg(b.vs),!b.Ba))continue;if(b.Ba){var d=Qa(b.Ba.x,b.Ba.y,-b.Ba.k.Bb(),ma,fa,!0),g=Qa(b.Ba.x,b.Ba.y,-b.Ba.k.Bb(),ma,fa,!1);e.ep(d,g,Fa(b.Ba.n-b.Ba.k.Bb()),b.Hn,
b.vo,b.yo);e.yj(b.Ba)}else e.ep(b.x,b.y,b.Dv,b.Hn,b.vo,b.yo);e.play(a.qo,a.zp,a.Vl);a.Hl&&e.pause();F.push(e)}U(a.Rh)}else e=new B(a,a.Jl||""),e.play(a.qo,a.zp,a.Vl),a.Hl&&e.pause(),F.push(e)},function(){a.Fk=!0});else if(this.xa=u.createBuffer(this.Be,!1),this.Be=null,ga(this.Jl)||ea)ga(this.qk)||(b=this.qk.gg,b.normalize=this.ts,b.buffer=this.xa);else{var b=new B(this,this.Jl);b.play(this.qo,this.zp,this.Vl);this.Hl&&b.pause();F.push(b)}}};C.prototype.mr=function(){switch(this.da){case 0:var a=
4<=this.xa.readyState;a&&(this.Ap=!0);return a||this.Ap;case 1:return!!this.Be||!!this.xa;case 2:return!0;case 3:return!0}return!1};C.prototype.my=function(){switch(this.da){case 0:return this.mr();case 1:return!!this.xa;case 2:return!0;case 3:return!0}return!1};C.prototype.cy=function(){switch(this.da){case 0:return!!this.xa.error;case 1:return this.Fk}return!1};B.prototype.vg=function(){switch(this.da){case 0:return this.q.ended;case 1:return 1===this.buffer.da?!this.ee&&!this.Jc&&this.q.loop||
this.Sc?!1:this.oh:this.q.ended;case 2:return this.oh;case 3:!0}return!0};B.prototype.Uv=function(){return this.ee||this.Jc?!0:this.vg()};B.prototype.fp=function(a){1===E&&(!this.ne&&a?this.Ab&&(this.wb||(this.wb=u.createPanner(),this.wb.panningModel="number"===typeof this.wb.panningModel?Hb:["equalpower","HRTF","soundfield"][Hb],this.wb.distanceModel="number"===typeof this.wb.distanceModel?la:["linear","inverse","exponential"][la],this.wb.refDistance=Va,this.wb.maxDistance=Wa,this.wb.rolloffFactor=
Hc),this.Ab.disconnect(),this.Ab.connect(this.wb),this.wb.connect(l(this.tag)),this.ne=!0):this.ne&&!a&&this.Ab&&(this.wb.disconnect(),this.Ab.disconnect(),this.Ab.connect(l(this.tag)),this.ne=!1))};B.prototype.ep=function(a,b,c,f,e,d){this.ne&&1===E&&(this.wb.setPosition(a,b,0),this.wb.setOrientation(Math.cos(W(c)),Math.sin(W(c)),0),this.wb.coneInnerAngle=f,this.wb.coneOuterAngle=e,this.wb.coneOuterGain=d,this.Ks=a,this.Ls=b,this.Gs=c,this.Hs=f,this.Is=e,this.Js=d)};B.prototype.yj=function(a){this.ne&&
1===E&&(this.Sb||(this.Sb=new J),this.Sb.yj(a))};B.prototype.Oa=function(a){if(this.ne&&1===E&&this.Sb&&this.Sb.Uk()&&this.Ni()){this.Sb.Oa(a);a=this.Sb.Ba;var b=Qa(a.x,a.y,-a.k.Bb(),ma,fa,!0),c=Qa(a.x,a.y,-a.k.Bb(),ma,fa,!1);this.wb.setPosition(b,c,0);b=0;"undefined"!==typeof this.Sb.Ba.n&&(b=a.n-a.k.Bb(),this.wb.setOrientation(Math.cos(b),Math.sin(b),0))}};B.prototype.play=function(a,b,f,d){var g=this.q;this.je=a;this.volume=b;f=f||0;d=d||0;switch(this.da){case 0:1!==g.playbackRate&&(g.playbackRate=
1);g.volume!==b*T&&(g.volume=b*T);g.loop!==a&&(g.loop=a);g.muted&&(g.muted=!1);if(g.currentTime!==f)try{g.currentTime=f}catch(k){}m(this);break;case 1:this.muted=!1;this.Kh=1;if(1===this.buffer.da)this.Ab.gain.value=b*T,this.ee||(this.q=u.createBufferSource(),this.q.buffer=this.buffer.xa,this.q.connect(this.Ab)),this.q.onended=this.Fo,this.Zj=this.q,this.q.loop=a,this.oh=!1,0===f?e(this.q,d):c(this.q,f,this.sg(),d);else{1!==g.playbackRate&&(g.playbackRate=1);g.loop!==a&&(g.loop=a);g.volume=b*T;if(g.currentTime!==
f)try{g.currentTime=f}catch(h){}m(this)}break;case 2:(!this.ee&&this.Jc||0!==f)&&g.seekTo(f);g.play();this.oh=!1;break;case 3:A.gc?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.rh?A.Db.ea:A.jf.ea)-f;this.Sc=this.Jc=this.ee=!1};B.prototype.stop=function(){switch(this.da){case 0:this.q.paused||this.q.pause();break;case 1:1===this.buffer.da?f(this.q):this.q.paused||this.q.pause();break;case 2:this.q.stop();break;case 3:A.gc&&AppMobi.context.stopSound(this.src)}this.Jc=
!0;this.Sc=!1};B.prototype.pause=function(){if(!(this.ee||this.Jc||this.vg()||this.Sc)){switch(this.da){case 0:this.q.paused||this.q.pause();break;case 1:1===this.buffer.da?(this.Ic=this.xn(!0),this.je&&(this.Ic=this.Ic%this.sg()),this.Sc=!0,f(this.q)):this.q.paused||this.q.pause();break;case 2:this.q.pause();break;case 3:A.gc&&AppMobi.context.stopSound(this.src)}this.Sc=!0}};B.prototype.cz=function(){if(!(this.ee||this.Jc||this.vg())&&this.Sc){switch(this.da){case 0:m(this);break;case 1:1===this.buffer.da?
(this.q=u.createBufferSource(),this.q.buffer=this.buffer.xa,this.q.connect(this.Ab),this.q.onended=this.Fo,this.Zj=this.q,this.q.loop=this.je,this.Ab.gain.value=T*this.volume*this.Kh,this.tm(),this.startTime=(this.rh?A.Db.ea:A.jf.ea)-this.Ic/(this.playbackRate||.001),c(this.q,this.Ic,this.sg())):m(this);break;case 2:this.q.play();break;case 3:A.gc&&AppMobi.context.resumeSound(this.src)}this.Sc=!1}};B.prototype.seek=function(a){if(!(this.ee||this.Jc||this.vg()))switch(this.da){case 0:try{this.q.currentTime=
a}catch(b){}break;case 1:if(1===this.buffer.da)this.Sc?this.Ic=a:(this.pause(),this.Ic=a,this.cz());else try{this.q.currentTime=a}catch(c){}break;case 3:A.gc&&AppMobi.context.seekSound(this.src,a)}};B.prototype.Yy=function(a){1===this.da&&(this.ne?(this.wb.disconnect(),this.wb.connect(a)):(this.Ab.disconnect(),this.Ab.connect(a)))};B.prototype.sg=function(){var a=0;switch(this.da){case 0:"undefined"!==typeof this.q.duration&&(a=this.q.duration);break;case 1:a=this.buffer.xa.duration;break;case 2:a=
this.q.getDuration();break;case 3:A.gc&&(a=AppMobi.context.getDurationSound(this.src))}return a};B.prototype.xn=function(a){var b=this.sg(),c=0;switch(this.da){case 0:"undefined"!==typeof this.q.currentTime&&(c=this.q.currentTime);break;case 1:if(1===this.buffer.da){if(this.Sc)return this.Ic;c=(this.rh?A.Db.ea:A.jf.ea)-this.startTime}else"undefined"!==typeof this.q.currentTime&&(c=this.q.currentTime);break;case 3:A.gc&&(c=AppMobi.context.getPlaybackTimeSound(this.src))}a&&(c*=this.playbackRate);!this.je&&
c>b&&(c=b);return c};B.prototype.Ni=function(){return!this.Sc&&!this.ee&&!this.Jc&&!this.vg()};B.prototype.uz=function(){return!this.ee&&!this.Jc&&!this.vg()};B.prototype.St=function(){var a=this.volume*T;isFinite(a)||(a=0);switch(this.da){case 0:"undefined"!==typeof this.q.volume&&this.q.volume!==a&&(this.q.volume=a);break;case 1:1===this.buffer.da?this.Ab.gain.value=a*this.Kh:"undefined"!==typeof this.q.volume&&this.q.volume!==a&&(this.q.volume=a)}};B.prototype.Ak=function(a){switch(this.da){case 0:this.q.muted!==
!!a&&(this.q.muted=!!a);break;case 1:1===this.buffer.da?(this.Kh=a?0:1,this.Ab.gain.value=T*this.volume*this.Kh):this.q.muted!==!!a&&(this.q.muted=!!a)}};B.prototype.nz=function(){this.uh=!0;this.Ak(this.uh||this.Qi)};B.prototype.kt=function(a){this.Qi=!!a;this.Ak(this.uh||this.Qi)};B.prototype.tm=function(){var a=this.playbackRate;this.rh&&(a*=A.Qg);switch(this.da){case 0:this.q.playbackRate!==a&&(this.q.playbackRate=a);break;case 1:1===this.buffer.da?this.q.playbackRate.value!==a&&(this.q.playbackRate.value=
a):this.q.playbackRate!==a&&(this.q.playbackRate=a)}};B.prototype.pz=function(a){switch(this.da){case 0:a?this.Ni()?(this.kd=!0,this.q.pause()):this.kd=!1:this.kd&&(this.q.play(),this.kd=!1);break;case 1:a?this.Ni()?(this.kd=!0,1===this.buffer.da?(this.Ic=this.xn(!0),this.je&&(this.Ic=this.Ic%this.sg()),f(this.q)):this.q.pause()):this.kd=!1:this.kd&&(1===this.buffer.da?(this.q=u.createBufferSource(),this.q.buffer=this.buffer.xa,this.q.connect(this.Ab),this.q.onended=this.Fo,this.Zj=this.q,this.q.loop=
this.je,this.Ab.gain.value=T*this.volume*this.Kh,this.tm(),this.startTime=(this.rh?A.Db.ea:A.jf.ea)-this.Ic/(this.playbackRate||.001),c(this.q,this.Ic,this.sg())):this.q.play(),this.kd=!1);break;case 2:a?this.Ni()?(this.q.pause(),this.kd=!0):this.kd=!1:this.kd&&(this.kd=!1,this.q.play())}};N.I=function(a){this.type=a;A=this.b=a.b;G=this;this.Uc=null;this.Yi=-600;this.b.al&&(ub=!0);!(this.b.zg||this.b.ph&&(this.b.Pn||this.b.Wk))||this.b.Yk||this.b.Fa||this.b.On||ub||(Ic=!0);u=null;"undefined"!==typeof AudioContext?
(E=1,u=new AudioContext):"undefined"!==typeof webkitAudioContext&&(E=1,u=new webkitAudioContext);this.b.zg&&u&&(u.close&&u.close(),"undefined"!==typeof AudioContext?u=new AudioContext:"undefined"!==typeof webkitAudioContext&&(u=new webkitAudioContext));1!==E&&(this.b.Rc&&"undefined"!==typeof window.Media?E=2:this.b.kr&&(E=3));2===E&&(S=location.href,a=S.lastIndexOf("/"),-1<a&&(S=S.substr(0,a+1)),S=S.replace("file://",""));if(this.b.oy&&this.b.qy&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),
this.b.$f(this);else{if(this.b.gc)Q=this.b.ph;else try{Q=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')&&!this.b.cl}catch(b){Q=!1}this.b.Yh(this)}};var va=N.I.prototype;va.D=function(){this.b.Zg=this;V=this.u[0];this.Ye=this.u[1];this.My=0!==this.u[2];this.os=0;Hb=this.u[3];la=this.u[4];this.Yi=-this.u[5];Va=this.u[6];Wa=this.u[7];Hc=this.u[8];this.Uc=new J;var a=this.b.S||this.b.width,b=this.b.R||this.b.height;1===E&&(u.listener.setPosition(a/2,b/2,this.Yi),u.listener.setOrientation(0,0,
1,0,-1,0),window.c2OnAudioMicStream=function(a,b){Pa&&Pa.disconnect();Ib=b.toLowerCase();Pa=u.createMediaStreamSource(a);Pa.connect(l(Ib))});this.b.mq(function(a){G.Gy(a)});var c=this;this.b.Gm(function(a){c.mj(a)})};va.mj=function(a){var b,c,f;b=0;for(c=F.length;b<c;b++)f=F[b],f.Sb&&f.Sb.Ba===a&&(f.Sb.Ba=null,f.ne&&f.Ni()&&f.je&&f.stop());this.Uc.Ba===a&&(this.Uc.Ba=null)};va.Ya=function(){var a={silent:ea,masterVolume:T,listenerZ:this.Yi,listenerUid:this.Uc.Uk()?this.Uc.Ba.uid:-1,playing:[],effects:{}},
b=a.playing,c,f,e,d,g,k;c=0;for(f=F.length;c<f;c++)e=F[c],!e.uz()||3===this.Ye||e.ie&&1===this.Ye||!e.ie&&2===this.Ye||(d=e.xn(),e.je&&(d=d%e.sg()),d={tag:e.tag,buffersrc:e.buffer.src,is_music:e.ie,playbackTime:d,volume:e.volume,looping:e.je,muted:e.uh,playbackRate:e.playbackRate,paused:e.Sc,resume_position:e.Ic},e.ne&&(d.pan={},k=d.pan,e.Sb&&e.Sb.Uk()?k.objUid=e.Sb.Ba.uid:(k.x=e.Ks,k.y=e.Ls,k.a=e.Gs),k.ia=e.Hs,k.oa=e.Is,k.og=e.Js),b.push(d));b=a.effects;for(g in Y)if(Y.hasOwnProperty(g)){e=[];c=
0;for(f=Y[g].length;c<f;c++)e.push({type:Y[g][c].type,params:Y[g][c].Od});b[g]=e}return a};var fb=[];va.lb=function(a){var b=a.silent;T=a.masterVolume;this.Yi=a.listenerZ;this.Uc.yj(null);var c=a.listenerUid;-1!==c&&(this.Uc.ol=c,fb.push(this.Uc));var c=a.playing,f,e,d,h,l,r,p,q,m,u,G;if(3!==this.Ye)for(f=0,e=F.length;f<e;f++)m=F[f],m.ie&&1===this.Ye||(m.ie||2!==this.Ye)&&m.stop();for(l in Y)if(Y.hasOwnProperty(l))for(f=0,e=Y[l].length;f<e;f++)Y[l][f].remove();Ua(Y);for(l in a.effects)if(a.effects.hasOwnProperty(l))for(r=
a.effects[l],f=0,e=r.length;f<e;f++)switch(d=r[f].type,u=r[f].params,d){case "filter":L(l,new k(u[0],u[1],u[2],u[3],u[4],u[5]));break;case "delay":L(l,new g(u[0],u[1],u[2]));break;case "convolve":d=u[2];m=this.Ok(d,!1);m.xa?d=new t(m.xa,u[0],u[1],d):(d=new t(null,u[0],u[1],d),m.ts=u[0],m.qk=d);L(l,d);break;case "flanger":L(l,new x(u[0],u[1],u[2],u[3],u[4]));break;case "phaser":L(l,new z(u[0],u[1],u[2],u[3],u[4],u[5]));break;case "gain":L(l,new n(u[0]));break;case "tremolo":L(l,new v(u[0],u[1]));break;
case "ringmod":L(l,new D(u[0],u[1]));break;case "distortion":L(l,new H(u[0],u[1],u[2],u[3],u[4]));break;case "compressor":L(l,new O(u[0],u[1],u[2],u[3],u[4]));break;case "analyser":L(l,new M(u[0],u[1]))}f=0;for(e=c.length;f<e;f++)3===this.Ye||(a=c[f],d=a.buffersrc,h=a.is_music,l=a.tag,r=a.playbackTime,p=a.looping,q=a.volume,G=(u=a.pan)&&u.hasOwnProperty("objUid")?u.objUid:-1,h&&1===this.Ye)||!h&&2===this.Ye||((m=this.Rq(d,l,h,p,q))?(m.Ic=a.resume_position,m.fp(!!u),m.play(p,q,r),m.tm(),m.St(),m.Ak(m.uh||
m.Qi),a.paused&&m.pause(),a.muted&&m.nz(),m.Ak(m.uh||m.Qi),u&&(-1!==G?(m.Sb=m.Sb||new J,m.Sb.ol=G,fb.push(m.Sb)):m.ep(u.x,u.y,u.a,u.ia,u.oa,u.og))):(m=this.Ok(d,h),m.Vl=r,m.Hl=a.paused,u&&(-1!==G?m.Rh.push({vs:G,Hn:u.ia,vo:u.oa,yo:u.og,Dt:l}):m.Rh.push({x:u.x,y:u.y,Dv:u.a,Hn:u.ia,vo:u.oa,yo:u.og,Dt:l}))));if(b&&!ea){f=0;for(e=F.length;f<e;f++)F[f].kt(!0);ea=!0}else if(!b&&ea){f=0;for(e=F.length;f<e;f++)F[f].kt(!1);ea=!1}};va.Dd=function(){var a,b,c,f;a=0;for(b=fb.length;a<b;a++)c=fb[a],f=this.b.tg(c.ol),
c.yj(f),c.ol=-1,f&&(ma=f.x,fa=f.y);U(fb)};va.Gy=function(a){if(!this.My){!a&&u&&u.resume&&(u.resume(),Ha=!1);var b,c;b=0;for(c=F.length;b<c;b++)F[b].pz(a);a&&u&&u.suspend&&(u.suspend(),Ha=!0)}};va.Oa=function(){var a=this.b.kg,b,c,f;b=0;for(c=F.length;b<c;b++)f=F[b],f.Oa(a),0!==V&&f.tm();var e,d;for(e in Y)if(Y.hasOwnProperty(e))for(f=Y[e],b=0,c=f.length;b<c;b++)d=f[b],d.Oa&&d.Oa();1===E&&this.Uc.Uk()&&(this.Uc.Oa(a),ma=this.Uc.Ba.x,fa=this.Uc.Ba.y,u.listener.setPosition(this.Uc.Ba.x,this.Uc.Ba.y,
this.Yi))};var gb=[];va.oz=function(a){var b,c,f,e,d,g=0;b=0;for(c=a.length;b<c;++b)if(f=a[b],e=f[0],f=2*f[1],(d=4<e.length&&".ogg"===e.substr(e.length-4))&&Q||!d&&!Q)gb.push({filename:e,size:f,Ba:null}),g+=f;return g};va.xz=function(){var a,b,c,f;a=0;for(b=gb.length;a<b;++a)c=gb[a],f=this.b.ln+c.filename,c.Ba=this.Ok(f,!1)};va.Hx=function(){var a=0,b,c,f;b=0;for(c=gb.length;b<c;++b)f=gb[b],f.Ba.my()||f.Ba.cy()||this.b.Fa||this.b.Wk?a+=f.size:f.Ba.mr()&&(a+=Math.floor(f.size/2));return a};va.$y=function(){var a,
b,c,f;c=a=0;for(b=y.length;a<b;++a)f=y[a],y[c]=f,f.ie?f.Zy():++c;y.length=c};va.Ok=function(a,b){var c,f,e,d=null;c=0;for(f=y.length;c<f;c++)if(e=y[c],e.src===a){d=e;break}d||(ub&&b&&this.$y(),d=new C(a,b),y.push(d));return d};va.Rq=function(a,b,c,f,e){var d,g,k;d=0;for(g=F.length;d<g;d++)if(k=F[d],k.src===a&&(k.Uv()||c))return k.tag=b,k;a=this.Ok(a,c);if(!a.xa)return"<preload>"!==b&&(a.Jl=b,a.qo=f,a.zp=e),null;k=new B(a,b);F.push(k);return k};var Xa=[];P.prototype.Xj=function(a){return mb(K,a)};
N.j=new P;I.prototype.Play=function(a,b,c,f){!ea&&(c=h(c),R=this.Rq(this.b.ln+a[0]+(Q?".ogg":".m4a"),f,a[1],0!==b,c))&&(R.fp(!1),R.play(0!==b,c,0,this.os),this.os=0)};I.prototype.sv=function(a){T=h(a);var b;a=0;for(b=F.length;a<b;a++)F[a].St()};I.prototype.Yt=function(a,b){1===E&&(a=a.toLowerCase(),L(a,new n(h(b))))};N.K=new I;N.Ia=new function(){}})();function vc(d){this.b=d}
(function(){function d(){h&&r&&window.OfflineClientInfo&&window.OfflineClientInfo.SetMessageCallback(function(a){l.Fy(a)})}function m(){}var p=vc.prototype;p.M=function(a){this.ta=a;this.b=a.b};var q=p.M.prototype;q.D=function(){};var h=!1,r=!1;document.addEventListener("DOMContentLoaded",function(){if(window.C2_RegisterSW&&navigator.serviceWorker){var a=document.createElement("script");a.onload=function(){h=!0;d()};a.src="offlineClient.js";document.head.appendChild(a)}});var l=null;q.zs=function(){r=
!0;d()};p.I=function(a){this.type=a;this.b=a.b};q=p.I.prototype;q.D=function(){var a=this;window.addEventListener("resize",function(){a.b.trigger(vc.prototype.j.Zu,a)});l=this;"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){a.b.trigger(vc.prototype.j.Su,a)}),window.addEventListener("offline",function(){a.b.trigger(vc.prototype.j.Qu,a)}));this.b.gc||(document.addEventListener("appMobi.device.update.available",function(){a.b.trigger(vc.prototype.j.Cm,a)}),document.addEventListener("backbutton",
function(){a.b.trigger(vc.prototype.j.Wj,a)}),document.addEventListener("menubutton",function(){a.b.trigger(vc.prototype.j.Tp,a)}),document.addEventListener("searchbutton",function(){a.b.trigger(vc.prototype.j.bv,a)}),document.addEventListener("tizenhwkey",function(b){var e;switch(b.keyName){case "back":e=a.b.trigger(vc.prototype.j.Wj,a);!e&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(e=a.b.trigger(vc.prototype.j.Tp,a))||b.preventDefault()}}));this.b.cl&&
"undefined"!==typeof Windows?Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",function(b){a.b.trigger(vc.prototype.j.Wj,a)&&(b.handled=!0)}):this.b.bl&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!a.b.trigger(vc.prototype.j.Wj,a)});this.b.mq(function(b){b?a.b.trigger(vc.prototype.j.Vu,a):a.b.trigger(vc.prototype.j.Wu,a)})};q.Fy=function(a){a=a.data.type;"downloading-update"===a?this.b.trigger(vc.prototype.j.kv,this):"update-ready"===
a||"update-pending"===a?this.b.trigger(vc.prototype.j.Cm,this):"offline-ready"===a&&this.b.trigger(vc.prototype.j.Ru,this)};m.prototype.Su=function(){return!0};m.prototype.Qu=function(){return!0};m.prototype.Cm=function(){return!0};m.prototype.Wu=function(){return!0};m.prototype.Vu=function(){return!0};m.prototype.Zu=function(){return!0};m.prototype.Wj=function(){return!0};m.prototype.Tp=function(){return!0};m.prototype.bv=function(){return!0};m.prototype.kv=function(){return!0};m.prototype.Cm=function(){return!0};
m.prototype.Ru=function(){return!0};p.j=new m;p.K=new function(){};p.Ia=new function(){}})();function wc(d){this.b=d}
(function(){function d(){var a=Windows.ApplicationModel.Store;this.Zm=f?a.CurrentAppSimulator:a.CurrentApp;this.gd=this.ic=this.le=this.me=this.Ca=this.Ma=null;this.appName="";this.Br=null;f&&((new Windows.UI.Popups.MessageDialog("Note: IAP is in Test Mode, designed for testing purchases. Before publishing, be sure to set Test Mode to 'No' in the object's properties.")).showAsync(),Windows.ApplicationModel.Package.current.installedLocation.getFileAsync("WindowsStoreProxy.xml").done(function(a){Windows.ApplicationModel.Store.CurrentAppSimulator.reloadSimulatorAsync(a).done(function(){console.log("[Construct 2] Test mode; loaded WindowsStoreProxy.xml")},
function(a){console.log("[Construct 2] Error loading WindowsStoreProxy.xml: "+a)})},function(a){console.log("[Construct 2] Error loading WindowsStoreProxy.xml: "+a)}))}function m(){this.gd=this.ic=this.le=this.me=this.Ca=this.Ma=null;this.Br=[];this.zt="undefined"!==typeof CocoonJS.Store.nativeExtensionObjectAvailable&&CocoonJS.Store.canPurchase();var a=this;this.zt&&(CocoonJS.Store.onProductPurchaseCompleted.addEventListener(function(b){a.Ma&&a.Ma(b.productId);CocoonJS.Store.addPurchase(b);CocoonJS.Store.consumePurchase(b.transactionId,
b.productId);CocoonJS.Store.finishPurchase(b.transactionId)}),CocoonJS.Store.onProductPurchaseFailed.addEventListener(function(b,c){a.Ca&&a.Ca(b,c)}),CocoonJS.Store.onConsumePurchaseCompleted.addEventListener(function(b){a.me&&a.me(b)}),CocoonJS.Store.onConsumePurchaseFailed.addEventListener(function(b,c){a.le&&a.le(b,c)}),CocoonJS.Store.onProductsFetchFailed.addEventListener(function(){a.gd&&a.gd()}),CocoonJS.Store.onProductsFetchCompleted.addEventListener(function(b){a.Br=b;a.ic&&a.ic()}),CocoonJS.Store.requestInitialization({managed:!0,
sandbox:f}),CocoonJS.Store.start())}function p(){this.gd=this.ic=this.le=this.me=this.Ca=this.Ma=null;this.Ek=[];this.Pd={};this.Rb()&&(blackberry.payment.developmentMode=f)}function q(){this.gd=this.ic=this.le=this.me=this.Ca=this.Ma=null;this.Ub=[];this.Pd={};var a=this;this.Rb()&&(f&&amzn_wa.enableApiTester(amzn_wa_tester),amzn_wa.IAP.registerObserver({onSdkAvailable:function(a){a.isSandboxMode&&alert("Note: running in test mode. Be sure to set 'Test mode' to 'No' before publishing.");amzn_wa.IAP.getPurchaseUpdates(amzn_wa.IAP.Offset.BEGINNING)},
onItemDataResponse:function(b){var c,f,e;c=0;for(f=b.itemData.length;c<f;++c)e=b.itemData[c],a.Pd[e.sku]={title:e.title,description:e.description,Ty:e.price};a.ic&&a.ic()},onPurchaseResponse:function(b){var c=b.receipt?b.receipt.sku:"";b.purchaseRequestStatus==amzn_wa.IAP.PurchaseStatus.SUCCESSFUL?(-1===a.Ub.indexOf(c)&&a.Ub.push(c),a.Ma&&a.Ma(c)):a.Ca&&a.Ca(c,"purchase was not successful")},onPurchaseUpdatesResponse:function(b){var c,f,e;c=0;for(f=b.receipts.length;c<f;++c)e=b.receipts[c],e.sku&&
-1===a.Ub.indexOf(e.sku)&&a.Ub.push(e.sku)}}),this.jd())}function h(a){this.gd=this.ic=this.le=this.me=this.Ca=this.Ma=null;this.Ub=[];this.Pd={};this.qs=1;this.Dn=a;var b=this;this.Rb()&&(window.tizen_iap.RegisterCallback({OnItemInformationListReceived:function(a,c,f){if(0==parseInt(c,10)){a=parseInt(f._startNumber);for(c=parseInt(f._endNumber)+1;a<c;++a)b.Pd[f[a+"_itemId"]+""]={title:f[a+"_itemName"]+"",Dn:f[a+"_itemGroupId"]+"",Ty:f[a+"_itemPrice"]+"",description:f[a+"_itemDescription"]+""};b.ic&&
b.ic()}else b.gd&&b.gd()},OnPurchasedItemInformationListReceived:function(a,c,f){if(0==parseInt(c,10))for(a=parseInt(f._startNumber),c=parseInt(f._endNumber)+1;a<c;++a){var e=f[a+"_itemId"]+"";-1===b.Ub.indexOf(e)&&b.Ub.push(e)}},OnPurchaseItemInitialized:function(){return!0},OnPurchaseItemFinished:function(a,c,f){a=f._itemId;0==parseInt(c,10)?(-1===b.Ub.indexOf(a)&&b.Ub.push(a),b.Ma&&b.Ma(a)):b.Ca&&b.Ca(a,"purchase failed")},OnCountryListReceived:function(){}}),this.jd())}function r(){this.gd=this.ic=
this.le=this.me=this.Ca=this.Ma=null;this.Pd={};this.Ub={};this.Kd=new Ejecta.IAPManager;this.jd()}function l(){this.gd=this.ic=this.le=this.me=this.Ca=this.Ma=null;this.Pd={};this.Ub={};this.jd()}function a(){this.gd=this.ic=this.le=this.me=this.Ca=this.Ma=null;this.Kd=window.store;this.Kd.verbosity=this.Kd.INFO;this.ny=this.loaded=!1;var a=this;console.log("[C2 IAP] Start");this.Kd.ready(function(){a.ny=!0;console.log("[C2 IAP] On store ready");a.ic&&a.ic()})}function b(){this.gd=this.ic=this.le=
this.me=this.Ca=this.Ma=null;this.Pd={};this.Ub={};this.Kd=window.inappbilling;var a=this;this.Kd.init(function(){window.setTimeout(function(){a.jd()},100)},function(a){w("[C2] Error initialising Android IAP: "+a)},{showLog:f})}function e(){}function c(){}var f=!1;d.prototype.Rb=function(){return!0};d.prototype.pe=function(){var a=this;this.Zm.requestAppPurchaseAsync(!1).then(function(){console.log("[Construct 2] App purchased OK");a.Ma&&a.Ma("app")},function(b){console.log("[Construct 2] App purchase failed: "+
b);a.Ca&&a.Ca("app",b)})};d.prototype.vc=function(a){if("app"===a)this.pe();else{var b=this,c=this.Zm.licenseInformation.productLicenses;this.Zm.requestProductPurchaseAsync(a,!1).then(function(){c.hasKey(a)&&c.lookup(a).isActive?(console.log("[Construct 2] Product '"+a+"' purchased OK"),b.Ma&&b.Ma(a)):(console.log("[Construct 2] Product '"+a+"' purchase failed (cancelled?)"),b.Ca&&b.Ca(a,msg))},function(c){console.log("[Construct 2] Product '"+a+"' purchase failed: "+c);b.Ca&&b.Ca(a,c)})}};d.prototype.jd=
function(){};m.prototype.Rb=function(){return this.zt};m.prototype.pe=function(){this.vc("app")};m.prototype.vc=function(a){this.Rb()&&CocoonJS.Store.purchaseProduct(a)};m.prototype.jd=function(){if(this.Rb())return CocoonJS.Store.restorePurchases()};p.prototype.Rb=function(){return"undefined"!==typeof blackberry};p.prototype.pe=function(){this.vc("app")};p.prototype.vc=function(a){if(this.Rb()){var b=this;blackberry.payment.purchase({digitalGoodID:a},function(){-1===b.Ek.indexOf(a)&&b.Ek.push(a);
b.Ma&&b.Ma(a)},function(c){b.Ca&&b.Ca(a,c.errorText)})}};p.prototype.jd=function(){this.Rb()&&blackberry.payment.getExistingPurchases(!0,function(a){var b,c,f;b=0;for(c=a.length;b<c;++b)f=a[b].digitalGoodID,-1===self.Ek.indexOf(f)&&self.Ek.push(f)},function(){})};q.prototype.Rb=function(){return"undefined"!==typeof amzn_wa&&amzn_wa.IAP};q.prototype.pe=function(){this.vc("app")};q.prototype.vc=function(a){this.Rb()&&amzn_wa.IAP.purchaseItem(a)};q.prototype.jd=function(){this.Rb()&&amzn_wa.IAP.getPurchaseUpdates(amzn_wa.IAP.Offset.BEGINNING)};
h.prototype.Rb=function(){return"undefined"!==typeof window.tizen_iap};h.prototype.pe=function(){this.vc("app")};h.prototype.vc=function(a){if(this.Rb()){!this.Pd.hasOwnProperty(a)&&this.Ca&&this.Ca(a,"unrecognized product id");var b=this.Pd[a],c={};c._itemId=a;c._itemGroupId=b.Dn;c._transactionId=this.qs++;f?(c._mode=1,c._mcc="",c._mnc=""):c._mode=0;c._deviceModel="tizen";window.tizen_iap.RequestPurchaseItem(c)}};h.prototype.jd=function(){var a={};a._transactionId=this.qs++;a._startNumber=1;a._endNumber=
100;a._itemGroupId=this.Dn;f?(a._mode=1,a._mcc="",a._mnc=""):a._mode=0;a._deviceModel="tizen";window.tizen_iap.RequestPurchasedItemInformationList(a)};r.prototype.Rb=function(){return!0};r.prototype.pe=function(){this.vc("app")};r.prototype.vc=function(a){if(this.Pd.hasOwnProperty(a)){var b=this;this.Pd[a].purchase(1,function(c){c?b.Ca&&b.Ca(a,c||""):(b.Ub[a]=!0,b.Ma&&b.Ma(a))})}};r.prototype.jd=function(){var a=this;this.Kd.restoreTransactions(function(b,c){if(!b){var f,e,d;f=0;for(e=c.length;f<
e;++f)d=c[f],a.Ub[d.productId]=!0}})};l.prototype.Rb=function(){return!0};l.prototype.pe=function(){this.vc("app")};l.prototype.vc=function(a){var b=this;google.payments.inapp.buy({parameters:{env:"prod"},sku:a,success:function(){b.Ub[a]=!0;b.Ma&&b.Ma(a)},failure:function(c){b.Ca&&b.Ca(a,c.response.errorType.toString())}})};l.prototype.jd=function(){var a=this;google.payments.inapp.getPurchases({parameters:{env:"prod"},success:function(b){b=b.response.details;var c,f,e;c=0;for(f=b.length;c<f;++c)e=
b[c],"ACTIVE"===e.state&&(a.Ub[e.sku]=!0)},failure:function(a){console.log("Failed to restore purchases",a)}})};a.prototype.Rb=function(){return!0};a.prototype.pe=function(){this.vc("app")};a.prototype.vc=function(a){this.loaded&&(console.log("[C2 IAP] Purchasing '"+a+"'..."),this.Kd.order(a))};a.prototype.jd=function(){this.loaded&&(console.log("[C2 IAP] Restoring purchases..."),this.Kd.refresh())};b.prototype.Rb=function(){return!0};b.prototype.pe=function(){this.vc("app")};b.prototype.vc=function(a){var b=
this;this.Kd.buy(function(){b.Ub[a]=!0;b.Ma&&b.Ma(a)},function(){b.Ca&&b.Ca(a,"purchase failed")},a)};b.prototype.jd=function(){var a=this;this.Kd.getPurchases(function(b){var c,f,e;c=0;for(f=b.length;c<f;++c)e=b[c],a.Ub[e.productId]=!0},function(a){w("[C2] Android IAP restore purchases error: "+a)})};var k=wc.prototype;k.M=function(a){this.ta=a;this.b=a.b};k.M.prototype.D=function(){};k.I=function(a){this.type=a;this.b=a.b};var g=k.I.prototype;g.D=function(){this.xc=null;f=0!==this.u[0];this.Dz=
this.u[1];this.Hq=this.Ol="";this.b.bl&&!this.b.dl?this.xc=new d:this.b.cd?this.xc=new m:this.b.lr?this.xc=new p:this.b.On?this.xc=new q:this.b.Un?this.xc=new h(this.Dz):this.b.rd?this.xc=new r:this.b.Rc?this.b.zg&&window.store?this.xc=new a:this.b.ph&&window.inappbilling&&(this.xc=new b):window.google&&window.google.payments&&window.google.payments.inapp&&(this.xc=new l);var c=this;this.xc&&(this.xc.Ma=function(a){c.Ol=a;c.Hq="";c.b.trigger(wc.prototype.j.Yu,c);c.b.trigger(wc.prototype.j.uu,c)},
this.xc.Ca=function(a,b){c.Ol=a;c.Hq=b;c.b.trigger(wc.prototype.j.Xu,c);c.b.trigger(wc.prototype.j.tu,c)},this.xc.ic=function(){c.b.trigger(wc.prototype.j.gv,c)},this.xc.gd=function(){c.b.trigger(wc.prototype.j.dv,c)})};g.fd=function(){};g.Ya=function(){return{}};g.lb=function(){};e.prototype.Yu=function(a){return a===this.Ol};e.prototype.uu=function(){return!0};e.prototype.Xu=function(a){return a===this.Ol};e.prototype.tu=function(){return!0};e.prototype.gv=function(){return!0};e.prototype.dv=function(){return!0};
k.j=new e;c.prototype.ov=function(){this.xc&&this.xc.pe()};k.K=new c;k.Ia=new function(){}})();function xc(d){this.b=d}
(function(){function d(){}var m=xc.prototype;m.M=function(d){this.ta=d;this.b=d.b};m.M.prototype.D=function(){};m.I=function(d){this.type=d;this.b=d.b;this.Ui=Array(256);this.Oj=Array(256);this.gf=0};var p=m.I.prototype;p.D=function(){var d=this;this.b.Fa||(jQuery(document).keydown(function(r){d.zo(r)}),jQuery(document).keyup(function(r){d.Ao(r)}))};var q=[32,33,34,35,36,37,38,39,40,44];p.zo=function(d){var r=!1;window!=window.top&&-1<q.indexOf(d.which)&&(d.preventDefault(),r=!0,d.stopPropagation());
if(this.Ui[d.which])this.Oj[d.which]&&!r&&d.preventDefault();else{this.Ui[d.which]=!0;this.gf=d.which;this.b.Ua=!0;this.b.trigger(xc.prototype.j.su,this);var l=this.b.trigger(xc.prototype.j.Op,this),a=this.b.trigger(xc.prototype.j.Lu,this);this.b.Ua=!1;if(l||a)this.Oj[d.which]=!0,r||d.preventDefault()}};p.Ao=function(d){this.Ui[d.which]=!1;this.gf=d.which;this.b.Ua=!0;this.b.trigger(xc.prototype.j.Jp,this);var r=this.b.trigger(xc.prototype.j.Qp,this),l=this.b.trigger(xc.prototype.j.Pp,this);this.b.Ua=
!1;if(r||l||this.Oj[d.which])this.Oj[d.which]=!0,d.preventDefault()};p.Of=function(){var d;for(d=0;256>d;++d)if(this.Ui[d]){this.Ui[d]=!1;this.gf=d;this.b.trigger(xc.prototype.j.Jp,this);var r=this.b.trigger(xc.prototype.j.Qp,this),l=this.b.trigger(xc.prototype.j.Pp,this);if(r||l)this.Oj[d]=!0}};p.Ya=function(){return{triggerKey:this.gf}};p.lb=function(d){this.gf=d.triggerKey};d.prototype.Op=function(d){return d===this.gf};d.prototype.su=function(){return!0};d.prototype.Jp=function(){return!0};d.prototype.Qp=
function(d){return d===this.gf};d.prototype.Lu=function(d){return d===this.gf};d.prototype.Pp=function(d){return d===this.gf};m.j=new d;m.K=new function(){};m.Ia=new function(){}})();function yc(d){this.b=d}
(function(){function d(){}function m(){}var p=yc.prototype;p.M=function(d){this.ta=d;this.b=d.b};p.M.prototype.D=function(){};p.I=function(d){this.type=d;this.b=d.b;this.$g=Array(4);this.Ht=this.nm=this.Rg=this.Nf=this.Mf=0;this.En=!1};var q=p.I.prototype;q.D=function(){var d=this;if(!this.b.Fa){jQuery(document).mousemove(function(a){d.Co(a)});jQuery(document).mousedown(function(a){d.Bo(a)});jQuery(document).mouseup(function(a){d.Do(a)});jQuery(document).dblclick(function(a){d.Ey(a)});var h=function(a){d.Hy(a)};
document.addEventListener("mousewheel",h,!1);document.addEventListener("DOMMouseScroll",h,!1)}};var h={left:0,top:0};q.Co=function(d){var l=this.b.Fa?h:jQuery(this.b.canvas).offset();this.Mf=d.pageX-l.left;this.Nf=d.pageY-l.top};q.ks=function(){return 0<this.b.qc?!0:0<=this.Mf&&0<=this.Nf&&this.Mf<this.b.width&&this.Nf<this.b.height};q.Bo=function(d){this.ks()&&(this.$g[d.which]=!0,this.b.Ua=!0,this.b.trigger(yc.prototype.j.ru,this),this.Rg=d.which-1,this.nm=0,this.b.trigger(yc.prototype.j.Lp,this),
this.b.trigger(yc.prototype.j.zm,this),this.b.Ua=!1)};q.Do=function(d){this.$g[d.which]&&(this.b.Tk&&!this.b.Qe&&d.preventDefault(),this.b.Tk=!0,this.$g[d.which]=!1,this.b.Ua=!0,this.Rg=d.which-1,this.b.trigger(yc.prototype.j.Wp,this),this.b.Ua=!1)};q.Ey=function(d){this.ks()&&(d.preventDefault(),this.b.Ua=!0,this.Rg=d.which-1,this.nm=1,this.b.trigger(yc.prototype.j.Lp,this),this.b.trigger(yc.prototype.j.zm,this),this.b.Ua=!1)};q.Hy=function(d){this.Ht=0>(d.wheelDelta?d.wheelDelta:d.detail?-d.detail:
0)?0:1;this.En=!1;this.b.Ua=!0;this.b.trigger(yc.prototype.j.lv,this);this.b.Ua=!1;this.En&&nb(d)&&d.preventDefault()};q.Of=function(){var d,h;d=0;for(h=this.$g.length;d<h;++d)this.$g[d]&&(this.$g[d]=!1,this.Rg=d-1,this.b.trigger(yc.prototype.j.Wp,this))};d.prototype.Lp=function(d,h){return d===this.Rg&&h===this.nm};d.prototype.ru=function(){return!0};d.prototype.Wp=function(d){return d===this.Rg};d.prototype.zm=function(d,h,a){return d!==this.Rg||h!==this.nm?!1:this.b.Jj(a,this.Mf,this.Nf)};d.prototype.lv=
function(d){this.En=!0;return d===this.Ht};p.j=new d;p.K=new function(){};m.prototype.dq=function(d,h){var a,b,e,c,f;ga(h)?(a=this.b.Me(0),b=a.scale,e=a.lc,c=a.Dc,f=a.n,a.scale=1,a.lc=1,a.Dc=1,a.n=0,d.H(a.kb(this.Mf,this.Nf,!0)),a.scale=b,a.lc=e,a.Dc=c,a.n=f):(a=ha(h)?this.b.Me(h):this.b.Ci(h))?d.H(a.kb(this.Mf,this.Nf,!0)):d.H(0)};m.prototype.fq=function(d,h){var a,b,e,c,f;ga(h)?(a=this.b.Me(0),b=a.scale,e=a.lc,c=a.Ec,f=a.n,a.scale=1,a.lc=1,a.Ec=1,a.n=0,d.H(a.kb(this.Mf,this.Nf,!1)),a.scale=b,a.lc=
e,a.Ec=c,a.n=f):(a=ha(h)?this.b.Me(h):this.b.Ci(h))?d.H(a.kb(this.Mf,this.Nf,!1)):d.H(0)};p.Ia=new m})();function zc(d){this.b=d}
(function(){function d(){}function m(){}var p=!1,q=null,h=null,r=null,l=null,a=null,b="",e=zc.prototype;e.M=function(a){this.ta=a;this.b=a.b};e.M.prototype.D=function(){};e.I=function(a){this.type=a;this.b=a.b};var c=e.I.prototype;c.D=function(){p=this.b.Zk;var c=this;if(p){q=require("path");h=require("fs");r=require("os");require("child_process");a=window.process||nw.process;q.dirname(a.execPath);r.homedir();l=window.nwgui;b=a.mainModule.filename;var e=Math.max(b.lastIndexOf("/"),b.lastIndexOf("\\"));
-1!==e&&(b=b.substr(0,e+1));window.ondrop=function(a){a.preventDefault();for(var b=0;b<a.dataTransfer.files.length;++b)c.b.trigger(zc.prototype.j.Du,c);return!1};var d=document.getElementById("c2nwOpenFileDialog");d.onchange=function(){c.b.trigger(zc.prototype.j.Tu,c);try{d.value=null}catch(a){}};d.oncancel=function(){c.b.trigger(zc.prototype.j.Uu,c)};var m=document.getElementById("c2nwChooseFolderDialog");m.onchange=function(){c.b.trigger(zc.prototype.j.Eu,c);try{m.value=null}catch(a){}};m.oncancel=
function(){c.b.trigger(zc.prototype.j.Fu,c)};var x=document.getElementById("c2nwSaveDialog");x.onchange=function(){c.b.trigger(zc.prototype.j.$u,c);try{x.value=null}catch(a){}};x.oncancel=function(){c.b.trigger(zc.prototype.j.av,c)}}};c.fd=function(){};c.Ya=function(){return{}};c.lb=function(){};d.prototype.Du=function(){return!0};d.prototype.Tu=function(){return!0};d.prototype.Eu=function(){return!0};d.prototype.$u=function(){return!0};d.prototype.Uu=function(){return!0};d.prototype.Fu=function(){return!0};
d.prototype.av=function(){return!0};e.j=new d;m.prototype.au=function(a,b){if(p)try{h.appendFileSync(a,b,{encoding:"utf8"})}catch(c){}};m.prototype.vv=function(a){p&&l&&(l.Window.get().x=a)};m.prototype.wv=function(a){p&&l&&(l.Window.get().y=a)};e.K=new m;e.Ia=new function(){}})();function tc(d){this.b=d}
(function(){function d(){if(0===this.an.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var e=a.getContext("2d");this.Wh?e.drawImage(this.P,this.Mh,this.Nh,this.width,this.height,0,0,this.width,this.height):e.drawImage(this.P,0,0,this.width,this.height);this.an=a.toDataURL("image/png")}return this.an}function m(){}var p=tc.prototype;p.M=function(a){this.ta=a;this.b=a.b};var q=p.M.prototype;q.D=function(){if(!this.N){var a,e,c,f,k,g,h,l,p;this.Ed=[];this.Hi=!1;
a=0;for(e=this.Mc.length;a<e;a++){k=this.Mc[a];h={};h.name=k[0];h.speed=k[1];h.loop=k[2];h.Vo=k[3];h.Wo=k[4];h.Os=k[5];h.fa=k[6];h.frames=[];c=0;for(f=k[7].length;c<f;c++)g=k[7][c],l={},l.jm=g[0],l.np=g[1],l.Mh=g[2],l.Nh=g[3],l.width=g[4],l.height=g[5],l.duration=g[6],l.rc=g[7],l.sc=g[8],l.In=g[9],l.Kl=g[10],l.Ps=g[11],l.Wh=0!==l.width,l.an="",l.OA=d,p={left:0,top:0,right:1,bottom:1},l.jp=p,l.B=null,(p=this.b.tx(g[0]))?l.P=p:(l.P=new Image,l.P.Yv=g[0],l.P.Ym=g[1],l.P.Qv=null,this.b.wm(l.P,g[0])),
h.frames.push(l),this.Ed.push(l);this.Mc[a]=h}}};q.Pt=function(){var a,e,c;a=0;for(e=this.e.length;a<e;a++)c=this.e[a],c.sk=c.Mb.B};q.Oh=function(){if(!this.N){var a,e,c;a=0;for(e=this.Ed.length;a<e;++a)c=this.Ed[a],c.P.Qv=null,c.B=null;this.Hi=!1;this.Pt()}};q.Ph=function(){if(!this.N&&this.e.length){var a,e,c;a=0;for(e=this.Ed.length;a<e;++a)c=this.Ed[a],c.B=this.b.A.Eh(c.P,!1,this.b.Ga,c.Ps);this.Pt()}};q.lo=function(){if(!this.N&&!this.Hi&&this.b.A){var a,e,c;a=0;for(e=this.Ed.length;a<e;++a)c=
this.Ed[a],c.B=this.b.A.Eh(c.P,!1,this.b.Ga,c.Ps);this.Hi=!0}};q.qm=function(){if(!this.N&&!this.e.length&&this.Hi){var a,e,c;a=0;for(e=this.Ed.length;a<e;++a)c=this.Ed[a],this.b.A.deleteTexture(c.B),c.B=null;this.Hi=!1}};var h=[];q.Nl=function(a){var e,c,f;U(h);e=0;for(c=this.Ed.length;e<c;++e)f=this.Ed[e].P,-1===h.indexOf(f)&&(a.drawImage(f,0,0),h.push(f))};p.I=function(a){this.type=a;this.b=a.b;a=this.type.Mc[0].frames[0].Kl;this.Gc?this.X.Aj(a):this.X=new eb(a)};var r=p.I.prototype;r.D=function(){this.visible=
0===this.u[0];this.Ce=0!==this.u[3];this.Ta=this.Qq(this.u[1])||this.type.Mc[0];this.O=this.u[2];0>this.O&&(this.O=0);this.O>=this.Ta.frames.length&&(this.O=this.Ta.frames.length-1);var a=this.Ta.frames[this.O];this.X.Aj(a.Kl);this.rc=a.rc;this.sc=a.sc;this.bh=this.Ta.speed;this.xf=this.Ta.Wo;1===this.type.Mc.length&&1===this.type.Mc[0].frames.length||0===this.bh||this.b.Yh(this);this.Gc?this.Zd.reset():this.Zd=new cb;this.Ke=this.Zd.ea;this.bg=!0;this.ze=0;this.ag=!0;this.Tm=this.pq="";this.Vv=0;
this.Sm=-1;this.type.lo();var e,c,f,d,g,h,l,a=0;for(e=this.type.Mc.length;a<e;a++)for(d=this.type.Mc[a],c=0,f=d.frames.length;c<f;c++)g=d.frames[c],0===g.width&&(g.width=g.P.width,g.height=g.P.height),g.Wh&&(l=g.P,h=g.jp,h.left=g.Mh/l.width,h.top=g.Nh/l.height,h.right=(g.Mh+g.width)/l.width,h.bottom=(g.Nh+g.height)/l.height,0===g.Mh&&0===g.Nh&&g.width===l.width&&g.height===l.height&&(g.Wh=!1));this.Mb=this.Ta.frames[this.O];this.sk=this.Mb.B};r.Ya=function(){var a={a:this.Ta.fa,f:this.O,cas:this.bh,
fs:this.Ke,ar:this.ze,at:this.Zd.ea,rt:this.xf};this.bg||(a.ap=this.bg);this.ag||(a.af=this.ag);return a};r.lb=function(a){var e=this.xx(a.a);e&&(this.Ta=e);this.O=a.f;0>this.O&&(this.O=0);this.O>=this.Ta.frames.length&&(this.O=this.Ta.frames.length-1);this.bh=a.cas;this.Ke=a.fs;this.ze=a.ar;this.Zd.reset();this.Zd.ea=a.at;this.bg=a.hasOwnProperty("ap")?a.ap:!0;this.ag=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.xf=a.rt:this.xf=this.Ta.Wo;this.Mb=this.Ta.frames[this.O];this.sk=this.Mb.B;
this.X.Aj(this.Mb.Kl);this.rc=this.Mb.rc;this.sc=this.Mb.sc};r.Im=function(a){this.O=a?0:this.Ta.frames.length-1;this.bg=!1;this.pq=this.Ta.name;this.b.trigger(tc.prototype.j.qu,this);this.b.trigger(tc.prototype.j.pu,this);this.ze=0};r.ni=function(){return this.Zd.ea};r.Oa=function(){this.Zd.add(this.b.Qk(this));this.Tm.length&&this.gw();0<=this.Sm&&this.hw();var a=this.Zd.ea,e=this.Ta,c=e.frames[this.O],f=c.duration/this.bh;this.bg&&a>=this.Ke+f&&(this.ag?this.O++:this.O--,this.Ke+=f,this.O>=e.frames.length&&
(e.Os?(this.ag=!1,this.O=e.frames.length-2):e.loop?this.O=this.xf:(this.ze++,this.ze>=e.Vo?this.Im(!1):this.O=this.xf)),0>this.O&&(e.Os?(this.O=1,this.ag=!0,e.loop||(this.ze++,this.ze>=e.Vo&&this.Im(!0))):e.loop?this.O=this.xf:(this.ze++,this.ze>=e.Vo?this.Im(!0):this.O=this.xf)),0>this.O?this.O=0:this.O>=e.frames.length&&(this.O=e.frames.length-1),a>this.Ke+e.frames[this.O].duration/this.bh&&(this.Ke=a),a=e.frames[this.O],this.Wg(c,a),this.b.Da=!0)};r.Qq=function(a){var e,c,f;e=0;for(c=this.type.Mc.length;e<
c;e++)if(f=this.type.Mc[e],mb(f.name,a))return f;return null};r.xx=function(a){var e,c,f;e=0;for(c=this.type.Mc.length;e<c;e++)if(f=this.type.Mc[e],f.fa===a)return f;return null};r.gw=function(){var a=this.Ta.frames[this.O],e=this.Qq(this.Tm);this.Tm="";!e||mb(e.name,this.Ta.name)&&this.bg||(this.Ta=e,this.bh=e.speed,this.xf=e.Wo,0>this.O&&(this.O=0),this.O>=this.Ta.frames.length&&(this.O=this.Ta.frames.length-1),1===this.Vv&&(this.O=0),this.bg=!0,this.Ke=this.Zd.ea,this.ag=!0,this.Wg(a,this.Ta.frames[this.O]),
this.b.Da=!0)};r.hw=function(){var a=this.Ta.frames[this.O],e=this.O;this.O=ra(this.Sm);0>this.O&&(this.O=0);this.O>=this.Ta.frames.length&&(this.O=this.Ta.frames.length-1);e!==this.O&&(this.Wg(a,this.Ta.frames[this.O]),this.Ke=this.Zd.ea,this.b.Da=!0);this.Sm=-1};r.Wg=function(a,e){var c=a.width,f=a.height,d=e.width,g=e.height;c!=d&&(this.width*=d/c);f!=g&&(this.height*=g/f);this.rc=e.rc;this.sc=e.sc;this.X.Aj(e.Kl);this.G();this.Mb=e;this.sk=e.B;c=0;for(f=this.T.length;c<f;c++)d=this.T[c],d.Cs&&
d.Cs(a,e);this.b.trigger(tc.prototype.j.Wg,this)};r.Pc=function(a){a.globalAlpha=this.opacity;var e=this.Mb,c=e.Wh,f=e.P,d=this.x,g=this.y,h=this.width,l=this.height;if(0===this.n&&0<=h&&0<=l)d-=this.rc*h,g-=this.sc*l,this.b.hd&&(d=Math.round(d),g=Math.round(g)),c?a.drawImage(f,e.Mh,e.Nh,e.width,e.height,d,g,h,l):a.drawImage(f,d,g,h,l);else{this.b.hd&&(d=Math.round(d),g=Math.round(g));a.save();var p=0<h?1:-1,n=0<l?1:-1;a.translate(d,g);1===p&&1===n||a.scale(p,n);a.rotate(this.n*p*n);d=0-this.rc*na(h);
g=0-this.sc*na(l);c?a.drawImage(f,e.Mh,e.Nh,e.width,e.height,d,g,na(h),na(l)):a.drawImage(f,d,g,na(h),na(l));a.restore()}};r.jg=function(a){this.Pb(a)};r.Pb=function(a){a.gb(this.sk);a.te(this.opacity);var e=this.Mb,c=this.zb;if(this.b.hd){var f=Math.round(this.x)-this.x,d=Math.round(this.y)-this.y;e.Wh?a.Sd(c.Pa+f,c.Qa+d,c.ib+f,c.jb+d,c.bb+f,c.cb+d,c.$a+f,c.ab+d,e.jp):a.Xe(c.Pa+f,c.Qa+d,c.ib+f,c.jb+d,c.bb+f,c.cb+d,c.$a+f,c.ab+d)}else e.Wh?a.Sd(c.Pa,c.Qa,c.ib,c.jb,c.bb,c.cb,c.$a,c.ab,e.jp):a.Xe(c.Pa,
c.Qa,c.ib,c.jb,c.bb,c.cb,c.$a,c.ab)};r.Bx=function(a){var e=this.Mb,c,f;c=0;for(f=e.In.length;c<f;c++)if(mb(a,e.In[c][0]))return c;return-1};r.vn=function(a,e){var c=this.Mb,f=c.In,d;ia(a)?d=this.Bx(a):d=a-1;d=ra(d);if(0>d||d>=f.length)return e?this.x:this.y;var g=(f[d][1]-c.rc)*this.width,f=f[d][2],f=(f-c.sc)*this.height,c=Math.cos(this.n);d=Math.sin(this.n);var h=g*c-f*d,f=f*c+g*d,g=h+this.x,f=f+this.y;return e?g:f};var l=new ba,a=!1;new ua(0,0,0,0);q.finish=function(b){if(a){if(b){var e=this.b.fc().nc.Nd;
b=null.Ea();var c=l.xe(),f,d;if(b.La){b.La=!1;U(b.e);f=0;for(d=c.length;f<d;++f)b.e[f]=c[f];if(e)for(U(b.na),f=0,d=null.e.length;f<d;++f)c=null.e[f],l.contains(c)||b.na.push(c)}else if(e)for(e=b.e.length,f=0,d=c.length;f<d;++f)b.e[e+f]=c[f],Da(b.na,c[f]);else Aa(b.e,c);null.Ae()}l.clear();a=!1}};m.prototype.pu=function(a){return mb(this.pq,a)};m.prototype.qu=function(){return!0};m.prototype.Wg=function(){return!0};p.j=new m;p.K=new function(){};p.Ia=new function(){}})();function Ac(d){this.b=d}
(function(){function d(a,b){return a.length?a.pop():new b}function m(a,b,c){if(c){var e;c=0;for(e=b.length;c<e;c++)a.length<r&&a.push(b[c]);U(b)}else for(e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a.length<r&&a.push(b[e]),delete b[e])}function p(a,b,c){var e=a.tc;c=c.replace(/\s\s*$/,"");b>=e.length&&e.push(d(l,Object));b=e[b];b.text=c;b.width=a.so(c);a.df=oa(a.df,b.width)}var q=Ac.prototype;q.D=function(){};q.M=function(a){this.ta=a;this.b=a.b};var h=q.M.prototype;h.D=function(){this.N||
(this.P=new Image,this.b.wm(this.P,this.jm),this.B=null)};h.Oh=function(){this.N||(this.B=null)};h.Ph=function(){if(!this.N&&this.e.length){this.B||(this.B=this.b.A.Eh(this.P,!1,this.b.Ga,this.Mj));var a,b;a=0;for(b=this.e.length;a<b;a++)this.e[a].B=this.B}};h.qm=function(){this.N||this.e.length||!this.B||(this.b.A.deleteTexture(this.B),this.B=null)};h.Nl=function(a){a.drawImage(this.P,0,0)};q.I=function(a){this.type=a;this.b=a.b};h=q.I.prototype;h.fd=function(){m(l,this.tc,!0);m(a,this.mk,!1);m(b,
this.nk,!1);Ua(this.uf)};h.D=function(){this.P=this.type.P;this.lk=this.u[0];this.sf=this.u[1];this.characterSet=this.u[2];this.text=this.u[3];this.tf=this.u[4];this.visible=0===this.u[5];this.Ne=this.u[6]/2;this.hf=this.u[7]/2;this.Vj=0===this.u[9];this.ah=this.u[10];this.lineHeight=this.u[11];this.ve=this.df=0;this.Gc?(U(this.tc),Ua(this.mk),Ua(this.nk),Ua(this.uf)):(this.tc=[],this.mk={},this.nk={},this.uf={});this.Vd=!0;this.Eg=this.width;this.b.A&&(this.type.B||(this.type.B=this.b.A.Eh(this.type.P,
!1,this.b.Ga,this.type.Mj)),this.B=this.type.B);this.zv()};h.Ya=function(){var a={t:this.text,csc:this.tf,csp:this.ah,lh:this.lineHeight,tw:this.df,th:this.ve,lrt:this.Dg,ha:this.Ne,va:this.hf,cw:{}},b;for(b in this.uf)a.cw[b]=this.uf[b];return a};h.lb=function(a){this.text=a.t;this.tf=a.csc;this.ah=a.csp;this.lineHeight=a.lh;this.df=a.tw;this.ve=a.th;this.Dg=a.lrt;a.hasOwnProperty("ha")&&(this.Ne=a.ha);a.hasOwnProperty("va")&&(this.hf=a.va);for(var b in a.cw)this.uf[b]=a.cw[b];this.Vd=!0;this.Eg=
this.width};var r=1E3,l=[],a=[],b=[];h.zv=function(){for(var c=this.P,e=c.width,g=c.height,c=this.lk,h=this.sf,l=c/e,p=h/g,n=this.characterSet,e=Math.floor(e/c),g=Math.floor(g/h),m=0;m<n.length&&!(m>=e*g);m++){var q=m%e,r=Math.floor(m/e),O=n.charAt(m);if(this.b.A){var M=this.nk,J=q*l,C=r*p,q=(q+1)*l,r=(r+1)*p;void 0===M[O]&&(M[O]=d(b,ua));M[O].left=J;M[O].top=C;M[O].right=q;M[O].bottom=r}else M=this.mk,q=q*c,r=r*h,J=c,C=h,void 0===M[O]&&(M[O]=d(a,Object)),M[O].x=q,M[O].y=r,M[O].Wt=J,M[O].$q=C}};var e=
[];q.Dm=function(a){U(e);for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(e.push(b),b=""),e.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));e.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&e.push(b)};q.Em=function(a){var b=a.text,c=a.tc;if(b&&b.length){var e=a.width;if(2>=e)m(l,c,!0);else{var h=a.tf,p=a.ah;if(b.length*(a.lk*h+p)-p<=e&&-1===b.indexOf("\n")&&(p=a.so(b),p<=e)){m(l,c,!0);c.push(d(l,
Object));c[0].text=b;c[0].width=p;a.df=p;a.ve=a.sf*h+a.lineHeight;return}this.Fm(a);a.ve=c.length*(a.sf*h+a.lineHeight)}}else m(l,c,!0)};q.Fm=function(a){var b=a.Vj,c=a.text,d=a.tc,h=a.width;b&&(this.Dm(c),c=e);var m="",n,q,D,H=0,O=!1;for(D=0;D<c.length;D++)"\n"===c[D]?(!0===O?O=!1:(p(a,H,m),H++),m=""):(O=!1,n=m,m+=c[D],q=a.so(m.replace(/\s\s*$/,"")),q>h&&(""===n?(p(a,H,m),m="",O=!0):(p(a,H,n),m=c[D]),H++,b||" "!==m||(m="")));m.replace(/\s\s*$/,"").length&&(p(a,H,m),H++);for(D=H;D<d.length;D++)l.length<
r&&l.push(d[D]);d.length=H};h.so=function(a){for(var b=this.ah,c=a.length,e=0,d=0;d<c;d++)e+=this.sn(a.charAt(d))*this.tf+b;return e-(0<e?b:0)};h.sn=function(a){var b=this.uf;return void 0!==b[a]?b[a]:this.lk};h.Zs=function(){if(this.Vd||this.width!==this.Eg)this.ve=this.df=0,this.type.ta.Em(this),this.Vd=!1,this.Eg=this.width};h.Pc=function(a){var b=this.P;if(""!==this.text&&null!=b&&(this.Zs(),!(this.height<this.sf*this.tf+this.lineHeight))){a.globalAlpha=this.opacity;var b=this.x,c=this.y;this.b.hd&&
(b=Math.round(b),c=Math.round(c));var e=this.k.ja,d=this.k.ka,h=this.k.wa,n=this.k.ua;a.save();a.translate(b,c);a.rotate(this.n);for(var l=this.n,p=this.Ne,m=this.tf,q=this.sf*m,r=this.lineHeight,J=this.ah,C=this.tc,B,L=-(this.rc*this.width),P=-(this.sc*this.height),P=P+this.hf*oa(0,this.height-this.ve),I,N,A,G=0;G<C.length;G++){var K=C[G].text;B=p*oa(0,this.width-C[G].width);I=L+B;P+=r;if(0===l&&c+P+q<d)P+=q;else{for(var S=0;S<K.length;S++){N=K.charAt(S);B=this.sn(N);var E=this.mk[N];if(0===l&&b+
I+B*m+J<e)I+=B*m+J;else{if(I+B*m>this.width+1E-5)break;void 0!==E&&(N=I,A=P,0===l&&1===m&&(N=Math.round(N),A=Math.round(A)),a.drawImage(this.P,E.x,E.y,E.Wt,E.$q,N,A,E.Wt*m,E.$q*m));I+=B*m+J;if(0===l&&b+I>h)break}}P+=q;if(0===l&&(P+q+r>this.height||c+P>n))break}}a.restore()}};var c=new wa;h.Pb=function(a){a.gb(this.B);a.te(this.opacity);if(this.text&&(this.Zs(),!(this.height<this.sf*this.tf+this.lineHeight))){this.Z();var b=this.zb,e=0,d=0;this.b.hd&&(e=Math.round(this.x)-this.x,d=Math.round(this.y)-
this.y);var h=this.k.ja,l=this.k.ka,n=this.k.wa,p=this.k.ua,m=this.n,q=this.Ne,r=this.hf,M=this.tf,J=this.sf*M,C=this.lineHeight,B=this.ah,L=this.tc,P=this.ve,I,N,A;0!==m&&(N=Math.cos(m),A=Math.sin(m));for(var e=b.Pa+e,b=b.Qa+d,G,r=r*oa(0,this.height-P),K,S,P=0;P<L.length;P++)if(d=L[P].text,G=I=q*oa(0,this.width-L[P].width),r+=C,0===m&&b+r+J<l)r+=J;else{for(var E=0;E<d.length;E++){var u=d.charAt(E);I=this.sn(u);u=this.nk[u];if(0===m&&e+G+I*M+B<h)G+=I*M+B;else{if(G+I*M>this.width+1E-5)break;if(void 0!==
u){var y=this.lk*M,F=this.sf*M;K=G;S=r;0===m&&1===M&&(K=Math.round(K),S=Math.round(S));c.Pa=K;c.Qa=S;c.ib=K+y;c.jb=S;c.$a=K;c.ab=S+F;c.bb=K+y;c.cb=S+F;0!==m&&(K=c,S=N,y=A,F=void 0,F=K.Pa*S-K.Qa*y,K.Qa=K.Qa*S+K.Pa*y,K.Pa=F,F=K.ib*S-K.jb*y,K.jb=K.jb*S+K.ib*y,K.ib=F,F=K.$a*S-K.ab*y,K.ab=K.ab*S+K.$a*y,K.$a=F,F=K.bb*S-K.cb*y,K.cb=K.cb*S+K.bb*y,K.bb=F);c.offset(e,b);a.Sd(c.Pa,c.Qa,c.ib,c.jb,c.bb,c.cb,c.$a,c.ab,u)}G+=I*M+B;if(0===m&&e+G>n)break}}r+=J;if(0===m&&(r+J+C>this.height||b+r>p))break}}};q.j=new function(){};
h.ni=function(a,b){var c=parseInt(b,10);this.uf[a]!==c&&(this.uf[a]=c,this.Vd=!0,this.b.Da=!0)};q.K=new function(){};q.Ia=new function(){}})();function Bc(d){this.b=d}
(function(){function d(){return l.length?l.pop():{}}function m(a){var b,e;b=0;for(e=a.length;b<e;b++)l.push(a[b]);U(a)}function p(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}var q=Bc.prototype;q.D=function(){q.K.bq=function(a){this.width!==a&&(this.width=a,this.Vd=!0,this.G())}};q.M=function(a){this.ta=a;this.b=a.b};var h=q.M.prototype;h.D=function(){};h.Oh=function(){if(!this.N){var a,b,e;a=0;for(b=this.e.length;a<b;a++)e=this.e[a],e.ke=null,e.Ig=null,e.Vc=null}};q.I=
function(a){this.type=a;this.b=a.b;this.Gc?U(this.tc):this.tc=[];this.Vd=!0};h=q.I.prototype;h.D=function(){this.text=this.u[0];this.visible=0===this.u[1];this.font=this.u[2];this.color=this.u[3];this.Ne=this.u[4];this.hf=this.u[5];this.Vj=0===this.u[7];this.Eg=this.jl=this.width;this.il=this.height;this.io=this.u[8];this.Lk=this.fh="";this.ve=this.df=this.sj=0;this.Ky();this.Vc=this.Ig=this.ke=null;this.ns=!1;this.Dg=this.b.ef;this.Gc?this.Qf.set(0,0,1,1):this.Qf=new ua(0,0,1,1);this.b.A&&this.b.Yh(this)};
h.Ky=function(){var a=this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.sj=parseInt(a[b].substr(0,a[b].length-2));this.Po=Math.ceil(this.sj/72*96)+4;0<b&&(this.Lk=a[b-1]);this.fh=a[b+1];for(b+=2;b<a.length;b++)this.fh+=" "+a[b];break}};h.Ya=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Ne,va:this.hf,wr:this.Vj,lho:this.io,fn:this.fh,fs:this.Lk,ps:this.sj,pxh:this.Po,tw:this.df,th:this.ve,lrt:this.Dg}};h.lb=function(a){this.text=a.t;this.font=
a.f;this.color=a.c;this.Ne=a.ha;this.hf=a.va;this.Vj=a.wr;this.io=a.lho;this.fh=a.fn;this.Lk=a.fs;this.sj=a.ps;this.Po=a.pxh;this.df=a.tw;this.ve=a.th;this.Dg=a.lrt;this.Vd=!0;this.Eg=this.jl=this.width;this.il=this.height};h.Oa=function(){if(this.b.A&&this.Vc&&300<=this.b.ef-this.Dg){var a=this.k;this.Z();var b=this.la;if(b.right<a.ja||b.bottom<a.ka||b.left>a.wa||b.top>a.ua)this.b.A.deleteTexture(this.Vc),this.ke=this.Ig=this.Vc=null}};h.fd=function(){this.ke=this.Ig=null;this.b.A&&this.Vc&&this.b.A.deleteTexture(this.Vc);
this.Vc=null};h.ni=function(){this.font=this.Lk+" "+this.sj.toString()+"pt "+this.fh;this.Vd=!0;this.b.Da=!0};h.Pc=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var e=1;b&&(e=Math.abs(this.k.Qc()),a.save(),a.scale(e,e));if(this.Vd||this.width!==this.Eg)this.type.ta.Em(this.text,this.tc,a,this.width,this.Vj),this.Vd=!1,this.Eg=this.width;this.Z();var e=b?0:this.zb.Pa,c=b?0:this.zb.Qa;this.b.hd&&(e=e+.5|0,c=c+.5|0);0===this.n||b||(a.save(),
a.translate(e,c),a.rotate(this.n),c=e=0);var d=c+this.height,h=this.Po,h=h+this.io,g,l;1===this.hf?c+=Math.max(this.height/2-this.tc.length*h/2,0):2===this.hf&&(c+=Math.max(this.height-this.tc.length*h-2,0));for(l=0;l<this.tc.length&&!(g=e,1===this.Ne?g=e+(this.width-this.tc[l].width)/2:2===this.Ne&&(g=e+(this.width-this.tc[l].width)),a.fillText(this.tc[l].text,g,c),c+=h,c>=d-h);l++);(0!==this.n||b)&&a.restore();this.Dg=this.b.ef};h.Pb=function(a){if(!(1>this.width||1>this.height)){var b=this.Vd||
this.ns;this.ns=!1;var e=this.k.Qc(),c=this.k.Bb(),d=this.Qf,h=e*this.width,g=e*this.height,l=Math.ceil(h),m=Math.ceil(g),p=Math.abs(l),n=Math.abs(m),r=this.b.S/2,q=this.b.R/2;this.Ig||(this.ke=document.createElement("canvas"),this.ke.width=p,this.ke.height=n,this.jl=p,this.il=n,b=!0,this.Ig=this.ke.getContext("2d"));if(p!==this.jl||n!==this.il)this.ke.width=p,this.ke.height=n,this.Vc&&(a.deleteTexture(this.Vc),this.Vc=null),b=!0;b&&(this.Ig.clearRect(0,0,p,n),this.Pc(this.Ig,!0),this.Vc||(this.Vc=
a.ec(p,n,this.b.Ga,this.b.Qe)),a.Tj(this.ke,this.Vc,this.b.Qe));this.jl=p;this.il=n;a.gb(this.Vc);a.te(this.opacity);a.vd();a.translate(-r,-q);a.ld();var H=this.zb,b=this.k.Ja(H.Pa,H.Qa,!0,!0),p=this.k.Ja(H.Pa,H.Qa,!1,!0),n=this.k.Ja(H.ib,H.jb,!0,!0),r=this.k.Ja(H.ib,H.jb,!1,!0),q=this.k.Ja(H.bb,H.cb,!0,!0),O=this.k.Ja(H.bb,H.cb,!1,!0),M=this.k.Ja(H.$a,H.ab,!0,!0),H=this.k.Ja(H.$a,H.ab,!1,!0);if(this.b.hd||0===this.n&&0===c)var J=(b+.5|0)-b,C=(p+.5|0)-p,b=b+J,p=p+C,n=n+J,r=r+C,q=q+J,O=O+C,M=M+J,H=
H+C;0===this.n&&0===c?(n=b+l,r=p,q=n,O=p+m,M=b,H=O,d.right=1,d.bottom=1):(d.right=h/l,d.bottom=g/m);a.Sd(b,p,n,r,q,O,M,H,d);a.vd();a.scale(e,e);a.Ul(-this.k.Bb());a.translate((this.k.ja+this.k.wa)/-2,(this.k.ka+this.k.ua)/-2);a.ld();this.Dg=this.b.ef}};var r=[];q.Dm=function(a){U(r);for(var b="",e,c=0;c<a.length;)if(e=a.charAt(c),"\n"===e)b.length&&(r.push(b),b=""),r.push("\n"),++c;else if(" "===e||"\t"===e||"-"===e){do b+=a.charAt(c),c++;while(c<a.length&&(" "===a.charAt(c)||"\t"===a.charAt(c)));
r.push(b);b=""}else c<a.length&&(b+=e,c++);b.length&&r.push(b)};var l=[];q.Em=function(a,b,e,c,f){if(a&&a.length)if(2>=c)m(b);else{if(100>=a.length&&-1===a.indexOf("\n")){var h=e.measureText(a).width;if(h<=c){m(b);b.push(d());b[0].text=a;b[0].width=h;return}}this.Fm(a,b,e,c,f)}else m(b)};q.Fm=function(a,b,e,c,f){f&&(this.Dm(a),a=r);var h="",g,m,q,z=0;for(q=0;q<a.length;q++)"\n"===a[q]?(z>=b.length&&b.push(d()),h=p(h),m=b[z],m.text=h,m.width=e.measureText(h).width,z++,h=""):(g=h,h+=a[q],m=e.measureText(h).width,
m>=c&&(z>=b.length&&b.push(d()),g=p(g),m=b[z],m.text=g,m.width=e.measureText(g).width,z++,h=a[q],f||" "!==h||(h="")));h.length&&(z>=b.length&&b.push(d()),h=p(h),m=b[z],m.text=h,m.width=e.measureText(h).width,z++);for(q=z;q<b.length;q++)l.push(b[q]);b.length=z};q.j=new function(){};q.K=new function(){};q.Ia=new function(){}})();function Cc(d){this.b=d}
(function(){var d=Cc.prototype;d.M=function(d){this.ta=d;this.b=d.b};var m=d.M.prototype;m.D=function(){this.N||(this.P=new Image,this.P.Ym=this.np,this.b.wm(this.P,this.jm),this.B=this.pattern=null)};m.Oh=function(){this.N||(this.B=null)};m.Ph=function(){if(!this.N&&this.e.length){this.B||(this.B=this.b.A.Eh(this.P,!0,this.b.Ga,this.Mj));var d,m;d=0;for(m=this.e.length;d<m;d++)this.e[d].B=this.B}};m.lo=function(){this.N||this.B||!this.b.A||(this.B=this.b.A.Eh(this.P,!0,this.b.Ga,this.Mj))};m.qm=
function(){this.N||this.e.length||!this.B||(this.b.A.deleteTexture(this.B),this.B=null)};m.Nl=function(d){d.drawImage(this.P,0,0)};d.I=function(d){this.type=d;this.b=d.b};m=d.I.prototype;m.D=function(){this.visible=0===this.u[0];this.Qf=new ua(0,0,0,0);this.dr=!1;this.P=this.type.P;this.b.A?(this.type.lo(),this.B=this.type.B):(this.type.pattern||(this.type.pattern=this.b.Va.createPattern(this.type.P,"repeat")),this.pattern=this.type.pattern)};m.Dd=function(){this.dr=!1;this.P=this.type.P};m.fd=function(){this.b.A&&
this.dr&&this.B&&(this.b.A.deleteTexture(this.B),this.B=null)};m.Pc=function(d){d.globalAlpha=this.opacity;d.save();d.fillStyle=this.pattern;var m=this.x,h=this.y;this.b.hd&&(m=Math.round(m),h=Math.round(h));var r=-(this.rc*this.width),l=-(this.sc*this.height),a=r%this.P.width,b=l%this.P.height;0>a&&(a+=this.P.width);0>b&&(b+=this.P.height);d.translate(m,h);d.rotate(this.n);d.translate(a,b);d.fillRect(r-a,l-b,this.width,this.height);d.restore()};m.jg=function(d){this.Pb(d)};m.Pb=function(d){d.gb(this.B);
d.te(this.opacity);var m=this.Qf;m.right=this.width/this.P.width;m.bottom=this.height/this.P.height;var h=this.zb;if(this.b.hd){var r=Math.round(this.x)-this.x,l=Math.round(this.y)-this.y;d.Sd(h.Pa+r,h.Qa+l,h.ib+r,h.jb+l,h.bb+r,h.cb+l,h.$a+r,h.ab+l,m)}else d.Sd(h.Pa,h.Qa,h.ib,h.jb,h.bb,h.cb,h.$a,h.ab,m)};d.j=new function(){};d.K=new function(){};d.Ia=new function(){}})();function Z(d){this.b=d}
(function(){function d(a){e=a.x;c=a.y;f=a.z}function m(a,b,c,e){var d;d=k.length?k.pop():new p;d.init(a,b,c,e);return d}function p(){this.Gj=this.id=this.y=this.x=this.hm=this.gm=this.bo=this.time=this.lp=0;this.Nj=this.om=!1}function q(a){return a.sourceCapabilities&&a.sourceCapabilities.firesTouchEvents||a.originalEvent&&a.originalEvent.sourceCapabilities&&a.originalEvent.sourceCapabilities.firesTouchEvents}function h(){}function r(){}var l=Z.prototype;l.M=function(a){this.ta=a;this.b=a.b};l.M.prototype.D=
function(){};l.I=function(a){this.type=a;this.b=a.b;this.touches=[];this.to=!1};var a=l.I.prototype,b={left:0,top:0};a.Ai=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var e=0,c=0,f=0,k=[];p.prototype.init=function(a,b,c,d){var e=Ya();this.lp=this.bo=this.time=e;this.gm=a;this.hm=b;this.x=a;this.y=b;this.pressure=this.height=this.width=0;this.id=c;this.Gj=d;this.Nj=this.om=!1};p.prototype.update=function(a,b,c,d,e,f){this.bo=this.time;this.time=
a;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.Nj&&15<=Ra(this.gm,this.hm,this.x,this.y)&&(this.Nj=!0)};p.prototype.zy=function(a,b){!this.om&&500<=Ya()-this.lp&&!this.Nj&&15>Ra(this.gm,this.hm,this.x,this.y)&&(this.om=!0,a.we=this.Gj,a.Zh=this.id,a.mh=b,a.b.trigger(Z.prototype.j.Iu,a),a.Ee=this.x,a.Fe=this.y,a.b.trigger(Z.prototype.j.Ju,a),a.mh=0)};var g=-1E3,t=-1E3,x=-1E4;p.prototype.ds=function(a,b){if(!this.om){var c=Ya();333>=c-this.lp&&!this.Nj&&15>Ra(this.gm,this.hm,this.x,
this.y)&&(a.we=this.Gj,a.Zh=this.id,a.mh=b,666>=c-x&&25>Ra(g,t,this.x,this.y)?(a.b.trigger(Z.prototype.j.Au,a),a.Ee=this.x,a.Fe=this.y,a.b.trigger(Z.prototype.j.Bu,a),t=g=-1E3,x=-1E4):(a.b.trigger(Z.prototype.j.hv,a),a.Ee=this.x,a.Fe=this.y,a.b.trigger(Z.prototype.j.jv,a),g=this.x,t=this.y,x=c),a.mh=0)}};a.D=function(){this.ry=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.mh=this.Zh=this.we=this.Fe=this.Ee=this.iq=this.hq=this.gq=this.Gv=this.Fv=this.Ev=this.Gl=this.Fl=this.El=
0;this.Iz=0!==this.u[0];var a=0<this.b.qc?document:this.b.canvas,b=document;this.b.gc?b=a=window.Canvas:this.b.cd&&(b=a=window);var c=this;"undefined"!==typeof PointerEvent?(a.addEventListener("pointerdown",function(a){c.Bs(a)},!1),a.addEventListener("pointermove",function(a){c.As(a)},!1),b.addEventListener("pointerup",function(a){c.Dl(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.Dl(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},
!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.Bs(a)},!1),a.addEventListener("MSPointerMove",function(a){c.As(a)},!1),b.addEventListener("MSPointerUp",function(a){c.Dl(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.Dl(a,
!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){c.Es(a)},!1),a.addEventListener("touchmove",function(a){c.Ds(a)},!1),b.addEventListener("touchend",function(a){c.Eo(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.Eo(a,!0)},!1));if(this.ry){var e=function(a){a=a.reading;c.gq=a.accelerationX;c.hq=a.accelerationY;
c.iq=a.accelerationZ},f=function(a){a=a.reading;c.El=a.yawDegrees;c.Fl=a.pitchDegrees;c.Gl=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));var h=Windows.Devices.Sensors.Inclinometer.getDefault();h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?
(g&&g.removeEventListener("readingchanged",e),h&&h.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",e),h&&h.addEventListener("readingchanged",f))},!1)}else window.addEventListener("deviceorientation",function(a){c.El=a.alpha||0;c.Fl=a.beta||0;c.Gl=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.Ev=a.accelerationIncludingGravity.x||0,c.Fv=a.accelerationIncludingGravity.y||0,c.Gv=a.accelerationIncludingGravity.z||
0);a.acceleration&&(c.gq=a.acceleration.x||0,c.hq=a.acceleration.y||0,c.iq=a.acceleration.z||0)},!1);this.Iz&&!this.b.Fa&&(jQuery(document).mousemove(function(a){c.Co(a)}),jQuery(document).mousedown(function(a){c.Bo(a)}),jQuery(document).mouseup(function(a){c.Do(a)}));!this.b.zg&&this.b.Rc&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(d,null,{frequency:40});this.b.Et(this)};a.As=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&
"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var c=this.Ai(a.pointerId),e=Ya();if(0<=c){var d=this.b.Fa?b:jQuery(this.b.canvas).offset(),c=this.touches[c];2>e-c.time||c.update(e,a.pageX-d.left,a.pageY-d.top,a.width||0,a.height||0,a.pressure||0)}}};a.Bs=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&nb(a)&&a.preventDefault();var c=this.b.Fa?b:jQuery(this.b.canvas).offset(),e=a.pageX-c.left,c=a.pageY-c.top;Ya();this.we=this.touches.length;
this.Zh=a.pointerId;this.touches.push(m(e,c,a.pointerId,this.we));this.b.Ua=!0;this.b.trigger(Z.prototype.j.Vp,this);this.b.trigger(Z.prototype.j.Zp,this);this.Ee=e;this.Fe=c;this.b.trigger(Z.prototype.j.Bm,this);this.b.Ua=!1}};a.Dl=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&nb(a)&&a.preventDefault();var c=this.Ai(a.pointerId);this.we=0<=c?this.touches[c].Gj:-1;this.Zh=0<=c?this.touches[c].id:-1;this.b.Ua=!0;this.b.trigger(Z.prototype.j.Up,
this);this.b.trigger(Z.prototype.j.Yp,this);0<=c&&(b||this.touches[c].ds(this,c),100>k.length&&k.push(this.touches[c]),this.touches.splice(c,1));this.b.Ua=!1}};a.Ds=function(a){a.preventDefault&&a.preventDefault();var c=Ya(),e,d,f,g;e=0;for(d=a.changedTouches.length;e<d;e++)if(f=a.changedTouches[e],g=this.Ai(f.identifier),0<=g){var h=this.b.Fa?b:jQuery(this.b.canvas).offset();g=this.touches[g];2>c-g.time||g.update(c,f.pageX-h.left,f.pageY-h.top,2*(f.ZA||f.fB||f.SA||f.VA||0),2*(f.$A||f.gB||f.TA||f.WA||
0),f.NA||f.eB||f.RA||f.UA||0)}};a.Es=function(a){a.preventDefault&&nb(a)&&a.preventDefault();var c=this.b.Fa?b:jQuery(this.b.canvas).offset();Ya();this.b.Ua=!0;var e,d,f,g;e=0;for(d=a.changedTouches.length;e<d;e++)if(f=a.changedTouches[e],g=this.Ai(f.identifier),-1===g){g=f.pageX-c.left;var h=f.pageY-c.top;this.we=this.touches.length;this.Zh=f.identifier;this.touches.push(m(g,h,f.identifier,this.we));this.b.trigger(Z.prototype.j.Vp,this);this.b.trigger(Z.prototype.j.Zp,this);this.Ee=g;this.Fe=h;this.b.trigger(Z.prototype.j.Bm,
this)}this.b.Ua=!1};a.Eo=function(a,b){a.preventDefault&&nb(a)&&a.preventDefault();this.b.Ua=!0;var c,e,d;c=0;for(e=a.changedTouches.length;c<e;c++)d=a.changedTouches[c],d=this.Ai(d.identifier),0<=d&&(this.we=this.touches[d].Gj,this.Zh=this.touches[d].id,this.b.trigger(Z.prototype.j.Up,this),this.b.trigger(Z.prototype.j.Yp,this),b||this.touches[d].ds(this,d),100>k.length&&k.push(this.touches[d]),this.touches.splice(d,1));this.b.Ua=!1};a.ni=function(){return this.b.Rc&&0===this.El&&0!==f?90*f:this.El};
a.LA=function(){return this.b.Rc&&0===this.Fl&&0!==c?90*c:this.Fl};a.MA=function(){return this.b.Rc&&0===this.Gl&&0!==e?90*e:this.Gl};a.Bo=function(a){q(a)||(this.Es({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),this.to=!0)};a.Co=function(a){this.to&&!q(a)&&this.Ds({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};a.Do=function(a){a.preventDefault&&this.b.Tk&&!this.b.Qe&&a.preventDefault();this.b.Tk=!0;q(a)||(this.Eo({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),
this.to=!1)};a.Pg=function(){var a,b,c,e=Ya();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=e-50&&(c.bo=e),c.zy(this,a)};h.prototype.Zp=function(){return!0};h.prototype.Yp=function(){return!0};h.prototype.Bm=function(a){return a?this.b.Jj(a,this.Ee,this.Fe):!1};var z=[];h.prototype.mu=function(a){if(!a)return!1;var b=a.Ea(),c=b.qd(),e,d,f,g,h,k;f=0;for(g=c.length;f<g;f++){var l=c[f];l.Z();h=0;for(k=this.touches.length;h<k;h++)if(d=this.touches[h],e=l.k.kb(d.x,d.y,!0),d=l.k.kb(d.x,
d.y,!1),l.cc(e,d)){z.push(l);break}}return z.length?(b.La=!1,Aa(b.e,z),a.Ae(),U(z),!0):!1};h.prototype.Vp=function(a){a=Math.floor(a);return a===this.we};h.prototype.Up=function(a){a=Math.floor(a);return a===this.we};h.prototype.Iu=function(){return!0};h.prototype.hv=function(){return!0};h.prototype.Au=function(){return!0};h.prototype.Ju=function(a){return a?this.b.Jj(a,this.Ee,this.Fe):!1};h.prototype.jv=function(a){return a?this.b.Jj(a,this.Ee,this.Fe):!1};h.prototype.Bu=function(a){return a?this.b.Jj(a,
this.Ee,this.Fe):!1};l.j=new h;l.K=new function(){};r.prototype.dq=function(a,b){var c=this.mh;if(0>c||c>=this.touches.length)a.H(0);else{var d,e,f,g,h;ga(b)?(d=this.b.Me(0),e=d.scale,f=d.lc,g=d.Dc,h=d.n,d.scale=1,d.lc=1,d.Dc=1,d.n=0,a.H(d.kb(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.lc=f,d.Dc=g,d.n=h):(d=ha(b)?this.b.Me(b):this.b.Ci(b))?a.H(d.kb(this.touches[c].x,this.touches[c].y,!0)):a.H(0)}};r.prototype.fq=function(a,b){var c=this.mh;if(0>c||c>=this.touches.length)a.H(0);else{var d,
e,f,g,h;ga(b)?(d=this.b.Me(0),e=d.scale,f=d.lc,g=d.Ec,h=d.n,d.scale=1,d.lc=1,d.Ec=1,d.n=0,a.H(d.kb(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.lc=f,d.Ec=g,d.n=h):(d=ha(b)?this.b.Me(b):this.b.Ci(b))?a.H(d.kb(this.touches[c].x,this.touches[c].y,!1)):a.H(0)}};l.Ia=new r})();function Dc(d){this.b=d}
(function(){function d(){}function m(){}var p=Dc.prototype;p.M=function(a){this.ta=a;this.b=a.b};var q=p.M.prototype;q.D=function(){};q.Ph=function(){if(!this.N&&this.e.length){var a,b,d;a=0;for(b=this.e.length;a<b;a++)d=this.e[a],d.Sg&&0<=d.Ra.videoWidth&&0<=d.Ra.videoHeight&&(d.B=this.b.A.ec(d.Ra.videoWidth,d.Ra.videoHeight,this.b.Ga))}};p.I=function(a){this.type=a;this.b=a.b};var q=p.I.prototype,h=!!navigator.mediaDevices&&!!navigator.mediaDevices.getUserMedia;window.URL||(window.URL=window.webkitURL||
window.mozURL||window.msURL);var r=[],l=!1;q.D=function(){var a=this;if(this.Ra=document.createElement("video"))this.Ra.crossOrigin="anonymous",this.Ra.autoplay=!0,this.Ra.addEventListener("canplaythrough",function(){a.Sg&&(a.di=!0)});kb(this,0,this.b.F);this.Sg=!1;this.xl=null;this.b.Yh(this);this.B=null;this.$n=-1;this.di=!1;this.vm=this.ci=null;this.Jz=this.b.he||this.b.qh;if(this.b.bl&&!this.b.dl){var b=Windows.Devices.Sensors.LightSensor.getDefault();if(b){var d=b.minimumReportInterval;b.reportInterval=
16<d?d:16;b.addEventListener("readingchanged",function(){a.b.trigger(Dc.prototype.j.Np,a)})}}else window.addEventListener("devicelight",function(){a.b.trigger(Dc.prototype.j.Np,a)})};q.fd=function(){if(this.xl){var a=this.xl;if(a)if(a.stop)a.stop();else for(var a=a.getTracks(),b=0,d=a.length;b<d;++b){var c=a[b];c.stop&&c.stop()}this.xl=null;this.di=this.Sg=!1}this.b.A&&this.B&&(this.b.A.deleteTexture(this.B),this.B=null);this.vm=this.ci=null};q.Oa=function(){this.Sg&&this.di&&(this.b.Da=!0)};q.Pc=
function(a){a.globalAlpha=this.opacity;a.save();a.fillStyle="#000";a.fillRect(this.x,this.y,this.width,this.height);if(this.Sg&&this.di){var b=this.Ra.videoWidth/this.Ra.videoHeight,d=this.width,c=this.height,f=0,h=0,g=0,l=0;d/c>b?(g=c*b,l=c,f=Math.floor((d-g)/2),0>f&&(f=0)):(g=d,l=d/b,h=Math.floor((c-l)/2),0>h&&(h=0));try{a.drawImage(this.Ra,this.x+f,this.y+h,g,l)}catch(m){}}a.restore()};q.Pb=function(a){a.Ze(this.Wb,this.Ob);a.te(this.opacity);var b=this.zb;a.gb(null);a.Xe(b.Pa,b.Qa,b.ib,b.jb,b.bb,
b.cb,b.$a,b.ab);if(!(!this.Sg||!this.di||0>=this.Ra.videoWidth||0>=this.Ra.videoHeight)){this.B||(this.B=a.ec(this.Ra.videoWidth,this.Ra.videoHeight,this.b.Ga));var b=this.Ra.webkitDecodedFrameCount||this.Ra.mozParsedFrames,d=!1;b?b>this.$n&&(d=!0,this.$n=b):d=!0;d&&(this.Jz?(this.vm||(this.ci=document.createElement("canvas"),this.ci.width=this.Ra.videoWidth,this.ci.height=this.Ra.videoHeight,this.vm=this.ci.getContext("2d")),this.vm.drawImage(this.Ra,0,0),a.Tj(this.ci,this.B)):a.Tj(this.Ra,this.B));
var c=this.Ra.videoWidth/this.Ra.videoHeight,f=this.width,h=this.height,g=0,l=0,b=d=0;f/h>c?(d=h*c,b=h,g=Math.floor((f-d)/2),0>g&&(g=0)):(d=f,b=f/c,l=Math.floor((h-b)/2),0>l&&(l=0));c=this.x+g;l=this.y+l;d=c+d;b=l+b;a.gb(this.B);a.Xe(c,l,d,l,d,b,c,b)}};d.prototype.vu=function(){return!0};d.prototype.yu=function(){return!0};d.prototype.Np=function(){return!0};p.j=new d;m.prototype.pv=function(a,b,d){if(!l&&h){l=!0;var c=this;a=Math.floor(a);var f={};f.video=0>a||a>=r.length?{}:{deviceId:{exact:r[a].deviceId}};
0<b&&0<d&&(f.video.width=Math.floor(b),f.video.height=Math.floor(d));navigator.mediaDevices.getUserMedia(f).then(function(a){c.xl=a;c.di=!1;"undefined"!==typeof c.Ra.vz?c.Ra.vz=a:c.Ra.src=window.URL.createObjectURL(a);c.Ra.play();c.Sg=!0;l=!1;c.$n=-1;c.b.A&&c.B&&(c.b.A.deleteTexture(c.B),c.B=null);c.b.trigger(Dc.prototype.j.vu,c)}).catch(function(){l=!1;c.b.trigger(Dc.prototype.j.yu,c)})}};p.K=new m;p.Ia=new function(){}})();function Ec(d){this.b=d}
(function(){function d(){}var m=Ec.prototype;m.M=function(a){this.ta=a;this.b=a.b};m.M.prototype.D=function(){};m.I=function(a){this.type=a;this.b=a.b};var p=m.I.prototype,q="",h="undefined"!==typeof window.is_scirra_arcade;h&&(q="arcade"+window.scirra_arcade_id);var r=!1;try{localStorage.getItem("test"),r=!0}catch(l){r=!1}p.D=function(){r||w("[Construct 2] Webstorage plugin: local storage is not supported on this platform.")};m.j=new function(){};m.K=new function(){};d.prototype.Hp=function(a){if(r){var b=
{},d,c,f;d=0;for(c=localStorage.length;d<c;d++)f=localStorage.key(d),h?f.substr(0,q.length)===q&&(b[f.substr(q.length)]=localStorage.getItem(f)):b[f]=localStorage.getItem(f);a.wc(JSON.stringify({c2dictionary:!0,data:b}))}else a.wc("")};m.Ia=new d})();function Fc(d){this.b=d}
(function(){function d(a){var b;if(!c[a])for(c[a]=Array(20),b=0;20>b;++b)c[a][b]=0;return c[a]}function m(a){var b;if(!f[a])for(f[a]=Array(20),b=0;20>b;++b)f[a][b]=0;return f[a]}function p(a,b){return b?4<=a?-1:a+16:16<=a?-1:a}function q(c){e[c.gamepad.index]=c.gamepad;a.trigger(Fc.prototype.j.Gu,b)}function h(c){a.trigger(Fc.prototype.j.Hu,b);e[c.gamepad.index]=null}function r(){}var l=Fc.prototype;l.M=function(a){this.ta=a;this.b=a.b};l.M.prototype.D=function(){};var a=null,b=null,e=Array(16),c=
Array(16),f=Array(16),k="",g="",t=null,x={windows:{}};x.windows.firefox={};var z=[0,1,2,3,4,5,8,9,10,11],n=[0,1,[7,6],2,3,[14,15],[12,13]];x.windows.firefox.xbox360=function(a,b){return b?a>=n.length?-1:ha(n[a])?n[a]+16:n[a]:a>=z.length?-1:z[a]};var v=[2,0,1,3,4,6,5,7,8,9],D=[0,1,2,3,[14,15],[12,13]];x.windows.firefox.logitechdualaction=function(a,b){return b?a>=D.length?-1:ha(D[a])?D[a]+16:D[a]:a>=v.length?-1:v[a]};l.I=function(c){this.type=c;a=this.b=c.b;b=this};var H=l.I.prototype;H.D=function(){this.Yn=
0;var a=navigator.userAgent;k="windows";/mac/i.test(a)&&(k="mac");t=x[k];g="chrome";/firefox/i.test(a)&&(g="firefox");t&&(t=t[g]);window.addEventListener("webkitgamepadconnected",q,!1);window.addEventListener("webkitgamepaddisconnected",h,!1);window.addEventListener("MozGamepadConnected",q,!1);window.addEventListener("MozGamepadDisconnected",h,!1);window.addEventListener("gamepadconnected",q,!1);window.addEventListener("gamepaddisconnected",h,!1);this.b.Yh(this);this.jq=[]};H.Oa=function(){this.jq.length=
0;var a=null,b=!1;navigator.getGamepads?a=navigator.getGamepads():navigator.webkitGetGamepads?a=navigator.webkitGetGamepads():navigator.mozGetGamepads?a=navigator.mozGetGamepads():navigator.msGetGamepads?a=navigator.msGetGamepads():this.b.dl&&window.cr_getGamepads?(a=window.cr_getGamepads(),b=!0):a=navigator.gamepads||navigator.webkitGamepads||navigator.MozGamepads||e;if(a){var g,h,k,l,n,r,q;g=0;for(h=a.length;g<h;g++){var v=a[g];if(v){var G=d(g),K=m(g);l=g;k=d(l);l=m(l);n=void 0;for(n=0;20>n;++n)l[n]=
k[n];b?k=p:t?(k="",l=v.id.toLowerCase(),-1<l.indexOf("xbox 360")?k="xbox360":-1<l.indexOf("logitech dual action")&&(k="logitechdualaction"),k=t[k]||p):k=p;n=k;k=0;for(l=v.buttons.length;k<l;k++)q="undefined"!==typeof v.buttons[k].value?v.buttons[k].value:v.buttons[k],r=n(k,!1,q),0<=r&&20>r&&(G[r]=100*q,50<=G[r]&&50>K[r]&&(this.Yn=r));k=0;for(l=v.axes.length;k<l;k++)q=v.axes[k],r=n(k,!0,q),ha(r)?0<=r&&20>r&&(G[r]=100*q):(G[r[0]]=0,G[r[1]]=0,0>=q?G[r[0]]=Math.abs(100*q):G[r[1]]=Math.abs(100*q));this.jq.push(v)}else v=
g,c[v]=null,f[v]=null}for(;20>g;++g)a=g,c[a]=null,f[a]=null}};H.Ya=function(){return{lastButton:this.Yn}};H.lb=function(a){this.Yn=a.lastButton};r.prototype.Gu=function(){return!0};r.prototype.Hu=function(){return!0};l.j=new r;l.K=new function(){};l.Ia=new function(){}})();function Gc(d){this.b=d}
(function(){function d(a){a%=f.length;0>a&&(a+=f.length);return a}function m(){var a,b,c,e;a=0;for(b=f.length;a<b;++a)c=f[a],(e=f[d(a-1)])&&!c&&(g=a),!e&&c&&(x=a)}var p=Gc.prototype;p.M=function(a){this.ta=a;this.b=a.b};var q=p.M.prototype,h=!1,r=null,l=null;q.D=function(){this.N||h||(h=!0,r=new Image,r.Ym=15E3,this.b.wm(r,"penumbra.png"))};q.Oh=function(){if(!this.N){this.Xc=this.B=null;var a,b,c;a=0;for(b=this.e.length;a<b;++a)c=this.e[a],c.B=null,c.Xc=null}};q.Ph=function(){if(!this.N){var a,b;
a=0;for(b=this.e.length;a<b;++a)this.e[a].Cq()}};p.I=function(a){this.type=a;this.b=a.b};q=p.I.prototype;q.D=function(){if(!l){var a=r.width,b=r.height,c=document.createElement("canvas");c.width=a;c.height=b;c=c.getContext("2d");c.clearRect(0,0,a,b);c.drawImage(r,0,0,a,b);l=c.getImageData(0,0,a,b).data}this.Hf=this.x;this.If=this.y;this.Kr=this.u[0];this.Cc=1E3;this.Dh=this.u[1];this.xq=this.u[2];this.tag=this.u[3];this.eo=this.fo=this.ho=0;this.ur=this.x;this.xr=this.y;this.Xc=this.B=null;this.b.A?
this.Cq():this.Dh=0;this.b.Et(this)};q.yq=function(a){return 1===this.xq?mb(this.tag,a):2===this.xq?!mb(this.tag,a):!0};q.Pg=function(){if(this.ur!==this.x||this.xr!==this.y)this.Hf=this.x,this.If=this.y;var a=this.k,b=(a.ja+a.wa)/2,c=(a.ka+a.ua)/2,d=a.wa-a.ja+this.Cc,e=a.ua-a.ka+this.Cc;if(b!==this.x||c!==this.y||d!==this.width||e!==this.height)this.x=b,this.y=c,this.width=d,this.height=e,this.G();this.ur=this.x;this.xr=this.y;this.Cc=15*Ra(a.ja,a.ka,a.wa,a.ua)};q.fd=function(){this.b.A&&(this.B&&
(this.b.A.deleteTexture(this.B),this.B=null),this.Xc&&(this.b.A.deleteTexture(this.Xc),this.Xc=null))};q.Ya=function(){return{}};q.lb=function(){};var a=[],b=[];q.Zq=function(){this.b.gp&&(this.b.An(this.k,this.b.gp.uo,this.la,a),Za(a))};var e=[],c=0,f=[],k=[],g=-1,t=-1,x=-1,z=-1,n=0,v=0,D=[],H=0,O=0,M=0,J=0,C=0,B=0,L=0,P=0,I=new eb([]);q.Pc=function(c){this.Zq();c.save();c.fillStyle="rgba("+this.ho+","+this.fo+","+this.eo+","+this.opacity+")";var d,e,g,h,k,l,m,r,p,n;d=0;for(e=a.length;d<e;++d)if(g=
a[d],g.J.shadowcasterEnabled&&this.yq(g.J.shadowcasterTag))if(g.Z(),m=g.J.shadowcasterHeight,g.Yf){g.Sq(this.la,b);r=g.x;p=g.y;g=0;for(h=b.length;g<h;++g){k=b[g];n=k.Ys;k.Kg?(k=k.Kg,l=n.left,n=n.top):(I.Mg(n,0,0),k=I,n=l=0);this.jk(k,r+l,p+n,m,!1);c.beginPath();c.moveTo(D[0],D[1]);k=2;for(l=D.length;k<l;k+=2)c.lineTo(D[k],D[k+1]);c.closePath();c.fill();U(f);U(D)}U(b)}else{g.X&&!g.X.Cf()?(g.X.qf(g.width,g.height,g.n),k=g.X):(I.Uf(g.zb,g.x,g.y,g.width,g.height),k=I);this.jk(k,g.x,g.y,m,Sa(0>g.width,
0>g.height));c.beginPath();c.moveTo(D[0],D[1]);g=2;for(h=D.length;g<h;g+=2)c.lineTo(D[g],D[g+1]);c.closePath();c.fill();U(f);U(D)}c.restore();U(a)};q.Gx=function(a,b,d,f){c=a.ud;U(e);var g,h=a.xb;v=n=0;var k;for(k=0;k<c;++k)g=2*k,a=h[g]+b,g=h[g+1]+d,f?(e.unshift(g),e.unshift(a)):(e.push(a),e.push(g)),n+=a,v+=g;n/=c;v/=c};q.jk=function(a,b,d,h,l){this.Gx(a,b,d,l);var r;U(f);U(k);U(D);z=t=x=g=-1;d=this.Hf;l=this.If;if(0<this.Dh)this.Nm(-this.Dh),m(),Aa(k,f),t=g,z=x,U(f),x=g=-1,this.Nm(this.Dh),m(),
-1!==g&&-1!==x&&-1!==t&&-1!==z&&this.Sv();else for(this.Nm(0),m(),a=0;a<c;++a)r=2*a,b=e[r],r=e[r+1],this.Rv(a,d,l,b,r,h)};q.Rv=function(a,b,c,e,h,k){var l;l=f[d(a-1)];var m=a===g,r=a===x;f[a]||l?(a=La(b,c,e,h),l=Ra(b,c,e,h),k=this.Tv(b,c,e,h,k),b+=Math.cos(a)*(l+k),c+=Math.sin(a)*(l+k)):(b=e,c=h);r&&(D.push(e),D.push(h));D.push(b);D.push(c);m&&(D.push(e),D.push(h))};q.Nm=function(a){var b=this.Hf,d=this.If,g=b,h=d,k,l,m,r,p;for(k=0;k<c;++k)l=2*k,m=k+1,m=m===c?0:2*m,r=e[l],l=e[l+1],p=e[m],m=e[m+1],
0!==a&&(h=La(b,d,n,v)-Math.PI/2,g=b+Math.cos(h)*a,h=d+Math.sin(h)*a),f.push(Ma(La(r,l,g,h),La(r,l,p,m)-Math.PI/2)>=Math.PI/2)};var N=0,A=0;q.Sv=function(){for(var a=t,b,d,f;a=a%c,b=2*a,d=e[b],f=e[b+1],D.push(d),D.push(f),a!==x;++a);var g=this.Dh,h=La(this.Hf,this.If,n,v),a=this.Hf+Math.cos(h-Math.PI/2)*g,k=this.If+Math.sin(h-Math.PI/2)*g,h=La(a,k,d,f),l=Ra(a,k,d,f),a=a+Math.cos(h)*(l+this.Cc),k=k+Math.sin(h)*(l+this.Cc);b=2*t;var m=e[b];b=e[b+1];var h=La(this.Hf,this.If,n,v),r=this.Hf+Math.cos(h+
Math.PI/2)*g,p=this.If+Math.sin(h+Math.PI/2)*g,h=La(r,p,m,b),l=Ra(r,p,m,b),g=r+Math.cos(h)*(l+this.Cc),h=p+Math.sin(h)*(l+this.Cc);C=d;B=f;H=m;O=b;var q,z,I,l=a-d,r=k-f;q=g-m;z=h-b;I=-q*r+l*z;0===I?d=!1:(p=(-r*(d-m)+l*(f-b))/I,I=-q*r+l*z,0===I?d=!1:(m=(q*(f-b)-z*(d-m))/I,0<=p&&1>=p&&0<=m&&1>=m?(N=d+m*l,A=f+m*r,d=!0):d=!1));d?(D.push(N),D.push(A),L=N,P=A,M=N,J=A):(D.push(a),D.push(k),D.push(g),D.push(h),L=a,P=k,M=g,J=h)};q.Tv=function(a,b,c,d,e){if(e>=this.Kr)return this.Cc;if(0>=e)return 0;a=Ra(a,
b,c,d);a=Math.atan(a/(this.Kr-e));e=e*Math.tan(a);e>=this.Cc&&(e=this.Cc);0>e&&(e=0);return e};q.Pb=function(c){c.te(this.opacity);this.Zq();var d,e,h,k,l,m,r,p,n,q;d=0;for(e=a.length;d<e;++d)if(h=a[d],h.J.shadowcasterEnabled&&this.yq(h.J.shadowcasterTag))if(h.Z(),l=h.J.shadowcasterHeight,h.Yf){h.Sq(this.la,b);r=h.x;p=h.y;h=0;for(k=b.length;h<k;++h)m=b[h],n=m.Ys,m.Kg?(m=m.Kg,q=n.left,n=n.top):(I.Mg(n,0,0),m=I,n=q=0),this.jk(m,r+q,p+n,l,!1),6>D.length||(c.gb(this.B),c.Bq(D),-1<g&&-1<t&&(c.gb(this.Xc),
this.Bk(c,!0)),-1<x&&-1<z&&(c.gb(this.Xc),this.Bk(c,!1)),U(f),U(D));U(b)}else h.X&&!h.X.Cf()?(h.X.qf(h.width,h.height,h.n),m=h.X):(I.Uf(h.zb,h.x,h.y,h.width,h.height),m=I),this.jk(m,h.x,h.y,l,Sa(0>h.width,0>h.height)),6>D.length||(c.gb(this.B),c.Bq(D),-1<g&&-1<t&&(c.gb(this.Xc),this.Bk(c,!0)),-1<x&&-1<z&&(c.gb(this.Xc),this.Bk(c,!1)),U(f),U(D));U(a)};q.Bk=function(a,b){var c=this.Hf,d=this.If,f,h,k,l,m,r;b?(k=H,l=O,m=M,r=J):(k=C,l=B,m=L,r=P);var p=this.Dh,q=La(c,d,n,v),A=Math.PI/2;b&&(A=-A);c+=Math.cos(q+
A)*p;d+=Math.sin(q+A)*p;p=!1;if(b){if(p=g!==t)f=e[2*g],h=e[2*g+1]}else if(p=x!==z)f=e[2*z],h=e[2*z+1];var q=p?La(f,h,k,l):La(c,d,k,l),A=k+Math.cos(q)*this.Cc,D=l+Math.sin(q)*this.Cc,I,N,la,Va=la=0,Wa=1;p&&(la=La(c,d,f,h),I=f+Math.cos(la)*this.Cc,N=h+Math.sin(la)*this.Cc,c=La(k,l,m,r),la=Ma(q,la)/Ma(c,la),q=Ra(f,h,k,l),q=q/(q+this.Cc),c=La(0,1,la,0),d=Ra(0,1,la,0),Va+=Math.cos(c)*q*d,Wa+=Math.sin(c)*q*d);a.Xs(k,l,m,r,A,D,A,D,Va,Wa,1,la,la);p&&a.Xs(f,h,A,D,I,N,I,N,0,1,la,0,0)};q.Cq=function(){this.b.A&&
(this.B&&(this.b.A.deleteTexture(this.B),this.B=null),this.Xc&&(this.b.A.deleteTexture(this.Xc),this.Xc=null),this.Zv(),this.bw())};q.Zv=function(){var a=document.createElement("canvas");a.width=16;a.height=16;var b=a.getContext("2d");b.fillStyle="rgb("+this.ho+","+this.fo+","+this.eo+")";b.fillRect(0,0,16,16);this.B=this.b.A.ec(16,16,!1,!1,!0);this.b.A.Tj(a,this.B)};q.bw=function(){var a=r.width,b=r.height,c=this.ho,d=this.fo,e=this.eo,f=l,g=document.createElement("canvas");g.width=a;g.height=b;
var h=g.getContext("2d"),k=h.createImageData(a,b),m=k.data,p,n;p=0;for(n=m.length;p<n;p+=4)m[p]=c,m[p+1]=d,m[p+2]=e,m[p+3]=f[p+3];h.putImageData(k,0,0);this.Xc=this.b.A.ec(a,b,this.b.Ga,!1,!1);this.b.A.Tj(g,this.Xc)};p.j=new function(){};p.K=new function(){};p.Ia=new function(){}})();function Kc(d){this.b=d}
(function(){function d(){}function m(){}function p(){}var q=Kc.prototype;q.M=function(d){this.ta=d;this.b=d.b};q.M.prototype.D=function(){};q.I=function(d){this.type=d;this.b=d.b};var h=q.I.prototype;h.D=function(){this.b.Fa?w("[Construct 2] Slider Bar plugin not supported on this platform - the object will not be created"):(this.ba=document.createElement("input"),this.ba.type="range",this.ba.max=this.u[2],this.ba.min=this.u[1],this.ba.step=this.u[3],this.ba.value=this.u[0],this.ba.disabled=0===this.u[6],
this.ba.id=this.u[7],this.ba.title=this.u[4],jQuery(this.ba).appendTo(this.b.kk?this.b.kk:"body"),this.ng=!1,0===this.u[5]&&(jQuery(this.ba).hide(),this.visible=!1,this.ng=!0),this.ba.onclick=function(d){return function(h){h.stopPropagation();d.b.Ua=!0;d.b.trigger(Kc.prototype.j.xu,d);d.b.Ua=!1}}(this),this.ba.onchange=function(d){return function(){d.b.Ua=!0;d.b.trigger(Kc.prototype.j.Kp,d);d.b.Ua=!1}}(this),this.ba.addEventListener("touchstart",function(d){d.stopPropagation()},!1),this.ba.addEventListener("touchmove",
function(d){d.stopPropagation()},!1),this.ba.addEventListener("touchend",function(d){d.stopPropagation()},!1),jQuery(this.ba).mousedown(function(d){d.stopPropagation()}),jQuery(this.ba).mouseup(function(d){d.stopPropagation()}),jQuery(this.ba).keydown(function(d){d.stopPropagation()}),jQuery(this.ba).keyup(function(d){d.stopPropagation()}),this.Fr=this.Gr=this.sr=this.Cr=this.Er=this.yr=0,this.Rt(!0),this.b.Yh(this))};h.Ya=function(){return{v:this.ba.value,mi:this.ba.min,ma:this.ba.max,s:this.ba.step}};
h.lb=function(d){this.ba.min=d.mi;this.ba.max=d.ma;this.ba.step=d.s;this.ba.value=d.v};h.fd=function(){this.b.Fa||(jQuery(this.ba).remove(),this.ba=null)};h.Oa=function(){this.Rt()};h.Rt=function(d){if(!this.b.Fa){var h=this.k.Ja(this.x,this.y,!0),a=this.k.Ja(this.x,this.y,!1),b=this.k.Ja(this.x+this.width,this.y+this.height,!0),e=this.k.Ja(this.x+this.width,this.y+this.height,!1),c=this.b.width/this.b.devicePixelRatio,f=this.b.height/this.b.devicePixelRatio;!this.visible||!this.k.visible||0>=b||
0>=e||h>=c||a>=f?(this.ng||jQuery(this.ba).hide(),this.ng=!0):(1>h&&(h=1),1>a&&(a=1),b>=c&&(b=c-1),e>=f&&(e=f-1),c=window.innerWidth,f=window.innerHeight,d||this.yr!==h||this.Er!==a||this.Cr!==b||this.sr!==e||this.Gr!==c||this.Fr!==f?(this.yr=h,this.Er=a,this.Cr=b,this.sr=e,this.Gr=c,this.Fr=f,this.ng&&(jQuery(this.ba).show(),this.ng=!1),d=Math.round(h)+jQuery(this.b.canvas).offset().left,c=Math.round(a)+jQuery(this.b.canvas).offset().top,jQuery(this.ba).css("position","absolute"),jQuery(this.ba).offset({left:d,
top:c}),jQuery(this.ba).width(Math.round(b-h)),jQuery(this.ba).height(Math.round(e-a))):this.ng&&(jQuery(this.ba).show(),this.ng=!1))}};h.Pc=function(){};h.Pb=function(){};d.prototype.xu=function(){return!0};d.prototype.Kp=function(){return!0};q.j=new d;m.prototype.uv=function(d){this.b.Fa||(this.visible=0!==d)};q.K=new m;p.prototype.cq=function(d){d.H(this.b.Fa?0:parseFloat(this.ba.value)||0)};q.Ia=new p})();function Lc(d){this.b=d}
(function(){var d=Lc.prototype;d.M=function(d){this.behavior=d;this.b=d.b};d.M.prototype.D=function(){};d.I=function(d,m){this.type=d;this.behavior=d.behavior;this.d=m;this.b=d.b};var m=d.I.prototype;m.D=function(){this.nq=this.u[0];this.oq=this.u[1];this.Lv=this.u[2];this.Kv=this.u[3];this.d.Z();this.Cp=this.d.la.left;this.Fp=this.d.la.top;this.Dp=this.b.nb-this.d.la.left;this.Ep=this.b.mb-this.d.la.top;this.So=this.b.nb-this.d.la.right;this.Lm=this.b.mb-this.d.la.bottom;this.enabled=0!==this.u[4]};
m.Ya=function(){return{xleft:this.Cp,ytop:this.Fp,xright:this.Dp,ybottom:this.Ep,rdiff:this.So,bdiff:this.Lm,enabled:this.enabled}};m.lb=function(d){this.Cp=d.xleft;this.Fp=d.ytop;this.Dp=d.xright;this.Ep=d.ybottom;this.So=d.rdiff;this.Lm=d.bdiff;this.enabled=d.enabled};m.Oa=function(){if(this.enabled){var d,m=this.d.k,h=this.d,r=this.d.la;0===this.nq?(h.Z(),d=m.ja+this.Cp-r.left,0!==d&&(h.x+=d,h.G())):1===this.nq&&(h.Z(),d=m.wa-this.Dp-r.left,0!==d&&(h.x+=d,h.G()));0===this.oq?(h.Z(),d=m.ka+this.Fp-
r.top,0!==d&&(h.y+=d,h.G())):1===this.oq&&(h.Z(),d=m.ua-this.Ep-r.top,0!==d&&(h.y+=d,h.G()));1===this.Lv&&(h.Z(),d=m.wa-this.So-r.right,0!==d&&(h.width+=d,0>h.width&&(h.width=0),h.G()));1===this.Kv&&(h.Z(),d=m.ua-this.Lm-r.bottom,0!==d&&(h.height+=d,0>h.height&&(h.height=0),h.G()))}};d.j=new function(){};d.K=new function(){};d.Ia=new function(){}})();function Mc(d){this.b=d}
(function(){function d(){}var m=Mc.prototype;m.M=function(d){this.behavior=d;this.b=d.b};m.M.prototype.D=function(){};m.I=function(d,h){this.type=d;this.behavior=d.behavior;this.d=h;this.b=d.b};var p=m.I.prototype;p.D=function(){this.Gb=null;this.Il=-1;this.mode=this.zh=this.km=this.Lh=this.We=this.qj=0;var d=this;this.Gc||(this.ij=function(h){d.mj(h)});this.b.Gm(this.ij)};p.Ya=function(){return{uid:this.Gb?this.Gb.uid:-1,pa:this.qj,pd:this.We,msa:this.Lh,tsa:this.km,lka:this.zh,m:this.mode}};p.lb=
function(d){this.Il=d.uid;this.qj=d.pa;this.We=d.pd;this.Lh=d.msa;this.km=d.tsa;this.zh=d.lka;this.mode=d.m};p.Dd=function(){-1===this.Il?this.Gb=null:this.Gb=this.b.tg(this.Il);this.Il=-1};p.mj=function(d){this.Gb==d&&(this.Gb=null)};p.fd=function(){this.Gb=null;this.b.bt(this.ij)};p.Oa=function(){};p.Pg=function(){if(this.Gb){this.zh!==this.d.n&&(this.Lh=Ia(this.Lh+(this.d.n-this.zh)));var d=this.d.x,h=this.d.y;if(3===this.mode||4===this.mode){var m=Ra(this.d.x,this.d.y,this.Gb.x,this.Gb.y);if(m>
this.We||4===this.mode&&m<this.We)h=La(this.Gb.x,this.Gb.y,this.d.x,this.d.y),d=this.Gb.x+Math.cos(h)*this.We,h=this.Gb.y+Math.sin(h)*this.We}else d=this.Gb.x+Math.cos(this.Gb.n+this.qj)*this.We,h=this.Gb.y+Math.sin(this.Gb.n+this.qj)*this.We;this.zh=m=Ia(this.Lh+(this.Gb.n-this.km));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.d.x===d&&this.d.y===h||(this.d.x=d,this.d.y=h,this.d.G());0!==this.mode&&2!==this.mode||this.d.n===m||(this.d.n=m,this.d.G())}};m.j=new function(){};d.prototype.nv=
function(d,h){if(d){var m=d.Wq(this.d);m&&(this.Gb=m,this.qj=La(m.x,m.y,this.d.x,this.d.y)-m.n,this.We=Ra(m.x,m.y,this.d.x,this.d.y),this.zh=this.Lh=this.d.n,this.km=m.n,this.mode=h)}};m.K=new d;m.Ia=new function(){}})();function Nc(d){this.b=d}
(function(){function d(){}function m(){}var p=Nc.prototype;p.M=function(d){this.behavior=d;this.b=d.b};p.M.prototype.D=function(){};p.I=function(d,m){this.type=d;this.behavior=d.behavior;this.d=m;this.b=d.b;this.Ej=this.dm=this.cm=this.Vk=this.oi=this.vi=this.xh=this.yh=this.vj=this.Xi=!1;this.hc=null;this.jo=-1;this.Ff=this.Ef=0;this.Bi=!1;this.gh=this.Fd=0;this.Kk=!0;this.Aa=this.aa=0};var q=p.I.prototype;q.Qt=function(){this.pb=Math.cos(this.kh);this.qb=Math.sin(this.kh);this.Sf=Math.cos(this.kh-
Math.PI/2);this.Tf=Math.sin(this.kh-Math.PI/2);this.pb=lb(this.pb);this.qb=lb(this.qb);this.Sf=lb(this.Sf);this.Tf=lb(this.Tf);this.qn=this.Le;0>this.Le&&(this.pb*=-1,this.qb*=-1,this.Le=Math.abs(this.Le))};q.D=function(){this.Hh=this.u[0];this.Xg=this.u[1];this.eh=this.u[2];this.Ti=this.u[3];this.qn=this.Le=this.u[4];this.wl=this.u[5];this.gn=0!==this.u[6];this.Xn=this.u[7]/1E3;this.dw=1===this.u[8];this.enabled=0!==this.u[9];this.fi=!1;this.gi=this.b.Wf(this.d);this.ko=-1;this.Og=0;this.kh=W(90);
this.Qt();var d=this;this.dw&&!this.b.Fa&&(jQuery(document).keydown(function(m){d.zo(m)}),jQuery(document).keyup(function(m){d.Ao(m)}));this.Gc||(this.ij=function(m){d.mj(m)});this.b.Gm(this.ij);this.d.J.isPlatformBehavior=!0};q.Ya=function(){return{ii:this.Vk,lfx:this.Ef,lfy:this.Ff,lfo:this.hc?this.hc.uid:-1,am:this.Fd,en:this.enabled,fall:this.gh,ft:this.Kk,dx:this.aa,dy:this.Aa,ms:this.Hh,acc:this.Xg,dec:this.eh,js:this.Ti,g:this.Le,g1:this.qn,mf:this.wl,wof:this.fi,woj:this.gi?this.gi.uid:-1,
ga:this.kh,edj:this.gn,cdj:this.oi,dj:this.vi,sus:this.Xn}};q.lb=function(d){this.Vk=d.ii;this.Ef=d.lfx;this.Ff=d.lfy;this.jo=d.lfo;this.Fd=d.am;this.enabled=d.en;this.gh=d.fall;this.Kk=d.ft;this.aa=d.dx;this.Aa=d.dy;this.Hh=d.ms;this.Xg=d.acc;this.eh=d.dec;this.Ti=d.js;this.Le=d.g;this.qn=d.g1;this.wl=d.mf;this.fi=d.wof;this.ko=d.woj;this.kh=d.ga;this.gn=d.edj;this.oi=d.cdj;this.vi=d.dj;this.Xn=d.sus;this.Ej=this.dm=this.cm=this.xh=this.yh=this.vj=this.Xi=!1;this.Og=0;this.Qt()};q.Dd=function(){-1===
this.jo?this.hc=null:this.hc=this.b.tg(this.jo);-1===this.ko?this.gi=null:this.gi=this.b.tg(this.ko)};q.mj=function(d){this.hc==d&&(this.hc=null)};q.fd=function(){this.hc=null;this.b.bt(this.ij)};q.zo=function(d){switch(d.which){case 38:d.preventDefault();this.yh=!0;break;case 37:d.preventDefault();this.Xi=!0;break;case 39:d.preventDefault(),this.vj=!0}};q.Ao=function(d){switch(d.which){case 38:d.preventDefault();this.xh=this.yh=!1;break;case 37:d.preventDefault();this.Xi=!1;break;case 39:d.preventDefault(),
this.vj=!1}};q.Of=function(){this.yh=this.vj=this.Xi=!1};q.ni=function(){return 0>this.Le?-1:1};q.nr=function(){var d=null,m=null,l,a;l=this.d.x;a=this.d.y;this.d.x+=this.pb;this.d.y+=this.qb;this.d.G();if(this.hc&&this.b.yd(this.d,this.hc)&&(!this.b.sp(this.hc.type,rc)||this.hc.J.solidEnabled))return this.d.x=l,this.d.y=a,this.d.G(),this.hc;(d=this.b.Lc(this.d))||0!==this.gh||(m=this.b.Wf(this.d,!0));this.d.x=l;this.d.y=a;this.d.G();if(d){if(this.b.yd(this.d,d))return null;this.Bi=!1;return d}if(m&&
m.length){a=d=0;for(l=m.length;d<l;d++)m[a]=m[d],this.b.yd(this.d,m[d])||a++;if(1<=a)return this.Bi=!0,m[0]}return null};q.Oa=function(){};q.Ts=function(){var d=this.b.Qk(this.d),m,l,a,b,e,c,f,k,g;this.yh||this.Ej||(this.xh=!1);var p=this.Xi||this.cm;a=this.vj||this.dm;var q=(b=this.yh||this.Ej)&&!this.xh;this.Ej=this.dm=this.cm=!1;if(this.enabled){this.Vk&&(q=b=a=p=!1);b||(this.Og=0);k=this.hc;g=!1;this.Kk&&((this.b.Lc(this.d)||this.b.Wf(this.d))&&this.b.Rd(this.d,-this.pb,-this.qb,4,!0),this.Kk=
!1);!k||0!==this.Aa||k.y===this.Ff&&k.x===this.Ef||(m=k.x-this.Ef,l=k.y-this.Ff,this.d.x+=m,this.d.y+=l,this.d.G(),this.Ef=k.x,this.Ff=k.y,g=!0,this.b.Lc(this.d)&&this.b.Rd(this.d,-m,-l,2.5*Math.sqrt(m*m+l*l)));var z=this.nr();if(l=this.b.Lc(this.d))if(e=Math.abs(this.d.width),c=Math.abs(this.d.height),this.d.J.inputPredicted)this.b.Rd(this.d,-this.pb,-this.qb,10,!1);else if(this.b.Oo(this.d,-this.pb,-this.qb,c/8))this.b.Rf(this.d,l);else if(this.b.Oo(this.d,this.Sf,this.Tf,e/2))this.b.Rf(this.d,
l);else if(this.b.Oo(this.d,this.pb,this.qb,c/2))this.b.Rf(this.d,l);else if(this.b.Wy(this.d,Math.max(e,c)/2))this.b.Rf(this.d,l);else return;z?(this.oi=this.vi=!1,0<this.Aa&&(this.fi||(this.b.Ql(this.d,-this.pb,-this.qb,z),this.fi=!0),this.Aa=0),k!=z)?(this.hc=z,this.Ef=z.x,this.Ff=z.y,this.b.Rf(this.d,z)):g&&(l=this.b.Lc(this.d))&&(this.b.Rf(this.d,l),0!==m&&(0<m?this.b.Rd(this.d,-this.Sf,-this.Tf):this.b.Rd(this.d,this.Sf,this.Tf)),this.b.Rd(this.d,-this.pb,-this.qb)):b||(this.oi=!0);if(z&&q||
!z&&this.gn&&b&&this.oi&&!this.vi)k=this.d.x,g=this.d.y,this.d.x-=this.pb,this.d.y-=this.qb,this.d.G(),this.b.Lc(this.d)?q=!1:(this.Og=this.Xn,this.b.trigger(Nc.prototype.j.Ku,this.d),this.Fd=2,this.Aa=-this.Ti,q=!0,z?this.xh=!0:this.vi=!0),this.d.x=k,this.d.y=g,this.d.G();z||(b&&0<this.Og?(this.Aa=-this.Ti,this.Og-=d):(this.hc=null,this.Aa+=this.Le*d,this.Aa>this.wl&&(this.Aa=this.wl)),q&&(this.xh=!0));this.fi=!!z;p==a&&(0>this.aa?(this.aa+=this.eh*d,0<this.aa&&(this.aa=0)):0<this.aa&&(this.aa-=
this.eh*d,0>this.aa&&(this.aa=0)));p&&!a&&(this.aa=0<this.aa?this.aa-(this.Xg+this.eh)*d:this.aa-this.Xg*d);a&&!p&&(this.aa=0>this.aa?this.aa+(this.Xg+this.eh)*d:this.aa+this.Xg*d);this.aa>this.Hh?this.aa=this.Hh:this.aa<-this.Hh&&(this.aa=-this.Hh);p=!1;0!==this.aa&&(k=this.d.x,g=this.d.y,m=this.aa*d*this.Sf,l=this.aa*d*this.Tf,this.d.x+=this.Sf*(1<this.aa?1:-1)-this.pb,this.d.y+=this.Tf*(1<this.aa?1:-1)-this.qb,this.d.G(),b=!1,e=this.b.Lc(this.d),this.d.x=k+m,this.d.y=g+l,this.d.G(),a=this.b.Lc(this.d),
!a&&z&&(a=this.b.Wf(this.d))&&(this.d.x=k,this.d.y=g,this.d.G(),this.b.yd(this.d,a)?(a=null,b=!1):b=!0,this.d.x=k+m,this.d.y=g+l,this.d.G()),a?(m=Math.abs(this.aa*d)+2,e||!this.b.Rd(this.d,-this.pb,-this.qb,m,b,a))?(this.b.Rf(this.d,a),m=Math.max(Math.abs(this.aa*d*2.5),30),this.b.Rd(this.d,this.Sf*(0>this.aa?1:-1),this.Tf*(0>this.aa?1:-1),m,!1)?!z||b||this.Bi||(k=this.d.x,g=this.d.y,this.d.x+=this.pb,this.d.y+=this.qb,this.b.Lc(this.d)?this.b.Rd(this.d,-this.pb,-this.qb,3,!1)||(this.d.x=k,this.d.y=
g,this.d.G()):(this.d.x=k,this.d.y=g,this.d.G())):(this.d.x=k,this.d.y=g,this.d.G()),b||(this.aa=0)):!e&&!q&&Math.abs(this.Aa)<Math.abs(this.Ti/4)&&(this.Aa=0,z||(p=!0)):(k=this.nr(),z&&!k?(l=Math.ceil(Math.abs(this.aa*d))+2,k=this.d.x,g=this.d.y,this.d.x+=this.pb*l,this.d.y+=this.qb*l,this.d.G(),this.b.Lc(this.d)||this.b.Wf(this.d)?this.b.Rd(this.d,-this.pb,-this.qb,l+2,!0):(this.d.x=k,this.d.y=g,this.d.G())):k&&(!z&&this.Bi&&(this.hc=k,this.Ef=k.x,this.Ff=k.y,this.Aa=0,p=!0),0===this.Aa&&this.b.Ql(this.d,
-this.pb,-this.qb,k))));if(0!==this.Aa){k=this.d.x;g=this.d.y;this.d.x+=this.Aa*d*this.pb;this.d.y+=this.Aa*d*this.qb;m=this.d.x;a=this.d.y;this.d.G();l=this.b.Lc(this.d);b=!1;if(!l&&0<this.Aa&&!z){if((b=0<this.gh?null:this.b.Wf(this.d,!0))&&b.length){if(this.gi){this.d.x=k;this.d.y=g;this.d.G();f=e=0;for(c=b.length;e<c;e++)b[f]=b[e],this.b.yd(this.d,b[e])||f++;b.length=f;this.d.x=m;this.d.y=a;this.d.G()}1<=b.length&&(l=b[0])}b=!!l}l&&(this.b.Rf(this.d,l),this.Og=0,m=b?Math.abs(this.Aa*d*2.5+10):
Math.max(Math.abs(this.Aa*d*2.5+10),30),this.b.Rd(this.d,this.pb*(0>this.Aa?1:-1),this.qb*(0>this.Aa?1:-1),m,b,l)?(this.hc=l,this.Ef=l.x,this.Ff=l.y,(this.Bi=b)&&(p=!0),this.Aa=0):(this.d.x=k,this.d.y=g,this.d.G(),this.fi=!0,b||(this.Aa=0)))}3!==this.Fd&&0<this.Aa&&!z&&(this.b.trigger(Nc.prototype.j.Cu,this.d),this.Fd=3);(z||p)&&0<=this.Aa&&(3===this.Fd||p||q&&0===this.Aa?(this.b.trigger(Nc.prototype.j.Mu,this.d),this.Fd=0===this.aa&&0===this.Aa?0:1):(0!==this.Fd&&0===this.aa&&0===this.Aa&&(this.b.trigger(Nc.prototype.j.cv,
this.d),this.Fd=0),1===this.Fd||0===this.aa&&0===this.Aa||q||(this.b.trigger(Nc.prototype.j.Pu,this.d),this.Fd=1)));0<this.gh&&this.gh--;this.gi=this.b.Wf(this.d)}};d.prototype.Ku=function(){return!0};d.prototype.Cu=function(){return!0};d.prototype.cv=function(){return!0};d.prototype.Pu=function(){return!0};d.prototype.Mu=function(){return!0};p.j=new d;m.prototype.rv=function(d){this.Vk=d};m.prototype.yv=function(d){switch(d){case 0:this.cm=!0;break;case 1:this.dm=!0;break;case 2:this.Ej=!0}};p.K=
new m;p.Ia=new function(){}})();function Oc(d){this.b=d}
(function(){function d(){}var m=Oc.prototype;m.M=function(d){this.behavior=d;this.b=d.b};m.M.prototype.D=function(){};m.I=function(d,a){this.type=d;this.behavior=d.behavior;this.d=a;this.b=d.b;this.sb=0};var p=m.I.prototype,q=2*Math.PI,h=Math.PI/2,r=3*Math.PI/2;p.D=function(){this.Zb=1===this.u[0];this.Jh=this.u[1];this.Bp=this.u[2];this.Ve=this.u[3];this.Ve+=Math.random()*this.u[4];0===this.Ve?this.sb=0:(this.sb=this.u[5]/this.Ve*q,this.sb+=Math.random()*this.u[6]/this.Ve*q);this.uc=this.u[7];this.uc+=
Math.random()*this.u[8];this.uj=this.xg=this.qa=0;5===this.Jh&&(this.uc=W(this.uc));this.init()};p.Ya=function(){return{i:this.sb,a:this.Zb,mv:this.Jh,w:this.Bp,p:this.Ve,mag:this.uc,iv:this.qa,iv2:this.xg,r:this.uj,lkv:this.Tc,lkv2:this.Vi}};p.lb=function(d){this.sb=d.i;this.Zb=d.a;this.Jh=d.mv;this.Bp=d.w;this.Ve=d.p;this.uc=d.mag;this.qa=d.iv;this.xg=d.iv2||0;this.uj=d.r;this.Tc=d.lkv;this.Vi=d.lkv2||0};p.init=function(){switch(this.Jh){case 0:this.qa=this.d.x;break;case 1:this.qa=this.d.y;break;
case 2:this.qa=this.d.width;this.uj=this.d.height/this.d.width;break;case 3:this.qa=this.d.width;break;case 4:this.qa=this.d.height;break;case 5:this.qa=this.d.n;break;case 6:this.qa=this.d.opacity;break;case 7:this.qa=0;break;case 8:this.qa=this.d.x,this.xg=this.d.y}this.Tc=this.qa;this.Vi=this.xg};p.ye=function(d){d=d%q;switch(this.Bp){case 0:return Math.sin(d);case 1:return d<=h?d/h:d<=r?1-2*(d-h)/Math.PI:(d-r)/h-1;case 2:return 2*d/q-1;case 3:return-2*d/q+1;case 4:return d<Math.PI?-1:1}return 0};
p.Oa=function(){var d=this.b.Qk(this.d);this.Zb&&0!==d&&(0===this.Ve?this.sb=0:(this.sb+=d/this.Ve*q,this.sb=this.sb%q),this.Ez())};p.Ez=function(){switch(this.Jh){case 0:this.d.x!==this.Tc&&(this.qa+=this.d.x-this.Tc);this.d.x=this.qa+this.ye(this.sb)*this.uc;this.Tc=this.d.x;break;case 1:this.d.y!==this.Tc&&(this.qa+=this.d.y-this.Tc);this.d.y=this.qa+this.ye(this.sb)*this.uc;this.Tc=this.d.y;break;case 2:this.d.width=this.qa+this.ye(this.sb)*this.uc;this.d.height=this.d.width*this.uj;break;case 3:this.d.width=
this.qa+this.ye(this.sb)*this.uc;break;case 4:this.d.height=this.qa+this.ye(this.sb)*this.uc;break;case 5:this.d.n!==this.Tc&&(this.qa=Ia(this.qa+(this.d.n-this.Tc)));this.d.n=Ia(this.qa+this.ye(this.sb)*this.uc);this.Tc=this.d.n;break;case 6:this.d.opacity=this.qa+this.ye(this.sb)*this.uc/100;0>this.d.opacity?this.d.opacity=0:1<this.d.opacity&&(this.d.opacity=1);break;case 8:this.d.x!==this.Tc&&(this.qa+=this.d.x-this.Tc),this.d.y!==this.Vi&&(this.xg+=this.d.y-this.Vi),this.d.x=this.qa+Math.cos(this.d.n)*
this.ye(this.sb)*this.uc,this.d.y=this.xg+Math.sin(this.d.n)*this.ye(this.sb)*this.uc,this.Tc=this.d.x,this.Vi=this.d.y}this.d.G()};p.Cs=function(d,a){switch(this.Jh){case 2:this.qa*=a.width/d.width;this.uj=a.height/a.width;break;case 3:this.qa*=a.width/d.width;break;case 4:this.qa*=a.height/d.height}};m.j=new function(){};m.K=new function(){};d.prototype.cq=function(d){d.H(this.ye(this.sb)*this.uc)};m.Ia=new d})();function Pc(d){this.b=d}
(function(){var d=Pc.prototype;d.M=function(d){this.behavior=d;this.b=d.b};d.M.prototype.D=function(){};d.I=function(d,p){this.type=d;this.behavior=d.behavior;this.d=p;this.b=d.b;this.mode=0};d=d.I.prototype;d.D=function(){this.mode=this.u[0]};d.Oa=function(){};d.Pg=function(){this.d.Z();var d=this.d.la,p=this.d.k.tb,q=!1;0===this.mode?(0>this.d.x&&(this.d.x=0,q=!0),0>this.d.y&&(this.d.y=0,q=!0),this.d.x>p.width&&(this.d.x=p.width,q=!0),this.d.y>p.height&&(this.d.y=p.height,q=!0)):(0>d.left&&(this.d.x-=
d.left,q=!0),0>d.top&&(this.d.y-=d.top,q=!0),d.right>p.width&&(this.d.x-=d.right-p.width,q=!0),d.bottom>p.height&&(this.d.y-=d.bottom-p.height,q=!0));q&&this.d.G()}})();function Qc(d){this.b=d;this.ip=this.Zl=this.Cj=this.hp=0}
(function(){var d=Qc.prototype;d.M=function(d){this.behavior=d;this.b=d.b};d.M.prototype.D=function(){};d.I=function(d,m){this.type=d;this.behavior=d.behavior;this.d=m;this.b=d.b};var m=d.I.prototype;m.D=function(){this.enabled=0!==this.u[0]};m.Ya=function(){return{smg:this.behavior.hp,ss:this.behavior.Cj,se:this.behavior.Zl,smd:this.behavior.ip}};m.lb=function(d){this.behavior.hp=d.smg;this.behavior.Cj=d.ss;this.behavior.Zl=d.se;this.behavior.ip=d.smd};m.Oa=function(){};m.Pg=function(){if(this.enabled){var d=
this.behavior.zl.xe(),m=0,h=0,r,l,a,b=0;r=0;for(l=d.length;r<l;r++){a:{a=d[r];for(var e=void 0,c=void 0,f=void 0,e=0,c=a.T.length;e<c;++e)if(f=a.T[e],f.behavior instanceof Qc){a=f;break a}a=null}a&&a.enabled&&(m+=d[r].x,h+=d[r].y,++b)}d=this.d.k.tb;l=this.b.Db.ea;a=r=0;l>=this.behavior.Cj&&l<this.behavior.Zl&&(r=this.behavior.hp*Math.min(this.b.Qg,1),0===this.behavior.ip&&(r*=1-(l-this.behavior.Cj)/(this.behavior.Zl-this.behavior.Cj)),l=Math.random()*Math.PI*2,a=Math.random()*r,r=Math.cos(l)*a,a*=
Math.sin(l));d.cp(m/b+r);d.dp(h/b+a)}};d.K=new function(){}})();function sc(d){this.b=d;this.uo=[]}
(function(){function d(){}function m(){}function p(){}var q=sc.prototype;q.M=function(d,h){this.behavior=d;this.b=d.b;-1===this.behavior.uo.indexOf(h)&&this.behavior.uo.push(h)};q.M.prototype.D=function(){};q.I=function(d,h){this.type=d;this.behavior=d.behavior;this.d=h;this.b=d.b};var h=q.I.prototype;h.D=function(){this.d.J.shadowcasterEnabled=0!==this.u[0];this.d.J.shadowcasterHeight=this.u[1];this.d.J.shadowcasterTag=this.u[2]};h.Oa=function(){};d.prototype.du=function(d,h){return gc(this.d.J.shadowcasterHeight,
d,h)};q.j=new d;m.prototype.qv=function(d){this.d.J.shadowcasterHeight!==d&&(this.d.J.shadowcasterHeight=d,this.b.Da=!0)};q.K=new m;p.prototype.iu=function(d){d.H(this.d.J.shadowcasterHeight)};q.Ia=new p})();function rc(d){this.b=d}
(function(){var d=rc.prototype;d.M=function(d){this.behavior=d;this.b=d.b};d.M.prototype.D=function(){};d.I=function(d,m){this.type=d;this.behavior=d.behavior;this.d=m;this.b=d.b};var m=d.I.prototype;m.D=function(){this.d.J.solidEnabled=0!==this.u[0]};m.Oa=function(){};d.j=new function(){};d.K=new function(){}})();
function qc(){return[uc,vc,wc,xc,Fc,yc,zc,Ac,Cc,Gc,Dc,Bc,Kc,Ec,Z,tc,rc,sc,Nc,Pc,Mc,Qc,Lc,Oc,X.prototype.j.hu,tc.prototype.K.$p,X.prototype.j.Rp,Mc.prototype.K.nv,tc.prototype.K.Av,Dc.prototype.K.$p,tc.prototype.j.eu,tc.prototype.K.Zt,Kc.prototype.j.Kp,Kc.prototype.K.aq,Kc.prototype.Ia.cq,Dc.prototype.K.pv,X.prototype.K.xv,X.prototype.j.lu,xc.prototype.j.Op,Z.prototype.j.Bm,X.prototype.K.Bv,X.prototype.K.Cv,tc.prototype.K.aq,uc.prototype.K.Play,yc.prototype.j.zm,Z.prototype.j.mu,tc.prototype.K.Ip,
tc.prototype.K.tv,Nc.prototype.K.rv,Ac.prototype.K.Ip,X.prototype.j.gu,tc.prototype.K.bq,zc.prototype.K.wv,zc.prototype.K.vv,zc.prototype.K.au,wc.prototype.K.ov,uc.prototype.K.sv,uc.prototype.K.Yt,Nc.prototype.K.yv]};
